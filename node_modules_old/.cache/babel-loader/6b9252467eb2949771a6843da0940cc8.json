{"ast":null,"code":"//console.log(\"Loading SettingsLib.js\");\nfunction Settings() {\n  // list of all controls (visible and invisible)\n  this.controls = [\"Undo\", \"Redo\", \"Mode\", \"Path\", \"Reload\", \"Home\", \"Film\", \"Key\", \"Order\", \"Tooltip\", \"Font\", \"File\", \"Archive\", \"FullScreen\"]; // list of visible controls...\n\n  this.visible = [\"Undo\", \"Redo\", \"Mode\", \"Path\"];\n\n  this.init = function (state) {\n    state.Utils.init(\"Settings\", this);\n  };\n\n  this.makeVisible = function (state, control) {\n    var cid = this.controls.indexOf(control);\n    var vid = this.visible.indexOf(control);\n\n    if (cid !== -1 && vid === -1) {\n      this.visible.push(control);\n      return true;\n    } else {\n      return false;\n    }\n\n    ;\n  };\n\n  this.makeInvisible = function (state, control) {\n    var cid = this.controls.indexOf(control);\n    var vid = this.visible.indexOf(control);\n\n    if (cid !== -1 && vid !== -1) {\n      this.visible.splice(vid, 1);\n      return true;\n    } else {\n      return false;\n    }\n\n    ;\n  };\n\n  this.isVisible = function (state, control) {\n    return this.controls.indexOf(control) !== -1 && this.visible.indexOf(control) !== -1;\n  };\n\n  this.isInvisible = function (state, control) {\n    var visible = this.controls.indexOf(control) !== -1 && this.visible.indexOf(control) === -1; //console.log(\"Checking if \",control,\" is invisible (\",visible,\")\",JSON.stringify(this.visible));\n\n    return visible;\n  };\n\n  this.toggle = function (state, control) {\n    //console.log(\"Toggling:\",control);\n    //throw new Error('Exception message');\n    if (this.isVisible(state, control)) {\n      this.makeInvisible(state, control);\n    } else if (this.isInvisible(state, control)) {\n      this.makeVisible(state, control);\n    }\n\n    ;\n    state.Utils.pushUrl(state);\n    state.React.Config.show(state);\n  };\n\n  this.getVisible = function (state) {\n    var arr = [];\n    var lenc = this.controls.length;\n\n    for (var ii = 0; ii < lenc; ii++) {\n      var control = this.controls[ii];\n\n      if (this.visible.indexOf(control) !== -1) {\n        arr.push(control);\n      }\n    }\n\n    ;\n    return arr;\n  };\n\n  this.getInvisible = function (state) {\n    var arr = [];\n    var lenc = this.controls.length;\n\n    for (var ii = 0; ii < lenc; ii++) {\n      var control = this.controls[ii];\n\n      if (this.visible.indexOf(control) === -1) {\n        arr.push(control);\n      }\n    }\n\n    ;\n    return arr;\n  };\n}\n\nexport default Settings;","map":{"version":3,"sources":["/home/franktt/react/varseltavle_new/src/lib/SettingsLib.js"],"names":["Settings","controls","visible","init","state","Utils","makeVisible","control","cid","indexOf","vid","push","makeInvisible","splice","isVisible","isInvisible","toggle","pushUrl","React","Config","show","getVisible","arr","lenc","length","ii","getInvisible"],"mappings":"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","sourcesContent":["//console.log(\"Loading SettingsLib.js\");\n\nfunction Settings() {\n    // list of all controls (visible and invisible)\n    this.controls=[\"Undo\",\"Redo\",\"Mode\",\"Path\",\n\t\t   \"Reload\",\"Home\",\"Film\",\"Key\",\n\t\t   \"Order\",\"Tooltip\",\"Font\",\"File\",\n\t\t   \"Archive\",\"FullScreen\"];\n    // list of visible controls...\n    this.visible=[\"Undo\",\"Redo\",\"Mode\",\"Path\"];\n    this.init=function(state){\n\tstate.Utils.init(\"Settings\",this);\n    };\n    this.makeVisible=function(state,control) {\n\tvar cid=this.controls.indexOf(control);\n\tvar vid=this.visible.indexOf(control);\n\tif (cid !== -1 && vid === -1) {\n\t    this.visible.push(control);\n\t    return true;\n\t} else {\n\t    return false;\n\t};\n    };\n    this.makeInvisible=function(state,control) {\n\tvar cid=this.controls.indexOf(control);\n\tvar vid=this.visible.indexOf(control);\n\tif (cid !== -1 && vid !== -1) {\n\t    this.visible.splice(vid,1);\n\t    return true;\n\t} else {\n\t    return false;\n\t};\n    };\n    this.isVisible=function(state,control) {\n\treturn (this.controls.indexOf(control)!==-1 && this.visible.indexOf(control)!==-1);\n    }\n    this.isInvisible=function(state,control) {\n\tvar visible=this.controls.indexOf(control)!==-1 && this.visible.indexOf(control)===-1;\n\t//console.log(\"Checking if \",control,\" is invisible (\",visible,\")\",JSON.stringify(this.visible));\n\treturn (visible);\n    }\n    this.toggle=function(state,control) {\n\t//console.log(\"Toggling:\",control);\n\t//throw new Error('Exception message');\n\tif (this.isVisible(state,control)) {\n\t    this.makeInvisible(state,control);\n\t} else if (this.isInvisible(state,control)) {\n\t    this.makeVisible(state,control);\n\t};\n\tstate.Utils.pushUrl(state);\n\tstate.React.Config.show(state);\n    };\n    this.getVisible=function(state) {\n\tvar arr=[];\n\tvar lenc=this.controls.length;\n\tfor (var ii=0;ii<lenc;ii++) {\n\t    var control=this.controls[ii];\n\t    if (this.visible.indexOf(control)!==-1) {\n\t\tarr.push(control);\n\t    }\n\t};\n\treturn arr;\n    };\n    this.getInvisible=function(state) {\n\tvar arr=[];\n\tvar lenc=this.controls.length;\n\tfor (var ii=0;ii<lenc;ii++) {\n\t    var control=this.controls[ii];\n\t    if (this.visible.indexOf(control)===-1) {\n\t\tarr.push(control);\n\t    }\n\t};\n\treturn arr;\n    };\n}\nexport default Settings;\n"]},"metadata":{},"sourceType":"module"}