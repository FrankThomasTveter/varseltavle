{"ast":null,"code":"import _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/ModeComponent.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem'; //import Chip from '@material-ui/core/Chip';\n\nimport FlagIcon from '@material-ui/icons/Flag';\nimport BarIcon from '@material-ui/icons/BarChart';\nimport ListIcon from '@material-ui/icons/Details';\nimport ChartIcon from '@material-ui/icons/Map';\nimport GlobeIcon from '@material-ui/icons/Public';\n\nvar styles = function styles(theme) {\n  return {\n    button: {\n      color: 'white'\n    },\n    buttonInvisible: {\n      color: 'gray'\n    },\n    chip: {\n      margin: theme.spacing(1),\n      cursor: \"pointer\",\n      color: 'white'\n    }\n  };\n};\n\nfunction getModes(state, mode) {\n  if (mode !== undefined) {\n    var layoutMode = 0;\n    var cellMode = 0;\n\n    if (mode === \"Flags\") {\n      layoutMode = state.Layout.modes.layout.Table;\n      cellMode = state.Layout.modes.cell.Sum;\n    } else if (mode === \"Bars\") {\n      layoutMode = state.Layout.modes.layout.Table;\n      cellMode = state.Layout.modes.cell.Series;\n    } else if (mode === \"List\") {\n      layoutMode = state.Layout.modes.layout.List;\n    } else if (mode === \"Chart\") {\n      layoutMode = state.Layout.modes.layout.Chart;\n    } else if (mode === \"Globe\") {\n      layoutMode = state.Layout.modes.layout.Globe;\n    } else {\n      layoutMode = mode;\n      cellMode = state.Layout.modes.cell.Sum;\n    }\n\n    return {\n      layout: layoutMode,\n      cell: cellMode\n    };\n  } else {\n    return {\n      layout: state.Layout.state.layoutMode,\n      cell: state.Layout.state.cellMode\n    };\n  }\n\n  ;\n}\n\n;\n\nfunction ModeIcon(props) {\n  var state = props.state,\n      classes = props.classes,\n      mode = props.mode; //console.log(\"Classes:\",JSON.stringify(classes));\n\n  var modes = getModes(state, mode);\n  var layoutMode = modes.layout;\n  var cellMode = modes.cell;\n\n  if (layoutMode === state.Layout.modes.layout.Table) {\n    if (cellMode === state.Layout.modes.cell.Sum) {\n      return /*#__PURE__*/React.createElement(FlagIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 14\n        }\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(BarIcon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 14\n        }\n      });\n    }\n  } else if (layoutMode === state.Layout.modes.layout.List) {\n    return /*#__PURE__*/React.createElement(ListIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 10\n      }\n    });\n  } else if (layoutMode === state.Layout.modes.layout.Chart) {\n    return /*#__PURE__*/React.createElement(ChartIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 10\n      }\n    });\n  } else if (layoutMode === state.Layout.modes.layout.Globe) {\n    return /*#__PURE__*/React.createElement(GlobeIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }\n    });\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.chip,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 10\n      }\n    }, \" \", layoutMode, \" \");\n  }\n}\n\n;\n\nfunction renderMode(state, classes, onclose, mode, index) {\n  var modes = getModes(state, mode);\n  var layoutMode = modes.layout;\n  var cellMode = modes.cell;\n\n  var onclick = function onclick(event) {\n    state.Layout.toggleMode(state, layoutMode, cellMode);\n    onclose();\n  };\n\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    key: mode,\n    onClose: onclose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    classes: {\n      root: classes.button\n    },\n    onClick: onclick,\n    title: mode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ModeIcon, {\n    state: state,\n    classes: classes,\n    mode: mode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }\n  })));\n}\n\n;\n\nvar Mode = /*#__PURE__*/function (_Component) {\n  _inherits(Mode, _Component);\n\n  var _super = _createSuper(Mode);\n\n  function Mode() {\n    var _this;\n\n    _classCallCheck(this, Mode);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      anchor: null\n    };\n    return _this;\n  }\n\n  _createClass(Mode, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          state = _this$props.state,\n          visible = _this$props.visible;\n      var title;\n\n      if (visible !== undefined && !visible && state.Settings.isInvisible(state, \"Mode\")) {\n        return null;\n      } else if (visible !== undefined) {\n        var modes = [\"Flags\", \"Bars\", \"List\", \"Chart\", \"Globe\"];\n        state.Custom.addMaps(state, modes);\n\n        this.onClose = function () {\n          _this2.setState({\n            anchor: null\n          });\n        };\n\n        this.onClick = function (event) {\n          _this2.setState({\n            anchor: event.currentTarget\n          });\n        };\n\n        title = \"Select mode\";\n\n        var mapFunction = function mapFunction(mode, index) {\n          return renderMode(state, classes, _this2.onClose, mode, index);\n        };\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: classes.view,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 14\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          className: classes.button,\n          \"aria-owns\": this.state.anchor ? 'mode-menu' : undefined,\n          \"aria-haspopup\": \"true\",\n          onClick: this.onClick,\n          title: \"Select mode.\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 7\n          }\n        }, /*#__PURE__*/React.createElement(ModeIcon, {\n          state: state,\n          classes: classes,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 4\n          }\n        })), /*#__PURE__*/React.createElement(Menu, {\n          id: \"mode-menu\",\n          anchorEl: this.state.anchor,\n          open: Boolean(this.state.anchor),\n          onClose: this.onClose,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 12\n          }\n        }, modes.map(mapFunction)));\n      } else {\n        title = \"Show mode\";\n\n        var onclick = function onclick(event) {\n          state.Settings.toggle(state, \"Mode\");\n        };\n\n        if (state.Settings.isInvisible(state, \"Mode\")) {\n          return /*#__PURE__*/React.createElement(Button, {\n            key: \"mode\",\n            className: classes.buttonInvisible,\n            onClick: onclick,\n            title: title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(ModeIcon, {\n            state: state,\n            classes: classes,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 5\n            }\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(Button, {\n            key: \"mode\",\n            className: classes.button,\n            onClick: onclick,\n            title: title,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(ModeIcon, {\n            state: state,\n            classes: classes,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 5\n            }\n          }));\n        }\n\n        ;\n      }\n    }\n  }]);\n\n  return Mode;\n}(Component);\n\n;\nMode.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Mode);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/ModeComponent.js"],"names":["React","Component","PropTypes","withStyles","Button","Menu","MenuItem","FlagIcon","BarIcon","ListIcon","ChartIcon","GlobeIcon","styles","theme","button","color","buttonInvisible","chip","margin","spacing","cursor","getModes","state","mode","undefined","layoutMode","cellMode","Layout","modes","layout","Table","cell","Sum","Series","List","Chart","Globe","ModeIcon","props","classes","renderMode","onclose","index","onclick","event","toggleMode","root","Mode","anchor","visible","title","Settings","isInvisible","Custom","addMaps","onClose","setState","onClick","currentTarget","mapFunction","view","Boolean","map","toggle","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n//import Chip from '@material-ui/core/Chip';\n\nimport FlagIcon from '@material-ui/icons/Flag';\nimport BarIcon from '@material-ui/icons/BarChart';\nimport ListIcon from '@material-ui/icons/Details';\nimport ChartIcon from '@material-ui/icons/Map';\nimport GlobeIcon from '@material-ui/icons/Public';\n\nconst styles = theme => ({\n    button:{\n\tcolor:'white'\n    },\n    buttonInvisible:{\n\tcolor:'gray'\n    },\n    chip: {\n        margin: theme.spacing(1),\n        cursor: \"pointer\",\n\tcolor:'white'\n    },\n});\n\nfunction getModes(state,mode) {\n    if (mode !== undefined) {\n\tvar layoutMode=0;\n\tvar cellMode=0;\n\tif (mode === \"Flags\") {\n\t    layoutMode=state.Layout.modes.layout.Table;\n\t    cellMode=state.Layout.modes.cell.Sum;\n\t} else if (mode === \"Bars\") {\n\t    layoutMode=state.Layout.modes.layout.Table;\n\t    cellMode=state.Layout.modes.cell.Series;\n\t} else if (mode === \"List\") {\n\t    layoutMode=state.Layout.modes.layout.List;\n\t} else if (mode === \"Chart\") {\n\t    layoutMode=state.Layout.modes.layout.Chart;\n\t} else if (mode === \"Globe\") {\n\t    layoutMode=state.Layout.modes.layout.Globe;\n\t} else {\n\t    layoutMode=mode;\n\t    cellMode=state.Layout.modes.cell.Sum;\n\t}\n\treturn {layout:layoutMode,cell:cellMode};\n    } else {\n\treturn {layout:state.Layout.state.layoutMode,cell:state.Layout.state.cellMode};\n    };\n};\n\nfunction ModeIcon (props) {\n    const {state,classes,mode} = props;\n    //console.log(\"Classes:\",JSON.stringify(classes));\n    var modes=getModes(state,mode);\n    var layoutMode=modes.layout;\n    var cellMode=modes.cell;\n    if (layoutMode === state.Layout.modes.layout.Table) {\n\tif (cellMode === state.Layout.modes.cell.Sum) {\n\t    return (<FlagIcon/>);\n\t} else {\n\t    return (<BarIcon/>);\n\t}\n    } else if (layoutMode === state.Layout.modes.layout.List) {\n\treturn (<ListIcon/>);\n    } else if (layoutMode === state.Layout.modes.layout.Chart) {\n\treturn (<ChartIcon/>);\n    } else if (layoutMode === state.Layout.modes.layout.Globe) {\n\treturn (<GlobeIcon/>);\n    } else {\n\treturn (<div className={classes.chip}> {layoutMode} </div>);\n    }\n};\n\nfunction renderMode (state,classes,onclose,mode,index) {\n    var modes=getModes(state,mode);\n    var layoutMode=modes.layout;\n    var cellMode=modes.cell;\n    var onclick = (event) => {state.Layout.toggleMode(state,layoutMode,cellMode);onclose();};\n    return (<MenuItem key={mode} onClose={onclose}>\n\t       <Button classes={{root:classes.button}} onClick={onclick} title={mode}>\n\t          <ModeIcon state={state} classes={classes} mode={mode}/>\n\t       </Button>\n\t    </MenuItem>);\n};\n\nclass Mode extends Component {\n    state = {anchor: null,};\n    render() {\n\tconst {classes, state, visible}=this.props;\n\tvar title;\n\tif (visible !== undefined && ! visible && state.Settings.isInvisible(state,\"Mode\")) {\n\t    return null;\n\t} else if (visible!==undefined) {\n\t    var modes=[\"Flags\",\"Bars\",\"List\",\"Chart\",\"Globe\"];\n\t    state.Custom.addMaps(state,modes);\n\t    this.onClose = () => {this.setState({ anchor: null });};\n\t    this.onClick = (event) => {this.setState({ anchor: event.currentTarget });};\n\t    title=\"Select mode\";\n\t    var mapFunction= (mode,index)=>renderMode(state,classes,this.onClose,mode,index);\n\t    return (<div className={classes.view}>\n\t\t    <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'mode-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Select mode.\"}\n\t\t   >\n\t\t{<ModeIcon state={state} classes={classes}/>}\n                   </Button>\n\t          <Menu\n                   id=\"mode-menu\"\n\t           anchorEl={this.state.anchor}\n                   open={Boolean(this.state.anchor)}\n                   onClose={this.onClose}\n\t          >\n\t\t    {modes.map(mapFunction)}\n\t          </Menu>\n\t\t    </div>);\n\t} else {\n\t    title=\"Show mode\";\n\t    var onclick = (event) => {state.Settings.toggle(state,\"Mode\");}\n\t    if (state.Settings.isInvisible(state,\"Mode\")) {\n\t\treturn (<Button key=\"mode\" className={classes.buttonInvisible} onClick={onclick} title={title}>\n\t\t\t{<ModeIcon state={state} classes={classes}/>}\n\t\t\t</Button>);\n\t    } else {\n\t\treturn (<Button key=\"mode\" className={classes.button} onClick={onclick} title={title}>\n\t\t\t{<ModeIcon state={state} classes={classes}/>}\n\t\t\t</Button>);\n\t    };\n\t}\n    }\n};\nMode.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nexport default withStyles(styles)(Mode);\n"]},"metadata":{},"sourceType":"module"}