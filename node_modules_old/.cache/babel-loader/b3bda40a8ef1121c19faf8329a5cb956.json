{"ast":null,"code":"import _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/FilmReelMenuComponent.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport FilmIcon from '@material-ui/icons/Theaters';\nimport TrashIcon from '@material-ui/icons/Delete';\nimport UpwardIcon from '@material-ui/icons/ArrowUpward';\n\nvar styles = function styles(theme) {\n  return {\n    reel: {\n      display: 'inline-block',\n      marginRight: 'auto',\n      height: '100%'\n    },\n    tableReel: {\n      display: 'inline-block',\n      marginRight: 'auto'\n    },\n    button: {\n      color: 'white',\n      \"&$buttonDisabled\": {\n        color: theme.palette.primary.main\n      }\n    },\n    buttonInvisible: {},\n    buttonDisabled: {}\n  };\n};\n\nfunction RemoveReel(props) {\n  var classes = props.classes,\n      index = props.index,\n      onRemove = props.onRemove; //state,\n\n  var onremove = function onremove() {\n    onRemove(index);\n  };\n\n  var title = \"Reel\";\n  return /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    onClick: onremove,\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(TrashIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 80\n    }\n  }));\n}\n\n;\n\nfunction UpwardReel(props) {\n  var classes = props.classes,\n      index = props.index,\n      onUpward = props.onUpward; //state,\n\n  var onupward = function onupward() {\n    onUpward(index);\n  };\n\n  var title = \"Reel\";\n  return /*#__PURE__*/React.createElement(Button, {\n    className: classes.button,\n    onClick: onupward,\n    title: title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(UpwardIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 80\n    }\n  }));\n}\n\n;\n\nfunction renderMenuItem(classes, state, keyitem, keyindex, onRemove, onUpward) {\n  var onclick = function onclick() {\n    state.Path.nextFilm(state, keyindex);\n  };\n\n  if (keyindex === 0) {\n    // remove\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      className: classes.order,\n      key: \"film_\" + keyindex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(RemoveReel, {\n      state: state,\n      classes: {\n        button: classes.button\n      },\n      index: keyindex,\n      onRemove: onRemove,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Chip, {\n      icon: null,\n      label: keyitem.label,\n      onClick: onclick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 3\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(MenuItem, {\n      className: classes.order,\n      key: \"film_\" + keyindex,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(UpwardReel, {\n      state: state,\n      classes: {\n        button: classes.button\n      },\n      index: keyindex,\n      onUpward: onUpward,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 3\n      }\n    }), /*#__PURE__*/React.createElement(Chip, {\n      icon: null,\n      onClick: onclick,\n      label: keyitem.label,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 3\n      }\n    }));\n  }\n}\n\nvar ReelMenu = /*#__PURE__*/function (_Component) {\n  _inherits(ReelMenu, _Component);\n\n  var _super = _createSuper(ReelMenu);\n\n  function ReelMenu(props) {\n    var _this;\n\n    _classCallCheck(this, ReelMenu);\n\n    _this = _super.call(this, props);\n    var state = props.state;\n    _this.state = {\n      anchor: null,\n      label: \"\"\n    }; //state.Path.getLabel(state)\n\n    _this.onClick = function (event) {\n      _this.setState({\n        anchor: event.currentTarget\n      });\n    };\n\n    _this.onClose = function () {\n      _this.setState({\n        anchor: null\n      });\n    };\n\n    _this.onRemove = function (index) {\n      _this.setState({\n        label: state.Path.removeFilm(state, index)\n      });\n    };\n\n    _this.onUpward = function (index) {\n      state.Path.moveFilm(state, index);\n      state.Show.showConfig(state);\n      state.Show.showSettings(state);\n    }; //\n\n\n    _this.onClick = _this.onClick.bind(_assertThisInitialized(_this));\n    _this.onClose = _this.onClose.bind(_assertThisInitialized(_this));\n    _this.onRemove = _this.onRemove.bind(_assertThisInitialized(_this));\n    _this.onUpward = _this.onUpward.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ReelMenu, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          state = _this$props.state; //var label=state.Path.getLabel(state);\n\n      var items = state.Path.getReels(state);\n\n      var mapFunction = function mapFunction(item, index) {\n        return renderMenuItem(classes, state, item, index, _this2.onRemove, _this2.onUpward);\n      }; //console.log(\"Length:\",items.length,JSON.stringify(items));\n\n\n      var content;\n\n      if (items.length === 0) {\n        content = null;\n      } else {\n        content = /*#__PURE__*/React.createElement(Menu, {\n          className: classes.tableReel,\n          id: \"reel-menu\",\n          anchorEl: this.state.anchor,\n          open: Boolean(this.state.anchor),\n          onClose: this.onClose,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 14\n          }\n        }, items.map(mapFunction));\n      }\n\n      ;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.tableReel,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        classes: {\n          root: classes.button,\n          disabled: classes.buttonDisabled\n        },\n        \"aria-owns\": this.state.anchor ? 'reel-menu' : undefined,\n        \"aria-haspopup\": \"true\",\n        onClick: this.onClick,\n        title: \"Reel\",\n        disabled: items.length === 0,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(FilmIcon, {\n        state: state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }\n      })), content);\n    }\n  }]);\n\n  return ReelMenu;\n}(Component);\n\nReelMenu.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(ReelMenu);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/FilmReelMenuComponent.js"],"names":["React","Component","PropTypes","withStyles","Button","Menu","MenuItem","Chip","FilmIcon","TrashIcon","UpwardIcon","styles","theme","reel","display","marginRight","height","tableReel","button","color","palette","primary","main","buttonInvisible","buttonDisabled","RemoveReel","props","classes","index","onRemove","onremove","title","UpwardReel","onUpward","onupward","renderMenuItem","state","keyitem","keyindex","onclick","Path","nextFilm","order","label","ReelMenu","anchor","onClick","event","setState","currentTarget","onClose","removeFilm","moveFilm","Show","showConfig","showSettings","bind","items","getReels","mapFunction","item","content","length","Boolean","map","root","disabled","undefined","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\n\nimport FilmIcon from '@material-ui/icons/Theaters';\nimport TrashIcon from '@material-ui/icons/Delete';\nimport UpwardIcon from '@material-ui/icons/ArrowUpward';\n\nconst styles = theme => ({\n    reel: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n    tableReel: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    button: {\n\tcolor:'white',\n\t\"&$buttonDisabled\": {\n            color: theme.palette.primary.main,\n\t},\n    },\n    buttonInvisible:{},\n    buttonDisabled: {},\n});\nfunction RemoveReel(props) {\n    const {classes,index,onRemove}=props; //state,\n    var onremove= () => {onRemove(index);};\n    var title=\"Reel\";\n    return <Button className={classes.button} onClick={onremove} title={title}><TrashIcon/></Button>;\n};\nfunction UpwardReel(props) {\n    const {classes,index,onUpward}=props; //state,\n    var onupward= () => {onUpward(index);};\n    var title=\"Reel\";\n    return <Button className={classes.button} onClick={onupward} title={title}><UpwardIcon/></Button>;\n};\nfunction renderMenuItem(classes,state,keyitem,keyindex,onRemove,onUpward) {\n    var onclick=() => {state.Path.nextFilm(state,keyindex);};\n    if (keyindex===0) { // remove\n\treturn ( <MenuItem className={classes.order} key={\"film_\" + keyindex}>\n\t\t<RemoveReel state={state} classes={{button:classes.button}} index={keyindex} onRemove={onRemove}/>\n\t\t<Chip icon={null} label={keyitem.label} onClick={onclick}/>\n\t\t</MenuItem>\n\t       );\n    } else {\n\treturn (<MenuItem className={classes.order} key={\"film_\" + keyindex}>\n\t\t<UpwardReel state={state} classes={{button:classes.button}} index={keyindex} onUpward={onUpward}/>\n\t\t<Chip icon={null} onClick={onclick} label={keyitem.label}/>\n\t\t</MenuItem>\n\t       );\n    }\n}\nclass ReelMenu extends Component {\n    constructor(props) {\n\tsuper(props);\n\tconst {state} = props;\n\tthis.state={anchor:null, label:\"\"};\n\t//state.Path.getLabel(state)\n\tthis.onClick  = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose  = () => {this.setState({ anchor: null });};\n\tthis.onRemove = (index) => {this.setState({label:state.Path.removeFilm(state,index)});};\n\tthis.onUpward = (index) => {state.Path.moveFilm(state,index);state.Show.showConfig(state);state.Show.showSettings(state);};\n\t//\n\tthis.onClick=this.onClick.bind(this);\n\tthis.onClose=this.onClose.bind(this);\n\tthis.onRemove=this.onRemove.bind(this);\n\tthis.onUpward=this.onUpward.bind(this);\n    };\n    \n    render() {\n        const { classes, state } = this.props;\n\t//var label=state.Path.getLabel(state);\n\tvar items=state.Path.getReels(state);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index,this.onRemove,this.onUpward);\n\t//console.log(\"Length:\",items.length,JSON.stringify(items));\n\tlet content;\n\tif (items.length===0) {\n\t    content=null;\n\t} else {\n\t    content=<Menu\n\t                className={classes.tableReel}\n                        id=\"reel-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t\t    {items.map(mapFunction)}\n\t             </Menu>\n\t};\n\treturn (<div className={classes.tableReel}>\n\t\t   <Button\n                      classes={{root:classes.button,disabled:classes.buttonDisabled}}\n                      aria-owns={this.state.anchor ? 'reel-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Reel\"}\n\t\t      disabled={items.length===0} \n\t\t    >\n\t  \t        <FilmIcon state={state}/>\n\t\t    </Button>\n\t\t    {content}\n\t\t </div>);\n    }\n}\n\nReelMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ReelMenu);\n"]},"metadata":{},"sourceType":"module"}