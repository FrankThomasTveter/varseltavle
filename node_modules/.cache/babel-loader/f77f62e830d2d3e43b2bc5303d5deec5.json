{"ast":null,"code":"import _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/SubTableComponent.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { teal_palette } from '../mui/metMuiThemes';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport SummaryCell from './SummaryCell';\nimport SeriesCell from './SeriesCell';\nimport CanvasText from './CanvasTextComponent';\nimport CellTooltip from './CellTooltip';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      height: '100%'\n    },\n    paper: {\n      overflow: 'hidden',\n      tableLayout: 'fixed',\n      padding: 0,\n      margin: 0\n    },\n    divTable: {\n      display: 'table',\n      width: '100%'\n    },\n    divTableRow: {\n      backgroundColor: teal_palette.main,\n      border: '0px solid #999999',\n      display: 'table-row',\n      padding: '2px'\n    },\n    divTableCell: {\n      border: '0px solid #999999',\n      display: 'table-cell',\n      padding: '2px'\n    },\n    divTableBody: {\n      display: 'table-row-group'\n    }\n  };\n}; //const mui = createTheme({palette:teal_palette});\n// ---------------- DATA\n\n\nfunction FirstDataCell(props) {\n  var classes = props.classes,\n      state = props.state,\n      rowval = props.rowval,\n      rowindex = props.rowindex;\n\n  if (rowindex % 2 === 1) {\n    return React.createElement(\"div\", {\n      className: classes.divTableCell,\n      style: {\n        backgroundColor: '#DDD'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, rowval);\n  } else {\n    return React.createElement(\"div\", {\n      className: classes.divTableCell,\n      style: {\n        backgroundColor: '#EEE'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, rowval);\n  }\n} //{rowval}\n\n\nfunction DataCell(props) {\n  var classes = props.classes,\n      state = props.state,\n      val = props.val,\n      rowindex = props.rowindex;\n  var rval = parseFloat(val, 0); //console.log(\"Rval:\",JSON.stringify(rval));\n\n  if (rval !== null && rval !== NaN) {\n    rval = rval.toFixed(2);\n  } else {\n    rval = val;\n  }\n\n  ;\n\n  if (rowindex % 2 === 0) {\n    return React.createElement(\"div\", {\n      className: classes.divTableCell,\n      style: {\n        backgroundColor: '#EEE'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, rval);\n  } else {\n    return React.createElement(\"div\", {\n      className: classes.divTableCell,\n      style: {\n        backgroundColor: '#DDD'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, rval);\n  }\n}\n\nfunction renderDataCell(classes, state, key, sub, rowindex, colindex) {\n  return React.createElement(DataCell, {\n    classes: classes,\n    state: state,\n    key: \"\".concat(rowindex, \"-\").concat(colindex),\n    val: sub[key],\n    rowindex: rowindex,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  });\n} //{{rowkey:'test1',colkey:'test2',title:title}}\n\n\nfunction dataRow(classes, state, key, subs, rowindex) {\n  var cnt = 1,\n      ii = subs.length; // calculate number of entries\n  //while (ii--) {if (typeof subs[ii][key] !== \"undefined\") cnt++;}\n\n  if (cnt === 0) {\n    return null; // no entries, ignore row...\n  } else {\n    var mapFunction = function mapFunction(sub, colindex) {\n      return renderDataCell(classes, state, key, sub, rowindex, colindex);\n    };\n\n    return React.createElement(\"div\", {\n      className: classes.divTableRow,\n      key: rowindex.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(FirstDataCell, {\n      classes: classes,\n      state: state,\n      key: 'k-' + rowindex,\n      rowval: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), subs.map(mapFunction));\n  }\n\n  ;\n}\n\n; // ---------------- Details\n\nfunction Details(props) {\n  var classes = props.classes,\n      state = props.state,\n      keys = props.keys,\n      subs = props.subs; // classes, element\n\n  var mapFunction = function mapFunction(key, rowindex) {\n    return dataRow(classes, state, key, subs, rowindex);\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.divTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.divTableBody,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, keys.map(mapFunction)));\n}\n\nvar SubTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SubTable, _Component);\n\n  function SubTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SubTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SubTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.updateWindowDimensions = function () {\n      _this.width = window.innerWidth;\n      _this.height = window.innerHeight;\n      _this.bbx = _this.el.getBoundingClientRect();\n      console.log(\"Width/Height:\", _this.width, _this.height, _this.bbx.width, _this.bbx.height);\n    };\n\n    return _this;\n  }\n\n  _createClass(SubTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"resize\", this.updateWindowDimensions);\n    }\n  }, {\n    key: \"element\",\n    value: function element(el) {\n      if (el !== undefined && el !== null) {\n        this.el = el;\n        this.bbx = this.el.getBoundingClientRect();\n        console.log(\"BBX width/height:\", this.bbx.width, this.bbx.height);\n      }\n\n      ;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          state = _this$props.state,\n          classes = _this$props.classes,\n          keys = _this$props.keys,\n          subs = _this$props.subs; //console.log(\"##### Rendering SubTable.\");\n\n      return React.createElement(\"div\", {\n        ref: function ref(el) {\n          _this2.element(el);\n        },\n        className: classes.root,\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Details, {\n        state: state,\n        classes: classes,\n        element: this,\n        keys: keys,\n        subs: subs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return SubTable;\n}(Component);\n\nSubTable.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(SubTable);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/SubTableComponent.js"],"names":["React","Component","PropTypes","withStyles","teal_palette","Paper","Grid","SummaryCell","SeriesCell","CanvasText","CellTooltip","styles","theme","root","height","paper","overflow","tableLayout","padding","margin","divTable","display","width","divTableRow","backgroundColor","main","border","divTableCell","divTableBody","FirstDataCell","props","classes","state","rowval","rowindex","DataCell","val","rval","parseFloat","NaN","toFixed","renderDataCell","key","sub","colindex","dataRow","subs","cnt","ii","length","mapFunction","toString","map","Details","keys","SubTable","updateWindowDimensions","window","innerWidth","innerHeight","bbx","el","getBoundingClientRect","console","log","addEventListener","undefined","element","propTypes","object","isRequired"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AAEA,SAAQC,YAAR,QAA2B,qBAA3B;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAwB,cAAxB;AACA,OAAOC,UAAP,MAAwB,uBAAxB;AACA,OAAOC,WAAP,MAAyB,eAAzB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACrBC,IAAAA,IAAI,EAAE;AACTC,MAAAA,MAAM,EAAE;AADC,KADe;AAIrBC,IAAAA,KAAK,EAAE;AACVC,MAAAA,QAAQ,EAAE,QADA;AAEVC,MAAAA,WAAW,EAAE,OAFH;AAGVC,MAAAA,OAAO,EAAC,CAHE;AAIVC,MAAAA,MAAM,EAAC;AAJG,KAJc;AAUrBC,IAAAA,QAAQ,EAAE;AACbC,MAAAA,OAAO,EAAE,OADI;AAEbC,MAAAA,KAAK,EAAE;AAFM,KAVW;AAcrBC,IAAAA,WAAW,EAAG;AACjBC,MAAAA,eAAe,EAACpB,YAAY,CAACqB,IADZ;AAEjBC,MAAAA,MAAM,EAAE,mBAFS;AAGjBL,MAAAA,OAAO,EAAE,WAHQ;AAIjBH,MAAAA,OAAO,EAAE;AAJQ,KAdO;AAoBrBS,IAAAA,YAAY,EAAC;AAChBD,MAAAA,MAAM,EAAE,mBADQ;AAEhBL,MAAAA,OAAO,EAAE,YAFO;AAGhBH,MAAAA,OAAO,EAAE;AAHO,KApBQ;AAyBrBU,IAAAA,YAAY,EAAG;AAClBP,MAAAA,OAAO,EAAE;AADS;AAzBM,GAAL;AAAA,CAApB,C,CA8BA;AAEA;;;AACA,SAASQ,aAAT,CAAwBC,KAAxB,EAA+B;AAAA,MACnBC,OADmB,GACiBD,KADjB,CACnBC,OADmB;AAAA,MACVC,KADU,GACiBF,KADjB,CACVE,KADU;AAAA,MACHC,MADG,GACiBH,KADjB,CACHG,MADG;AAAA,MACKC,QADL,GACiBJ,KADjB,CACKI,QADL;;AAE3B,MAAIA,QAAQ,GAAC,CAAT,KAAe,CAAnB,EAAsB;AACzB,WAAQ;AAAK,MAAA,SAAS,EAAEH,OAAO,CAACJ,YAAxB;AAAsC,MAAA,KAAK,EAAE;AAACH,QAAAA,eAAe,EAAC;AAAjB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACNS,MADM,CAAR;AAGI,GAJD,MAIO;AACV,WAAQ;AAAK,MAAA,SAAS,EAAEF,OAAO,CAACJ,YAAxB;AAAsC,MAAA,KAAK,EAAE;AAACH,QAAAA,eAAe,EAAC;AAAjB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACNS,MADM,CAAR;AAGI;AACJ,C,CACD;;;AACA,SAASE,QAAT,CAAkBL,KAAlB,EAAyB;AAAA,MACdC,OADc,GACcD,KADd,CACdC,OADc;AAAA,MACNC,KADM,GACcF,KADd,CACNE,KADM;AAAA,MACAI,GADA,GACcN,KADd,CACAM,GADA;AAAA,MACIF,QADJ,GACcJ,KADd,CACII,QADJ;AAErB,MAAIG,IAAI,GAACC,UAAU,CAACF,GAAD,EAAK,CAAL,CAAnB,CAFqB,CAGrB;;AACA,MAAIC,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAKE,GAA9B,EAAmC;AACtCF,IAAAA,IAAI,GAACA,IAAI,CAACG,OAAL,CAAa,CAAb,CAAL;AACI,GAFD,MAEO;AACVH,IAAAA,IAAI,GAACD,GAAL;AACI;;AAAA;;AACD,MAAIF,QAAQ,GAAC,CAAT,KAAa,CAAjB,EAAoB;AACvB,WAAO;AAAK,MAAA,SAAS,EAAEH,OAAO,CAACJ,YAAxB;AAAsC,MAAA,KAAK,EAAE;AAACH,QAAAA,eAAe,EAAC;AAAjB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwEa,IAAxE,CAAP;AACI,GAFD,MAEO;AACV,WAAO;AAAK,MAAA,SAAS,EAAEN,OAAO,CAACJ,YAAxB;AAAsC,MAAA,KAAK,EAAE;AAACH,QAAAA,eAAe,EAAC;AAAjB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwEa,IAAxE,CAAP;AACI;AACJ;;AACD,SAASI,cAAT,CAAwBV,OAAxB,EAAgCC,KAAhC,EAAsCU,GAAtC,EAA0CC,GAA1C,EAA8CT,QAA9C,EAAuDU,QAAvD,EAAiE;AAC7D,SAAQ,oBAAC,QAAD;AAAU,IAAA,OAAO,EAAEb,OAAnB;AAA4B,IAAA,KAAK,EAAEC,KAAnC;AAA0C,IAAA,GAAG,YAAKE,QAAL,cAAiBU,QAAjB,CAA7C;AAA0E,IAAA,GAAG,EAAED,GAAG,CAACD,GAAD,CAAlF;AAAyF,IAAA,QAAQ,EAAER,QAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAR;AACH,C,CACD;;;AACA,SAASW,OAAT,CAAiBd,OAAjB,EAAyBC,KAAzB,EAA+BU,GAA/B,EAAmCI,IAAnC,EAAwCZ,QAAxC,EAAkD;AAC9C,MAAIa,GAAG,GAAC,CAAR;AAAA,MAAWC,EAAE,GAACF,IAAI,CAACG,MAAnB,CAD8C,CAE9C;AACA;;AACA,MAAIF,GAAG,KAAG,CAAV,EAAa;AAChB,WAAO,IAAP,CADgB,CACH;AACT,GAFD,MAEO;AACV,QAAIG,WAAW,GAAE,SAAbA,WAAa,CAACP,GAAD,EAAKC,QAAL;AAAA,aAAgBH,cAAc,CAACV,OAAD,EAASC,KAAT,EAAeU,GAAf,EAAmBC,GAAnB,EAAuBT,QAAvB,EAAgCU,QAAhC,CAA9B;AAAA,KAAjB;;AACA,WAAQ;AAAK,MAAA,SAAS,EAAEb,OAAO,CAACR,WAAxB;AAAqC,MAAA,GAAG,EAAEW,QAAQ,CAACiB,QAAT,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACP,oBAAC,aAAD;AAAe,MAAA,OAAO,EAAEpB,OAAxB;AAAiC,MAAA,KAAK,EAAEC,KAAxC;AAA+C,MAAA,GAAG,EAAE,OAAKE,QAAzD;AAAmE,MAAA,MAAM,EAAEQ,GAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADO,EAENI,IAAI,CAACM,GAAL,CAASF,WAAT,CAFM,CAAR;AAII;;AAAA;AACJ;;AAAA,C,CACD;;AACA,SAASG,OAAT,CAAiBvB,KAAjB,EAAwB;AAAA,MACZC,OADY,GACmBD,KADnB,CACZC,OADY;AAAA,MACHC,KADG,GACmBF,KADnB,CACHE,KADG;AAAA,MACIsB,IADJ,GACmBxB,KADnB,CACIwB,IADJ;AAAA,MACUR,IADV,GACmBhB,KADnB,CACUgB,IADV,EAC0B;;AAC9C,MAAII,WAAW,GAAE,SAAbA,WAAa,CAACR,GAAD,EAAKR,QAAL;AAAA,WAAgBW,OAAO,CAACd,OAAD,EAASC,KAAT,EAAeU,GAAf,EAAmBI,IAAnB,EAAwBZ,QAAxB,CAAvB;AAAA,GAAjB;;AACA,SAAQ;AAAK,IAAA,SAAS,EAAEH,OAAO,CAACX,QAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACJ;AAAK,IAAA,SAAS,EAAEW,OAAO,CAACH,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI0B,IAAI,CAACF,GAAL,CAASF,WAAT,CADJ,CADI,CAAR;AAKF;;IACIK,Q;;;;;;;;;;;;;;;;;;UAIFC,sB,GAAyB,YAAM;AAC3B,YAAKlC,KAAL,GAAYmC,MAAM,CAACC,UAAnB;AACP,YAAK5C,MAAL,GAAY2C,MAAM,CAACE,WAAnB;AACA,YAAKC,GAAL,GAAS,MAAKC,EAAL,CAAQC,qBAAR,EAAT;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4B,MAAK1C,KAAjC,EAAuC,MAAKR,MAA5C,EAAmD,MAAK8C,GAAL,CAAStC,KAA5D,EAAkE,MAAKsC,GAAL,CAAS9C,MAA3E;AACI,K;;;;;;;wCARmB;AAChB2C,MAAAA,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,EAAkC,KAAKT,sBAAvC;AACH;;;4BAOOK,E,EAAI;AACf,UAAIA,EAAE,KAAKK,SAAP,IAAoBL,EAAE,KAAK,IAA/B,EAAqC;AACjC,aAAKA,EAAL,GAAQA,EAAR;AACA,aAAKD,GAAL,GAAS,KAAKC,EAAL,CAAQC,qBAAR,EAAT;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgC,KAAKJ,GAAL,CAAStC,KAAzC,EAA+C,KAAKsC,GAAL,CAAS9C,MAAxD;AACH;;AAAA;AACG;;;6BACQ;AAAA;;AAAA,wBAC2B,KAAKgB,KADhC;AAAA,UACJE,KADI,eACJA,KADI;AAAA,UACGD,OADH,eACGA,OADH;AAAA,UACYuB,IADZ,eACYA,IADZ;AAAA,UACkBR,IADlB,eACkBA,IADlB,EAEZ;;AACA,aAAQ;AAAK,QAAA,GAAG,EAAE,aAAAe,EAAE,EAAE;AAAC,UAAA,MAAI,CAACM,OAAL,CAAaN,EAAb;AAAiB,SAAhC;AAAkC,QAAA,SAAS,EAAE9B,OAAO,CAAClB,IAArD;AAA4D,QAAA,KAAK,EAAE;AAACS,UAAAA,KAAK,EAAE,MAAR;AAAgBR,UAAAA,MAAM,EAAE;AAAxB,SAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACJ,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAEkB,KAAhB;AAAuB,QAAA,OAAO,EAAED,OAAhC;AAAyC,QAAA,OAAO,EAAE,IAAlD;AAAwD,QAAA,IAAI,EAAEuB,IAA9D;AAAoE,QAAA,IAAI,EAAER,IAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADI,CAAR;AAGI;;;;EAvBkB7C,S;;AA0BvBsD,QAAQ,CAACa,SAAT,GAAqB;AACjBrC,EAAAA,OAAO,EAAE7B,SAAS,CAACmE,MAAV,CAAiBC;AADT,CAArB;AAIA,eAAenE,UAAU,CAACQ,MAAD,CAAV,CAAmB4C,QAAnB,CAAf","sourcesContent":["import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nimport SummaryCell from './SummaryCell';\nimport SeriesCell  from './SeriesCell';\nimport CanvasText  from './CanvasTextComponent';\nimport CellTooltip  from './CellTooltip';\n\nconst styles = theme => ({\n    root: {\n\theight: '100%',\n    },\n    paper: {\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n\tpadding:0,\n\tmargin:0,\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n    },\n    divTableRow:  {\n\tbackgroundColor:teal_palette.main,\n\tborder: '0px solid #999999',\n\tdisplay: 'table-row',\n\tpadding: '2px',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '2px',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    },\n});\n\n//const mui = createTheme({palette:teal_palette});\n\n// ---------------- DATA\nfunction FirstDataCell (props) {\n    const { classes, state, rowval, rowindex} = props;\n    if (rowindex%2 === 1) {\n\treturn (<div className={classes.divTableCell} style={{backgroundColor:'#DDD'}}>\n\t\t{rowval}\n\t\t</div>);\n    } else {\n\treturn (<div className={classes.divTableCell} style={{backgroundColor:'#EEE'}}>\n\t\t{rowval}\n\t\t</div>);\n    }\n}\n//{rowval}\nfunction DataCell(props) {\n    const {classes,state,val,rowindex}=props;\n    var rval=parseFloat(val,0);\n    //console.log(\"Rval:\",JSON.stringify(rval));\n    if (rval !== null && rval !== NaN) {\n\trval=rval.toFixed(2);\n    } else {\n\trval=val;\n    };\n    if (rowindex%2===0) {\n\treturn <div className={classes.divTableCell} style={{backgroundColor:'#EEE'}}>{rval}</div>\n    } else {\n\treturn <div className={classes.divTableCell} style={{backgroundColor:'#DDD'}}>{rval}</div>\n    }\n}\nfunction renderDataCell(classes,state,key,sub,rowindex,colindex) {\n    return (<DataCell classes={classes} state={state} key={`${rowindex}-${colindex}`} val={sub[key]} rowindex={rowindex}/>);\n}\n//{{rowkey:'test1',colkey:'test2',title:title}}\nfunction dataRow(classes,state,key,subs,rowindex) {\n    var cnt=1, ii=subs.length;\n    // calculate number of entries\n    //while (ii--) {if (typeof subs[ii][key] !== \"undefined\") cnt++;}\n    if (cnt===0) {\n\treturn null; // no entries, ignore row...\n    } else {\n\tvar mapFunction= (sub,colindex)=>renderDataCell(classes,state,key,sub,rowindex,colindex);\n\treturn (<div className={classes.divTableRow} key={rowindex.toString()}>\n\t\t<FirstDataCell classes={classes} state={state} key={'k-'+rowindex} rowval={key}/>\n\t\t{subs.map(mapFunction)}\n\t\t</div>);\n    };\n};\n// ---------------- Details\nfunction Details(props) {\n    const { classes, state, keys, subs } = props; // classes, element\n    var mapFunction= (key,rowindex)=>dataRow(classes,state,key,subs,rowindex);\n    return (<div className={classes.divTable}>\n\t       <div className={classes.divTableBody}>\n\t          {keys.map(mapFunction)}\n\t       </div>\n            </div>);\n }\nclass SubTable extends Component {\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    } \n    updateWindowDimensions = () => {\n        this.width= window.innerWidth;\n\tthis.height=window.innerHeight;\n\tthis.bbx=this.el.getBoundingClientRect();\n\tconsole.log(\"Width/Height:\",this.width,this.height,this.bbx.width,this.bbx.height)\n    };\n    element(el) {\n\tif (el !== undefined && el !== null) {\n\t    this.el=el;\n\t    this.bbx=this.el.getBoundingClientRect();\n\t    console.log(\"BBX width/height:\",this.bbx.width,this.bbx.height);\n\t};\n    };\n    render() {\n\tconst { state, classes, keys, subs } = this.props;\n\t//console.log(\"##### Rendering SubTable.\");\n\treturn (<div ref={el=>{this.element(el)}} className={classes.root}  style={{width: '100%', height: '100%'}}>\n\t\t   <Details state={state} classes={classes} element={this} keys={keys} subs={subs}/>\n\t        </div>);\n    }\n}\n\nSubTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SubTable);\n"]},"metadata":{},"sourceType":"module"}