{"ast":null,"code":"import _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/ModeComponent.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FlagIcon from '@material-ui/icons/Flag';\nimport BarIcon from '@material-ui/icons/BarChart';\nimport TableIcon from '@material-ui/icons/Apps';\nimport ListIcon from '@material-ui/icons/ViewList';\nimport MapIcon from '@material-ui/icons/Map';\n\nvar styles = function styles(theme) {\n  return {\n    view: {\n      marginLeft: 'auto'\n    },\n    button: {\n      color: 'white'\n    }\n  };\n};\n\nfunction getMode(state, mode) {\n  if (mode !== undefined) {\n    var layoutMode = 0;\n    var cellMode = 0;\n\n    if (mode === \"Flags\") {\n      layoutMode = state.Layout.code.layout.Table;\n      cellMode = state.Layout.code.cell.Sum;\n    } else if (mode === \"Bars\") {\n      layoutMode = state.Layout.code.layout.Table;\n      cellMode = state.Layout.code.cell.Series;\n    } else if (mode === \"List\") {\n      layoutMode = state.Layout.code.layout.List;\n    } else if (mode === \"Map\") {\n      layoutMode = state.Layout.code.layout.Map;\n    } else {}\n\n    return layoutMode, cellMode;\n  } else {\n    return state.Layout.state.layoutMode, state.Layout.state.cellMode;\n  }\n\n  ;\n}\n\n;\n\nfunction ModeIcon(props) {\n  var state = props.state,\n      mode = props.mode;\n  var layoutMode,\n      cellMode = getMode(state, mode);\n\n  if (layoutMode === state.Layout.code.layout.Table) {\n    if (cellMode === state.Layout.code.cell.Sum) {\n      return React.createElement(FlagIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(BarIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      });\n    }\n  } else if (mode === state.Layout.code.layout.List) {\n    return React.createElement(ListIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  } else {\n    return React.createElement(MapIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    });\n  }\n}\n\n;\n\nfunction renderMode(state, classes, mode, index) {\n  var layoutMode,\n      cellMode = getMode(state, mode);\n\n  var onclick = function onclick(event) {\n    return state.Layout.toggleMode(state, layoutMode, cellMode);\n  };\n\n  return React.createElement(MenuItem, {\n    key: mode,\n    onClose: this.onClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Button, {\n    classes: {\n      root: classes.button\n    },\n    onClick: onclick,\n    title: mode,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(ModeIcon, {\n    mode: mode,\n    state: state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  })), \";\");\n}\n\n;\n\nvar Mode =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Mode, _Component);\n\n  function Mode() {\n    _classCallCheck(this, Mode);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Mode).apply(this, arguments));\n  }\n\n  _createClass(Mode, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          state = _this$props.state;\n      var modes = (\"Flags\", \"Bars\", \"List\", \"Map\");\n\n      var mapFunction = function mapFunction(mode, index) {\n        return renderMode(state, classes, mode, index);\n      };\n\n      return React.createElement(\"div\", {\n        className: classes.view,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(Button, {\n        className: classes.button,\n        \"aria-owns\": this.state.anchor ? 'mode-menu' : undefined,\n        \"aria-haspopup\": \"true\",\n        title: \"Select mode.\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(ModeIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(Menu, {\n        id: \"mode-menu\",\n        anchorEl: this.state.anchor,\n        open: Boolean(this.state.anchor),\n        onClose: this.onClose,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, modes.map(mapFunction)));\n    }\n  }]);\n\n  return Mode;\n}(Component);\n\nMode.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(Mode);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/ModeComponent.js"],"names":["React","Component","PropTypes","withStyles","Button","Menu","MenuItem","FlagIcon","BarIcon","TableIcon","ListIcon","MapIcon","styles","theme","view","marginLeft","button","color","getMode","state","mode","undefined","layoutMode","cellMode","Layout","code","layout","Table","cell","Sum","Series","List","Map","ModeIcon","props","renderMode","classes","index","onclick","event","toggleMode","onClose","root","Mode","modes","mapFunction","anchor","Boolean","map","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport FlagIcon from '@material-ui/icons/Flag';\nimport BarIcon from '@material-ui/icons/BarChart';\nimport TableIcon from '@material-ui/icons/Apps';\nimport ListIcon from '@material-ui/icons/ViewList';\nimport MapIcon from '@material-ui/icons/Map';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction getMode(state,mode) {\n    if (mode !== undefined) {\n\tvar layoutMode=0;\n\tvar cellMode=0;\n\tif (mode === \"Flags\") {\n\t    layoutMode=state.Layout.code.layout.Table;\n\t    cellMode=state.Layout.code.cell.Sum;\n\t} else if (mode === \"Bars\") {\n\t    layoutMode=state.Layout.code.layout.Table;\n\t    cellMode=state.Layout.code.cell.Series;\n\t} else if (mode === \"List\") {\n\t    layoutMode=state.Layout.code.layout.List;\n\t} else if (mode === \"Map\") {\n\t    layoutMode=state.Layout.code.layout.Map;\n\t} else {\n\t}\n\treturn (layoutMode,cellMode);\n    } else {\n\treturn (state.Layout.state.layoutMode,state.Layout.state.cellMode);\n    };\n};\nfunction ModeIcon (props) {\n    const {state,mode} = props;\n    var layoutMode,cellMode=getMode(state,mode);\n    if (layoutMode === state.Layout.code.layout.Table) {\n\tif (cellMode === state.Layout.code.cell.Sum) {\n\t    return (<FlagIcon/>);\n\t} else {\n\t    return (<BarIcon/>);\n\t}\n    } else if (mode === state.Layout.code.layout.List) {\n\treturn (<ListIcon/>);\n    } else {\n\treturn (<MapIcon/>);\n    }\n};\nfunction renderMode (state,classes,mode,index) {\n    var layoutMode,cellMode=getMode(state,mode);\n    var onclick = (event) => state.Layout.toggleMode(state,layoutMode,cellMode);\n    return (<MenuItem key={mode} onClose={this.onClose}>\n\t       <Button classes={{root:classes.button}} onClick={onclick} title={mode}>\n\t          <ModeIcon mode={mode} state={state}/>\n\t       </Button>;\n\t    </MenuItem>);\n\t   };\nclass Mode extends Component {\n    render() {\n\tconst {classes, state}=this.props;\n\tvar modes=(\"Flags\",\"Bars\",\"List\",\"Map\");\n\tvar mapFunction= (mode,index)=>renderMode(state,classes,mode,index);\n\treturn (<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'mode-menu' : undefined}\n                      aria-haspopup=\"true\"\n\t              title={\"Select mode.\"}\n\t\t   >\n\t\t      {<ModeIcon />}\n                   </Button>\n\t          <Menu\n                   id=\"mode-menu\"\n\t           anchorEl={this.state.anchor}\n                   open={Boolean(this.state.anchor)}\n                   onClose={this.onClose}\n\t          >\n\t\t    {modes.map(mapFunction)}\n\t          </Menu>\n\t\t</div>);\n    }\n}\n\nMode.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Mode);\n"]},"metadata":{},"sourceType":"module"}