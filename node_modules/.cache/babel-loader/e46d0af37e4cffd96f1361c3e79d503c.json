{"ast":null,"code":"import _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/SubTableComponent.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport { teal_palette } from '../mui/metMuiThemes';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport SummaryCell from './SummaryCell';\nimport SeriesCell from './SeriesCell';\nimport CanvasText from './CanvasTextComponent';\nimport CellTooltip from './CellTooltip';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      height: '100%'\n    },\n    divHdrLeft: {\n      display: 'inline-block',\n      justifyContent: 'left',\n      cursor: \"pointer\"\n    },\n    divHdrRight: {\n      display: 'inline-block',\n      justifyContent: 'right',\n      cursor: \"pointer\"\n    },\n    paper: {\n      overflow: 'hidden',\n      tableLayout: 'fixed',\n      padding: 0,\n      margin: 0\n    },\n    divTable: {\n      display: 'table',\n      width: '100%'\n    },\n    divTableRow: {\n      backgroundColor: teal_palette.main,\n      border: '0px solid #999999',\n      display: 'table-row',\n      padding: '0px'\n    },\n    divTableCell: {\n      border: '0px solid #999999',\n      display: 'table-cell',\n      padding: '0px'\n    },\n    divTableCellCursor: {\n      cursor: \"pointer\",\n      border: '0px solid #999999',\n      display: 'table-cell',\n      padding: '0px'\n    },\n    divTableHead: {\n      border: '0px',\n      display: 'table-cell',\n      padding: '0px'\n    },\n    divTableHeading: {\n      display: 'table-header-group'\n    },\n    divTableHeadingCenter: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    divTableFoot: {\n      backgroundColor: '#DDD',\n      display: 'table-footer-group',\n      fontWeight: 'bold'\n    },\n    divTableBody: {\n      display: 'table-row-group'\n    },\n    paperImage: {\n      textAlign: 'center',\n      padding: theme.spacing.unit * 2\n    }\n  };\n}; //const mui = createTheme({palette:teal_palette});\n// ---------------- DATA\n\n\nfunction FirstDataCell(props) {\n  var classes = props.classes,\n      state = props.state,\n      rowval = props.rowval,\n      rowindex = props.rowindex;\n\n  if (rowindex % 2 === 1) {\n    return React.createElement(\"div\", {\n      className: cursor,\n      style: {\n        backgroundColor: '#DDD'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, rowval);\n  } else {\n    return React.createElement(\"div\", {\n      className: cursor,\n      style: {\n        backgroundColor: '#EEE'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, rowval);\n  }\n} //{rowval}\n\n\nfunction DataCell(props) {\n  var classes = props.classes,\n      state = props.state,\n      val = props.val,\n      rowindex = props.rowindex;\n\n  if (rowindex % 2 === 0) {\n    return React.createElement(\"div\", {\n      className: classes.divTableCell,\n      style: {\n        backgroundColor: '#EEE'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, val);\n  } else {\n    return React.createElement(\"div\", {\n      className: classes.divTableCell,\n      style: {\n        backgroundColor: '#DDD'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, val);\n  }\n}\n\nfunction renderDataCell(classes, state, key, sub, rowindex, colindex) {\n  return React.createElement(DataCell, {\n    classes: classes,\n    state: state,\n    key: \"\".concat(rowindex, \"-\").concat(colindex),\n    val: sub[key],\n    rowindex: rowindex,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  });\n} //{{rowkey:'test1',colkey:'test2',title:title}}\n\n\nfunction dataRow(classes, state, key, subs, rowindex) {\n  var cnt = 0,\n      ii = subs.length; // calculate number of entries\n\n  while (ii--) {\n    if (typeof subs[ii][key] !== \"undefined\") cnt++;\n  }\n\n  if (cnt === 0) {\n    return null; // no entries, ignore row...\n  } else {\n    var mapFunction = function mapFunction(sub, colindex) {\n      return renderDataCell(classes, state, key, sub, rowindex, colindex);\n    };\n\n    return React.createElement(\"div\", {\n      className: classes.divTableRow,\n      key: rowindex.toString(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(FirstDataCell, {\n      classes: classes,\n      state: state,\n      key: 'k-' + rowindex,\n      rowval: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), sub.map(mapFunction));\n  }\n\n  ;\n}\n\n; // ---------------- Details\n\nfunction Details(props) {\n  var classes = props.classes,\n      state = props.state,\n      keys = props.keys,\n      subs = props.subs; // classes, element\n\n  var mapFunction = function mapFunction(key, rowindex) {\n    return dataRow(classes, state, key, subs, rowindex);\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.divTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.divTableBody,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, keys.map(mapFunction)));\n}\n\nvar SubTable =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SubTable, _Component);\n\n  function SubTable() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, SubTable);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(SubTable)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.updateWindowDimensions = function () {\n      _this.width = window.innerWidth;\n      _this.height = window.innerHeight;\n      _this.bbx = _this.el.getBoundingClientRect();\n      console.log(\"Width/Height:\", _this.width, _this.height, _this.bbx.width, _this.bbx.height);\n    };\n\n    return _this;\n  }\n\n  _createClass(SubTable, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener(\"resize\", this.updateWindowDimensions);\n    }\n  }, {\n    key: \"element\",\n    value: function element(el) {\n      if (el !== undefined && el !== null) {\n        this.el = el;\n        this.bbx = this.el.getBoundingClientRect();\n        console.log(\"BBX width/height:\", this.bbx.width, this.bbx.height);\n      }\n\n      ;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          state = _this$props.state,\n          classes = _this$props.classes,\n          keys = _this$props.keys,\n          subs = _this$props.subs; //console.log(\"##### Rendering SubTable.\");\n\n      return React.createElement(\"div\", {\n        ref: function ref(el) {\n          _this2.element(el);\n        },\n        className: classes.root,\n        style: {\n          width: '100%',\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Details, {\n        state: state,\n        classes: classes,\n        element: this,\n        keys: keys,\n        subs: subs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return SubTable;\n}(Component);\n\nSubTable.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(SubTable);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/SubTableComponent.js"],"names":["React","Component","PropTypes","withStyles","teal_palette","Paper","Grid","SummaryCell","SeriesCell","CanvasText","CellTooltip","styles","theme","root","height","divHdrLeft","display","justifyContent","cursor","divHdrRight","paper","overflow","tableLayout","padding","margin","divTable","width","divTableRow","backgroundColor","main","border","divTableCell","divTableCellCursor","divTableHead","divTableHeading","divTableHeadingCenter","divTableFoot","fontWeight","divTableBody","paperImage","textAlign","spacing","unit","FirstDataCell","props","classes","state","rowval","rowindex","DataCell","val","renderDataCell","key","sub","colindex","dataRow","subs","cnt","ii","length","mapFunction","toString","map","Details","keys","SubTable","updateWindowDimensions","window","innerWidth","innerHeight","bbx","el","getBoundingClientRect","console","log","addEventListener","undefined","element","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nimport SummaryCell from './SummaryCell';\nimport SeriesCell  from './SeriesCell';\nimport CanvasText  from './CanvasTextComponent';\nimport CellTooltip  from './CellTooltip';\n\nconst styles = theme => ({\n    root: {\n\theight: '100%',\n    },\n    divHdrLeft : {\n\tdisplay: 'inline-block',\n\tjustifyContent: 'left',\n\tcursor: \"pointer\",\n    },\n    divHdrRight : {\n\tdisplay: 'inline-block',\n\tjustifyContent: 'right',\n\tcursor: \"pointer\",\n    },\n    paper: {\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n\tpadding:0,\n\tmargin:0,\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n    },\n    divTableRow:  {\n\tbackgroundColor:teal_palette.main,\n\tborder: '0px solid #999999',\n\tdisplay: 'table-row',\n\tpadding: '0px',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableHead : {\n\tborder: '0px',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableHeading : {\n\tdisplay: 'table-header-group',\n    },\n    divTableHeadingCenter : {\n\tdisplay: 'flex',\n\tjustifyContent: 'center',\n    },\n    divTableFoot : {\n\tbackgroundColor: '#DDD',\n\tdisplay: 'table-footer-group',\n\tfontWeight: 'bold',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    },\n    paperImage: {\n        textAlign: 'center',\n        padding: theme.spacing.unit * 2,\n    }\n});\n\n//const mui = createTheme({palette:teal_palette});\n\n// ---------------- DATA\nfunction FirstDataCell (props) {\n    const { classes, state, rowval, rowindex} = props;\n    if (rowindex%2 === 1) {\n\treturn (<div className={cursor} style={{backgroundColor:'#DDD'}}>\n\t\t{rowval}\n\t\t</div>);\n    } else {\n\treturn (<div className={cursor} style={{backgroundColor:'#EEE'}}>\n\t\t{rowval}\n\t\t</div>);\n    }\n}\n//{rowval}\nfunction DataCell(props) {\n    const {classes,state,val,rowindex}=props;\n    if (rowindex%2===0) {\n\treturn <div className={classes.divTableCell} style={{backgroundColor:'#EEE'}}>{val}</div>\n    } else {\n\treturn <div className={classes.divTableCell} style={{backgroundColor:'#DDD'}}>{val}</div>\n    }\n}\nfunction renderDataCell(classes,state,key,sub,rowindex,colindex) {\n    return (<DataCell classes={classes} state={state} key={`${rowindex}-${colindex}`} val={sub[key]} rowindex={rowindex}/>);\n}\n//{{rowkey:'test1',colkey:'test2',title:title}}\nfunction dataRow(classes,state,key,subs,rowindex) {\n    var cnt=0, ii=subs.length;\n    // calculate number of entries\n    while (ii--) {if (typeof subs[ii][key] !== \"undefined\") cnt++;}\n    if (cnt===0) {\n\treturn null; // no entries, ignore row...\n    } else {\n\tvar mapFunction= (sub,colindex)=>renderDataCell(classes,state,key,sub,rowindex,colindex);\n\treturn (<div className={classes.divTableRow} key={rowindex.toString()}>\n\t\t<FirstDataCell classes={classes} state={state} key={'k-'+rowindex} rowval={key}/>\n\t\t{sub.map(mapFunction)}\n\t\t</div>);\n    };\n};\n// ---------------- Details\nfunction Details(props) {\n    const { classes, state, keys, subs } = props; // classes, element\n    var mapFunction= (key,rowindex)=>dataRow(classes,state,key,subs,rowindex);\n    return (<div className={classes.divTable}>\n\t       <div className={classes.divTableBody}>\n\t          {keys.map(mapFunction)}\n\t       </div>\n            </div>);\n }\nclass SubTable extends Component {\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    } \n    updateWindowDimensions = () => {\n        this.width= window.innerWidth;\n\tthis.height=window.innerHeight;\n\tthis.bbx=this.el.getBoundingClientRect();\n\tconsole.log(\"Width/Height:\",this.width,this.height,this.bbx.width,this.bbx.height)\n    };\n    element(el) {\n\tif (el !== undefined && el !== null) {\n\t    this.el=el;\n\t    this.bbx=this.el.getBoundingClientRect();\n\t    console.log(\"BBX width/height:\",this.bbx.width,this.bbx.height);\n\t};\n    };\n    render() {\n\tconst { state, classes, keys, subs } = this.props;\n\t//console.log(\"##### Rendering SubTable.\");\n\treturn (<div ref={el=>{this.element(el)}} className={classes.root}  style={{width: '100%', height: '100%'}}>\n\t\t   <Details state={state} classes={classes} element={this} keys={keys} subs={subs}/>\n\t        </div>);\n    }\n}\n\nSubTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SubTable);\n"]},"metadata":{},"sourceType":"module"}