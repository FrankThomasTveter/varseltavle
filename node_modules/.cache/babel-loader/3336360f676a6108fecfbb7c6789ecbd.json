{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _uniqueId2 = require('lodash/uniqueId');\n\nvar _uniqueId3 = _interopRequireDefault(_uniqueId2);\n\nvar _omit2 = require('lodash/omit');\n\nvar _omit3 = _interopRequireDefault(_omit2);\n\nvar _isUndefined2 = require('lodash/isUndefined');\n\nvar _isUndefined3 = _interopRequireDefault(_isUndefined2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _leaflet = require('leaflet');\n\nvar _leaflet2 = _interopRequireDefault(_leaflet);\n\nvar _bounds = require('./types/bounds');\n\nvar _bounds2 = _interopRequireDefault(_bounds);\n\nvar _children = require('./types/children');\n\nvar _children2 = _interopRequireDefault(_children);\n\nvar _latlng = require('./types/latlng');\n\nvar _latlng2 = _interopRequireDefault(_latlng);\n\nvar _MapComponent2 = require('./MapComponent');\n\nvar _MapComponent3 = _interopRequireDefault(_MapComponent2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint-disable react/no-did-mount-set-state */\n\n\nvar normalizeCenter = function normalizeCenter(pos) {\n  return (0, _isArray3.default)(pos) ? pos : [pos.lat, pos.lng || pos.lon];\n};\n\nvar Map = function (_MapComponent) {\n  _inherits(Map, _MapComponent);\n\n  function Map(props) {\n    _classCallCheck(this, Map);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Map).call(this, props));\n\n    _this.state = {\n      id: props.id || (0, _uniqueId3.default)('map')\n    };\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = (0, _omit3.default)(this.props, ['children', 'className', 'id', 'style']);\n      this.leafletElement = _leaflet2.default.map(this.state.id, props);\n\n      _get(Object.getPrototypeOf(Map.prototype), 'componentDidMount', this).call(this);\n\n      this.setState({\n        map: this.leafletElement\n      });\n\n      if (!(0, _isUndefined3.default)(props.bounds)) {\n        this.leafletElement.fitBounds(props.bounds, props.boundsOptions);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props = this.props;\n      var bounds = _props.bounds;\n      var boundsOptions = _props.boundsOptions;\n      var center = _props.center;\n      var maxBounds = _props.maxBounds;\n      var zoom = _props.zoom;\n      var animate = _props.animate;\n\n      if (center && this.shouldUpdateCenter(center, prevProps.center)) {\n        this.leafletElement.setView(center, zoom, {\n          animate: animate\n        });\n      } else if (zoom && zoom !== prevProps.zoom) {\n        this.leafletElement.setZoom(zoom);\n      }\n\n      if (maxBounds && this.shouldUpdateBounds(maxBounds, prevProps.maxBounds)) {\n        this.leafletElement.setMaxBounds(maxBounds);\n      }\n\n      if (bounds && (this.shouldUpdateBounds(bounds, prevProps.bounds) || boundsOptions !== prevProps.boundsOptions)) {\n        this.leafletElement.fitBounds(bounds, boundsOptions);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      _get(Object.getPrototypeOf(Map.prototype), 'componentWillUnmount', this).call(this);\n\n      this.leafletElement.remove();\n    }\n  }, {\n    key: 'shouldUpdateCenter',\n    value: function shouldUpdateCenter(next, prev) {\n      if (!prev) return true;\n      next = normalizeCenter(next);\n      prev = normalizeCenter(prev);\n      return next[0] !== prev[0] || next[1] !== prev[1];\n    }\n  }, {\n    key: 'shouldUpdateBounds',\n    value: function shouldUpdateBounds(next, prev) {\n      if (!prev) return true;\n      next = _leaflet2.default.latLngBounds(next);\n      prev = _leaflet2.default.latLngBounds(prev);\n      return !next.equals(prev);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var map = this.leafletElement;\n      var children = map ? _react2.default.Children.map(this.props.children, function (child) {\n        return child ? _react2.default.cloneElement(child, {\n          map: map,\n          layerContainer: map\n        }) : null;\n      }) : null;\n      return _react2.default.createElement('div', {\n        className: this.props.className,\n        id: this.state.id,\n        style: this.props.style\n      }, children);\n    }\n  }]);\n\n  return Map;\n}(_MapComponent3.default);\n\nMap.propTypes = {\n  animate: _react.PropTypes.bool,\n  bounds: _bounds2.default,\n  boundsOptions: _react.PropTypes.object,\n  center: _latlng2.default,\n  children: _children2.default,\n  className: _react.PropTypes.string,\n  id: _react.PropTypes.string,\n  maxBounds: _bounds2.default,\n  maxZoom: _react.PropTypes.number,\n  minZoom: _react.PropTypes.number,\n  style: _react.PropTypes.object,\n  zoom: _react.PropTypes.number\n};\nMap.defaultProps = {\n  animate: false\n};\nexports.default = Map;","map":{"version":3,"sources":["/home/franktt/react/varseltavle/node_modules/react-leaflet/lib/Map.js"],"names":["Object","defineProperty","exports","value","_uniqueId2","require","_uniqueId3","_interopRequireDefault","_omit2","_omit3","_isUndefined2","_isUndefined3","_isArray2","_isArray3","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_get","get","object","property","receiver","Function","desc","getOwnPropertyDescriptor","undefined","parent","getPrototypeOf","getter","call","_react","_react2","_leaflet","_leaflet2","_bounds","_bounds2","_children","_children2","_latlng","_latlng2","_MapComponent2","_MapComponent3","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","normalizeCenter","pos","lat","lng","lon","Map","_MapComponent","_this","state","id","componentDidMount","leafletElement","map","setState","bounds","fitBounds","boundsOptions","componentDidUpdate","prevProps","_props","center","maxBounds","zoom","animate","shouldUpdateCenter","setView","setZoom","shouldUpdateBounds","setMaxBounds","componentWillUnmount","remove","next","prev","latLngBounds","equals","render","children","Children","child","cloneElement","layerContainer","createElement","className","style","propTypes","PropTypes","bool","string","maxZoom","number","minZoom","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _uniqueId2 = require('lodash/uniqueId');\n\nvar _uniqueId3 = _interopRequireDefault(_uniqueId2);\n\nvar _omit2 = require('lodash/omit');\n\nvar _omit3 = _interopRequireDefault(_omit2);\n\nvar _isUndefined2 = require('lodash/isUndefined');\n\nvar _isUndefined3 = _interopRequireDefault(_isUndefined2);\n\nvar _isArray2 = require('lodash/isArray');\n\nvar _isArray3 = _interopRequireDefault(_isArray2);\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _leaflet = require('leaflet');\n\nvar _leaflet2 = _interopRequireDefault(_leaflet);\n\nvar _bounds = require('./types/bounds');\n\nvar _bounds2 = _interopRequireDefault(_bounds);\n\nvar _children = require('./types/children');\n\nvar _children2 = _interopRequireDefault(_children);\n\nvar _latlng = require('./types/latlng');\n\nvar _latlng2 = _interopRequireDefault(_latlng);\n\nvar _MapComponent2 = require('./MapComponent');\n\nvar _MapComponent3 = _interopRequireDefault(_MapComponent2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable react/no-did-mount-set-state */\n\nvar normalizeCenter = function normalizeCenter(pos) {\n  return (0, _isArray3.default)(pos) ? pos : [pos.lat, pos.lng || pos.lon];\n};\n\nvar Map = function (_MapComponent) {\n  _inherits(Map, _MapComponent);\n\n  function Map(props) {\n    _classCallCheck(this, Map);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Map).call(this, props));\n\n    _this.state = {\n      id: props.id || (0, _uniqueId3.default)('map')\n    };\n    return _this;\n  }\n\n  _createClass(Map, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = (0, _omit3.default)(this.props, ['children', 'className', 'id', 'style']);\n      this.leafletElement = _leaflet2.default.map(this.state.id, props);\n      _get(Object.getPrototypeOf(Map.prototype), 'componentDidMount', this).call(this);\n      this.setState({ map: this.leafletElement });\n      if (!(0, _isUndefined3.default)(props.bounds)) {\n        this.leafletElement.fitBounds(props.bounds, props.boundsOptions);\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var _props = this.props;\n      var bounds = _props.bounds;\n      var boundsOptions = _props.boundsOptions;\n      var center = _props.center;\n      var maxBounds = _props.maxBounds;\n      var zoom = _props.zoom;\n      var animate = _props.animate;\n\n      if (center && this.shouldUpdateCenter(center, prevProps.center)) {\n        this.leafletElement.setView(center, zoom, { animate: animate });\n      } else if (zoom && zoom !== prevProps.zoom) {\n        this.leafletElement.setZoom(zoom);\n      }\n      if (maxBounds && this.shouldUpdateBounds(maxBounds, prevProps.maxBounds)) {\n        this.leafletElement.setMaxBounds(maxBounds);\n      }\n      if (bounds && (this.shouldUpdateBounds(bounds, prevProps.bounds) || boundsOptions !== prevProps.boundsOptions)) {\n        this.leafletElement.fitBounds(bounds, boundsOptions);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      _get(Object.getPrototypeOf(Map.prototype), 'componentWillUnmount', this).call(this);\n      this.leafletElement.remove();\n    }\n  }, {\n    key: 'shouldUpdateCenter',\n    value: function shouldUpdateCenter(next, prev) {\n      if (!prev) return true;\n      next = normalizeCenter(next);\n      prev = normalizeCenter(prev);\n      return next[0] !== prev[0] || next[1] !== prev[1];\n    }\n  }, {\n    key: 'shouldUpdateBounds',\n    value: function shouldUpdateBounds(next, prev) {\n      if (!prev) return true;\n      next = _leaflet2.default.latLngBounds(next);\n      prev = _leaflet2.default.latLngBounds(prev);\n      return !next.equals(prev);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var map = this.leafletElement;\n      var children = map ? _react2.default.Children.map(this.props.children, function (child) {\n        return child ? _react2.default.cloneElement(child, { map: map, layerContainer: map }) : null;\n      }) : null;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: this.props.className,\n          id: this.state.id,\n          style: this.props.style },\n        children\n      );\n    }\n  }]);\n\n  return Map;\n}(_MapComponent3.default);\n\nMap.propTypes = {\n  animate: _react.PropTypes.bool,\n  bounds: _bounds2.default,\n  boundsOptions: _react.PropTypes.object,\n  center: _latlng2.default,\n  children: _children2.default,\n  className: _react.PropTypes.string,\n  id: _react.PropTypes.string,\n  maxBounds: _bounds2.default,\n  maxZoom: _react.PropTypes.number,\n  minZoom: _react.PropTypes.number,\n  style: _react.PropTypes.object,\n  zoom: _react.PropTypes.number\n};\nMap.defaultProps = {\n  animate: false\n};\nexports.default = Map;"]},"metadata":{},"sourceType":"script"}