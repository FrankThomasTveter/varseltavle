{"ast":null,"code":"import _classCallCheck from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import FlagIcon from'@material-ui/icons/Flag';import BarIcon from'@material-ui/icons/BarChart';import ListIcon from'@material-ui/icons/Details';import MapIcon from'@material-ui/icons/Map';var styles=function styles(theme){return{view:{marginLeft:'auto'},button:{color:'white'}};};function getModes(state,mode){if(mode!==undefined){var layoutMode=0;var cellMode=0;if(mode===\"FlagChart\"){layoutMode=state.Layout.modes.layout.Table;cellMode=state.Layout.modes.cell.Sum;}else if(mode===\"BarChart\"){layoutMode=state.Layout.modes.layout.Table;cellMode=state.Layout.modes.cell.Series;}else if(mode===\"List\"){layoutMode=state.Layout.modes.layout.List;}else if(mode===\"MapChart\"){layoutMode=state.Layout.modes.layout.Map;}return{layout:layoutMode,cell:cellMode};}else{return{layout:state.Layout.state.layoutMode,cell:state.Layout.state.cellMode};};};function ModeIcon(props){var state=props.state,mode=props.mode;var modes=getModes(state,mode);var layoutMode=modes.layout;var cellMode=modes.cell;if(layoutMode===state.Layout.modes.layout.Table){if(cellMode===state.Layout.modes.cell.Sum){return React.createElement(FlagIcon,null);}else{return React.createElement(BarIcon,null);}}else if(layoutMode===state.Layout.modes.layout.List){return React.createElement(ListIcon,null);}else{return React.createElement(MapIcon,null);}};function renderMode(state,classes,onclose,mode,index){var modes=getModes(state,mode);var layoutMode=modes.layout;var cellMode=modes.cell;var onclick=function onclick(event){state.Layout.toggleMode(state,layoutMode,cellMode);onclose();};return React.createElement(MenuItem,{key:mode,onClose:onclose},React.createElement(Button,{classes:{root:classes.button},onClick:onclick,title:mode},React.createElement(ModeIcon,{mode:mode,state:state})));};var Mode=/*#__PURE__*/function(_Component){_inherits(Mode,_Component);function Mode(){var _getPrototypeOf2;var _this;_classCallCheck(this,Mode);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Mode)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={anchor:null};return _this;}_createClass(Mode,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,classes=_this$props.classes,state=_this$props.state;var modes=[\"FlagChart\",\"BarChart\",\"List\",\"MapChart\"];this.onClose=function(){_this2.setState({anchor:null});};this.onClick=function(event){_this2.setState({anchor:event.currentTarget});};var mapFunction=function mapFunction(mode,index){return renderMode(state,classes,_this2.onClose,mode,index);};return React.createElement(\"div\",{className:classes.view},React.createElement(Button,{className:classes.button,\"aria-owns\":this.state.anchor?'mode-menu':undefined,\"aria-haspopup\":\"true\",onClick:this.onClick,title:\"Select mode.\"},React.createElement(ModeIcon,{state:state})),React.createElement(Menu,{id:\"mode-menu\",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},modes.map(mapFunction)));}}]);return Mode;}(Component);export default withStyles(styles)(Mode);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/ModeComponent.js"],"names":["React","Component","withStyles","Button","Menu","MenuItem","FlagIcon","BarIcon","ListIcon","MapIcon","styles","theme","view","marginLeft","button","color","getModes","state","mode","undefined","layoutMode","cellMode","Layout","modes","layout","Table","cell","Sum","Series","List","Map","ModeIcon","props","renderMode","classes","onclose","index","onclick","event","toggleMode","root","Mode","anchor","onClose","setState","onClick","currentTarget","mapFunction","Boolean","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport FlagIcon from '@material-ui/icons/Flag';\nimport BarIcon from '@material-ui/icons/BarChart';\nimport ListIcon from '@material-ui/icons/Details';\nimport MapIcon from '@material-ui/icons/Map';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction getModes(state,mode) {\n    if (mode !== undefined) {\n\tvar layoutMode=0;\n\tvar cellMode=0;\n\tif (mode === \"FlagChart\") {\n\t    layoutMode=state.Layout.modes.layout.Table;\n\t    cellMode=state.Layout.modes.cell.Sum;\n\t} else if (mode === \"BarChart\") {\n\t    layoutMode=state.Layout.modes.layout.Table;\n\t    cellMode=state.Layout.modes.cell.Series;\n\t} else if (mode === \"List\") {\n\t    layoutMode=state.Layout.modes.layout.List;\n\t} else if (mode === \"MapChart\") {\n\t    layoutMode=state.Layout.modes.layout.Map;\n\t}\n\treturn {layout:layoutMode,cell:cellMode};\n    } else {\n\treturn {layout:state.Layout.state.layoutMode,cell:state.Layout.state.cellMode};\n    };\n};\nfunction ModeIcon (props) {\n    const {state,mode} = props;\n    var modes=getModes(state,mode);\n    var layoutMode=modes.layout;\n    var cellMode=modes.cell;\n    if (layoutMode === state.Layout.modes.layout.Table) {\n\tif (cellMode === state.Layout.modes.cell.Sum) {\n\t    return (<FlagIcon/>);\n\t} else {\n\t    return (<BarIcon/>);\n\t}\n    } else if (layoutMode === state.Layout.modes.layout.List) {\n\treturn (<ListIcon/>);\n    } else {\n\treturn (<MapIcon/>);\n    }\n};\nfunction renderMode (state,classes,onclose,mode,index) {\n    var modes=getModes(state,mode);\n    var layoutMode=modes.layout;\n    var cellMode=modes.cell;\n    var onclick = (event) => {state.Layout.toggleMode(state,layoutMode,cellMode);onclose();};\n    return (<MenuItem key={mode} onClose={onclose}>\n\t       <Button classes={{root:classes.button}} onClick={onclick} title={mode}>\n\t          <ModeIcon mode={mode} state={state}/>\n\t       </Button>\n\t    </MenuItem>);\n\t   };\nclass Mode extends Component {\n    state = {anchor: null,};\n    render() {\n\tconst {classes, state}=this.props;\n\tvar modes=[\"FlagChart\",\"BarChart\",\"List\",\"MapChart\"];\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tthis.onClick = (event) => {this.setState({ anchor: event.currentTarget });};\n\tvar mapFunction= (mode,index)=>renderMode(state,classes,this.onClose,mode,index);\n\treturn (<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'mode-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Select mode.\"}\n\t\t   >\n\t\t      {<ModeIcon state={state}/>}\n                   </Button>\n\t          <Menu\n                   id=\"mode-menu\"\n\t           anchorEl={this.state.anchor}\n                   open={Boolean(this.state.anchor)}\n                   onClose={this.onClose}\n\t          >\n\t\t    {modes.map(mapFunction)}\n\t          </Menu>\n\t\t</div>);\n    }\n}\n\nMode.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Mode);\n"]},"metadata":{},"sourceType":"module"}