{"ast":null,"code":"//console.log(\"Loading ThresholdLib.js\");\nfunction Threshold() {\n  this.thrs = undefined; // threshold parameter levels, set by Default\n\n  this.imax = 0; // threshold item types\n\n  this.ithr = 1;\n  this.ikey = 2;\n  this.ilev = 3;\n  this.ival = 4;\n\n  this.init = function (state) {\n    var par = \"Threshold\";\n    state.Utils.init(par, this);\n  };\n\n  this.getMaxLevel = function (doc) {\n    if (doc._thr !== undefined) {\n      if (doc._thr.max !== undefined) {\n        return doc._thr.max.length;\n      } else if (doc._thr.min !== undefined) {\n        return doc._thr.min.length;\n      }\n    } else {\n      return -1;\n    }\n  };\n\n  this.setThresholds = function (doc, ithrs) {\n    //var debug = (doc.Phenomenon===\"Regn\" && doc.Duration===\"12t\" && doc.Region===\"Innlandet\" && doc.dtg===\"2019-06-26_11\");\n    if (doc._thr !== undefined) {\n      return [];\n    } else {\n      var thrs;\n\n      if (ithrs === undefined) {\n        thrs = this.thrs;\n      } else {\n        thrs = ithrs;\n      }\n\n      ; //if (debug) {console.log(\"Entering with:\",JSON.stringify(doc));};\n      //if (debug) {console.log(\"     --> with:\",JSON.stringify(ithrs));};\n      //if (debug) {console.log(\"      -> with:\",JSON.stringify(thrs));};\n\n      for (var trgkey in thrs) {\n        // loop over thresholds\n        if (doc[trgkey] !== undefined) {\n          var trgval = doc[trgkey]; // trgval-value\n\n          if (thrs[trgkey][trgval] !== undefined) {\n            //if (debug) {console.log(\"Found:\",trgkey,trgval,JSON.stringify(thrs[trgkey][trgval]));};\n            var mlen, jj;\n\n            if (thrs[trgkey][trgval].par === undefined) {\n              // there is another level\n              //if (debug) {console.log(\"   Iterating with:\",JSON.stringify(thrs[trgkey][trgval]));};\n              return this.setThresholds(doc, thrs[trgkey][trgval]);\n            } else if (doc[thrs[trgkey][trgval].par] !== undefined) {\n              var thr = thrs[trgkey][trgval]; //doc.threshold=thr;\n\n              var rank;\n              var val = doc[thr[\"par\"]];\n              var maxs = thr[\">\"];\n              var mins = thr[\"<\"];\n              var doclev = -1; // found thresholds, but will we find a valid level?\n\n              if (maxs !== undefined) {\n                // above thresholds\n                //if (debug) {console.log(\"Thresholds:\",JSON.stringify(maxs),val);};\n                var docmax = Number(val);\n                mlen = maxs.length; // get new level\n\n                for (jj = 0; jj < mlen; jj++) {\n                  if (docmax >= Number(maxs[jj])) {\n                    //if (debug) {console.log(\"Hit:\",docmax,jj,maxs[jj],docmax>=maxs[jj],doclev);}\n                    doclev = jj;\n                  }\n                }\n\n                ;\n                rank = 0; // universal rank\n\n                if (doclev > -1) {\n                  rank = (docmax - Number(maxs[0])) / (Number(maxs[mlen - 1]) - Number(maxs[0]));\n                }\n\n                ; //if (debug) {console.log(\"Level:\",docmax,doclev,JSON.stringify(maxs));}\n\n                doc.level = doclev;\n                doc.rank = rank;\n                doc.lat = doc[thr[\"lat\"]];\n                doc.lon = doc[thr[\"lon\"]];\n                doc._thr = {};\n                doc._thr.level = doclev;\n                doc._thr.val = docmax;\n                doc._thr.lat = doc[thr[\"lat\"]];\n                doc._thr.lon = doc[thr[\"lon\"]];\n                doc._thr.max = maxs;\n                return [\"level\", \"val\", \"lat\", \"lon\", \"max\"];\n              } else if (mins !== undefined) {\n                // below thresholds\n                //if (debug) {console.log(\"Thresholds:\",JSON.stringify(mins),val);};\n                var docmin = Number(val); // get new level\n\n                mlen = mins.length;\n\n                for (jj = 0; jj < mlen; jj++) {\n                  if (docmin <= Number(mins[jj])) {\n                    doclev = jj;\n                  }\n                }\n\n                rank = 0; // universal rank\n\n                if (doclev > 0) {\n                  rank = (Number(mins[0]) - docmin) / (Number(mins[0]) - Number(mins[mlen - 1]));\n                }\n\n                ;\n                doc.level = doclev;\n                doc.rank = rank;\n                doc.lat = doc[thr[\"lat\"]];\n                doc.lon = doc[thr[\"lon\"]];\n                doc._thr = {};\n                doc._thr.level = doclev;\n                doc._thr.val = docmin;\n                doc._thr.lat = doc[thr[\"lat\"]];\n                doc._thr.lon = doc[thr[\"lon\"]];\n                doc._thr.min = mins;\n                return [\"level\", \"val\", \"lat\", \"lon\", \"min\"];\n              } else {//if (debug) {console.log(\"No Thresholds:\",JSON.stringify(thrs),val);};\n              }\n            }\n          }\n        }\n      }\n\n      doc._thr = {};\n      doc.level = -2; // no thresholds found...\n    }\n\n    return [];\n  }; // call after this.setThresholds\n\n\n  this.getLevel = function (state, doc) {\n    //console.log(\"GetLevel:\",JSON.stringify(doc));\n    if (doc._thr !== undefined) {\n      return doc._thr.level;\n    } else {\n      return -1;\n    }\n  };\n\n  this.getRank = function (state, doc) {\n    return doc.rank;\n  };\n\n  this.getLat = function (state, doc) {\n    return doc._thr.lat;\n  };\n\n  this.getLon = function (state, doc) {\n    return doc._thr.lon;\n  };\n}\n\n;\nexport default Threshold;","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/lib/ThresholdLib.js"],"names":["Threshold","thrs","undefined","imax","ithr","ikey","ilev","ival","init","state","par","Utils","getMaxLevel","doc","_thr","max","length","min","setThresholds","ithrs","trgkey","trgval","mlen","jj","thr","rank","val","maxs","mins","doclev","docmax","Number","level","lat","lon","docmin","getLevel","getRank","getLat","getLon"],"mappings":"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","sourcesContent":["//console.log(\"Loading ThresholdLib.js\");\n\nfunction Threshold() {\n    this.thrs=undefined; // threshold parameter levels, set by Default\n    this.imax=0;        // threshold item types\n    this.ithr=1;\n    this.ikey=2;\n    this.ilev=3;\n    this.ival=4;\n    this.init=function(state){\n\tvar par=\"Threshold\";\n\tstate.Utils.init(par,this);\n    };\n    this.getMaxLevel=function(doc) {\n\tif (doc._thr !== undefined) {\n\t    if (doc._thr.max !== undefined) {\n\t\treturn doc._thr.max.length;\n\t    } else if (doc._thr.min !== undefined) {\n\t\treturn doc._thr.min.length;\n\t    }\n\t} else {\n\t    return -1;\n\t}\n    };\n    this.setThresholds=function(doc,ithrs) {\n\t//var debug = (doc.Phenomenon===\"Regn\" && doc.Duration===\"12t\" && doc.Region===\"Innlandet\" && doc.dtg===\"2019-06-26_11\");\n\tif (doc._thr !== undefined) {\n\t    return [];\n\t} else {\n\t    var thrs;\n\t    if (ithrs === undefined) {\n\t\tthrs=this.thrs;\n\t    } else {\n\t\tthrs=ithrs;\n\t    };\n\t    //if (debug) {console.log(\"Entering with:\",JSON.stringify(doc));};\n\t    //if (debug) {console.log(\"     --> with:\",JSON.stringify(ithrs));};\n\t    //if (debug) {console.log(\"      -> with:\",JSON.stringify(thrs));};\n\t    for (var trgkey in thrs) { // loop over thresholds\n\t\tif (doc[trgkey] !== undefined) {\n\t\t    var trgval=doc[trgkey]; // trgval-value\n\t\t    if (thrs[trgkey][trgval] !== undefined) {\n\t\t\t//if (debug) {console.log(\"Found:\",trgkey,trgval,JSON.stringify(thrs[trgkey][trgval]));};\n\t\t\tvar mlen,jj;\n\t\t\tif (thrs[trgkey][trgval].par === undefined) { // there is another level\n\t\t\t    //if (debug) {console.log(\"   Iterating with:\",JSON.stringify(thrs[trgkey][trgval]));};\n\t\t\t    return this.setThresholds(doc,thrs[trgkey][trgval]);\n\t\t\t} else if (doc[thrs[trgkey][trgval].par] !== undefined) {\n\t\t\t    var thr = thrs[trgkey][trgval]\n\t\t\t    //doc.threshold=thr;\n\t\t\t    var rank;\n\t\t\t    var val = doc[thr[\"par\"]];\n\t\t\t    var maxs = thr[\">\"];\n\t\t\t    var mins = thr[\"<\"];\n\t\t\t    var doclev=-1; // found thresholds, but will we find a valid level?\n\t\t\t    if (maxs !== undefined) { // above thresholds\n\t\t\t\t//if (debug) {console.log(\"Thresholds:\",JSON.stringify(maxs),val);};\n\t\t\t\tvar docmax=Number(val);\n\t\t\t\tmlen=maxs.length;\n\t\t\t\t// get new level\n\t\t\t\tfor (jj = 0; jj < mlen; jj++) {\n\t\t\t\t    if (docmax >= Number(maxs[jj])) {\n\t\t\t\t\t//if (debug) {console.log(\"Hit:\",docmax,jj,maxs[jj],docmax>=maxs[jj],doclev);}\n\t\t\t\t\tdoclev=jj;\n\t\t\t\t    }\n\t\t\t\t};\n\t\t\t\trank=0; // universal rank\n\t\t\t\tif (doclev > -1) {rank= (docmax-Number(maxs[0]))/(Number(maxs[mlen-1])-Number(maxs[0]));};\n\t\t\t\t//if (debug) {console.log(\"Level:\",docmax,doclev,JSON.stringify(maxs));}\n\t\t\t\tdoc.level=doclev;\n\t\t\t\tdoc.rank=rank;\n\t\t\t\tdoc.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr={};\n\t\t\t\tdoc._thr.level=doclev;\n\t\t\t\tdoc._thr.val=docmax\n\t\t\t\tdoc._thr.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc._thr.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr.max=maxs;\n\t\t\t\treturn [\"level\",\"val\",\"lat\",\"lon\",\"max\"];\n\t\t\t    } else if (mins !== undefined) { // below thresholds\n\t\t\t\t//if (debug) {console.log(\"Thresholds:\",JSON.stringify(mins),val);};\n\t\t\t\tvar docmin=Number(val);\n\t\t\t\t// get new level\n\t\t\t\tmlen=mins.length;\n\t\t\t\tfor (jj = 0; jj < mlen; jj++) {\n\t\t\t\t    if (docmin <= Number(mins[jj])) {\n\t\t\t\t\tdoclev=jj;\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t\trank=0; // universal rank\n\t\t\t\tif (doclev > 0) {rank=(Number(mins[0])-docmin)/(Number(mins[0])-Number(mins[mlen-1]));};\n\t\t\t\tdoc.level=doclev;\n\t\t\t\tdoc.rank=rank;\n\t\t\t\tdoc.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr={};\n\t\t\t\tdoc._thr.level=doclev;\n\t\t\t\tdoc._thr.val=docmin\n\t\t\t\tdoc._thr.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc._thr.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr.min=mins;\n\t\t\t\treturn [\"level\",\"val\",\"lat\",\"lon\",\"min\"];\n\t\t\t    } else {\n\t\t\t\t//if (debug) {console.log(\"No Thresholds:\",JSON.stringify(thrs),val);};\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t}\n\t    }\n\t    doc._thr={};\n\t    doc.level=-2;  // no thresholds found...\n\t}\n\treturn [];\n    };\n    // call after this.setThresholds\n    this.getLevel=function(state,doc) {\n\t//console.log(\"GetLevel:\",JSON.stringify(doc));\n\tif (doc._thr !== undefined) {\n\t    return doc._thr.level;\n\t} else {\n\t    return -1;\n\t}\n    }\n    this.getRank=function(state,doc) {\n\treturn doc.rank;\n    }\n    this.getLat=function(state,doc) {\n\treturn doc._thr.lat;\n    }\n    this.getLon=function(state,doc) {\n\treturn doc._thr.lon;\n    };\n};\nexport default Threshold;\n"]},"metadata":{},"sourceType":"module"}