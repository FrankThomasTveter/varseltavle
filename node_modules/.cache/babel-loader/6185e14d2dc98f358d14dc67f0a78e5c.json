{"ast":null,"code":"//console.log(\"Loading HtmlLib.js\");\nfunction Html() {\n  this.ceye = \"&#x1f441\";\n\n  this.setConsole = function (msg) {\n    console.log(msg);\n  };\n\n  this.setFootnote = function (state, msg, color) {\n    if (state.React !== undefined && state.React.Status !== undefined) {\n      if (msg === undefined) {\n        state.React.Dataset.setColor(state, \"\");\n        msg = state.Utils.getStatusString(state);\n      } else if (color !== undefined) {\n        state.React.Dataset.setColor(state, color);\n      }\n\n      ; //console.log(\"setlog:\",msg,state.Matrix.cnt);\n\n      state.React.Status.setFootnote(state, msg);\n    }\n  };\n\n  this.broadcast = function (state, msg, variant) {\n    if (state.React !== undefined && state.React.Status !== undefined) {\n      if (msg === undefined) {\n        msg = state.Utils.getStatusString(state);\n      }\n\n      ; //console.log(\"setlog:\",msg,state.Matrix.cnt);\n\n      state.React.App.broadcast(msg, 'info');\n    }\n  };\n\n  this.progressInfo = function (state, e) {\n    if (state.React !== undefined && state.React.Status !== undefined) {\n      if (e.loaded === e.total) {\n        state.React.Dataset.setColor(state, \"\");\n        state.React.Status.setFootnote(state, \"\");\n      } else {\n        e.preventDefault(); //console.log(\"Complete:\",e.loaded,e.total,JSON.stringify(e));\n        //var percentComplete = e.loaded / e.total * 100;\n        //state.React.Status.setFootnote(state,percentComplete.toFixed(2)+\"kb\");\n\n        state.React.Status.setFootnote(state, e.loaded + \" kb\");\n      }\n    }\n  };\n\n  this.loadInfo = function (state, e) {\n    if (state.React !== undefined && state.React.Status !== undefined) {\n      state.React.Dataset.setColor(state, \"secondary\");\n      state.React.Status.setFootnote(state, \"Processing\");\n    }\n\n    ;\n  };\n\n  this.errorInfo = function (state, e) {\n    if (state.React !== undefined && state.React.Status !== undefined) {\n      state.React.Dataset.setColor(state, \"\");\n      state.React.Status.setFootnote(state, \"Error\");\n    }\n  };\n\n  this.abortInfo = function (state, e) {\n    if (state.React !== undefined && state.React.Status !== undefined) {\n      state.React.Dataset.setColor(state, \"\");\n      state.React.Status.setFootnote(state, \"Aborted\");\n    }\n  };\n}\n\n;\nexport default Html;","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/lib/HtmlLib.js"],"names":["Html","ceye","setConsole","msg","console","log","setFootnote","state","color","React","undefined","Status","Dataset","setColor","Utils","getStatusString","broadcast","variant","App","progressInfo","e","loaded","total","preventDefault","loadInfo","errorInfo","abortInfo"],"mappings":"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","sourcesContent":["//console.log(\"Loading HtmlLib.js\");\n\nfunction Html() {\n    this.ceye=\"&#x1f441\";\n    this.setConsole=function(msg) {\n\tconsole.log(msg);\n    };\n    this.setFootnote=function(state,msg,color) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    if (msg  === undefined) {\n\t\tstate.React.Dataset.setColor(state,\"\");\n\t\tmsg=state.Utils.getStatusString(state);\n\t    } else if (color !== undefined) {\n\t\tstate.React.Dataset.setColor(state,color);\n\t    };\n\t    //console.log(\"setlog:\",msg,state.Matrix.cnt);\n\t    state.React.Status.setFootnote(state,msg);\n\t}\n    };\n    this.broadcast=function(state,msg,variant) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    if (msg  === undefined) {msg=state.Utils.getStatusString(state);};\n\t    //console.log(\"setlog:\",msg,state.Matrix.cnt);\n\t    state.React.App.broadcast(msg,'info');\n\t}\n    };\n    this.progressInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    if (e.loaded  === e.total) {\n\t\tstate.React.Dataset.setColor(state,\"\");\n\t\tstate.React.Status.setFootnote(state,\"\");\n\t    } else {\n\t\te.preventDefault();\n\t\t//console.log(\"Complete:\",e.loaded,e.total,JSON.stringify(e));\n\t\t//var percentComplete = e.loaded / e.total * 100;\n\t\t//state.React.Status.setFootnote(state,percentComplete.toFixed(2)+\"kb\");\n\t\tstate.React.Status.setFootnote(state,e.loaded+\" kb\");\n\t    }\n\t}\n    };\n    this.loadInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    state.React.Dataset.setColor(state,\"secondary\");\n\t    state.React.Status.setFootnote(state,\"Processing\");\n\t};\n    };\n    this.errorInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    state.React.Dataset.setColor(state,\"\");\n\t    state.React.Status.setFootnote(state,\"Error\");\n\t}\n    };\n    this.abortInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    state.React.Dataset.setColor(state,\"\");\n\t    state.React.Status.setFootnote(state,\"Aborted\");\n\t}\n    };\n};\nexport default Html;\n"]},"metadata":{},"sourceType":"module"}