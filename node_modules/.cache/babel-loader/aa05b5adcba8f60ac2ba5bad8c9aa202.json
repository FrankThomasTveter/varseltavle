{"ast":null,"code":"import _classCallCheck from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Popper from'@material-ui/core/Popper';//import { CompactPicker as Picker } from 'react-color';\nimport{ChromePicker as Picker}from'react-color';var styles=function styles(theme){return{settings:{marginRight:'auto',color:'red'},button:{color:'white'},paper:{border:'1px solid',padding:'10px',backgroundColor:theme.palette.background.paper},divTableCell:{border:'0px solid #999999',display:'table-cell',padding:'0px'//\tborder:  '1px solid blue',\n}};};var LevelColor=/*#__PURE__*/function(_Component){_inherits(LevelColor,_Component);function LevelColor(){var _this;_classCallCheck(this,LevelColor);_this=_possibleConstructorReturn(this,_getPrototypeOf(LevelColor).call(this));_this.state={anchor:null};_this.open=_this.open.bind(_assertThisInitialized(_this));_this.close=_this.close.bind(_assertThisInitialized(_this));_this.div=React.createRef();_this.popper=React.createRef();return _this;}_createClass(LevelColor,[{key:\"open\",value:function open(event){//\tvar node=this.div.current;\n//\tif ( ! this ) {\n//\t    console.log(\"P This is undefined...\");\n//\t} else if ( ! node) {\n//\t    console.log(\"P Node is undefined...\");\n//\t} else {\n//\t    console.log(\"P OK...\");\n//\t}\nthis.setState({anchor:event.currentTarget});var clickOff=function(evt){console.log(\"Got clickoff event...\");var node=this.popper.current;if(!this){//console.log(\"This is undefined...\");\ndocument.removeEventListener('click',clickOff);this.close();}else if(!node){//console.log(\"Node is undefined...\");\ndocument.removeEventListener('click',clickOff);this.close();}else if(node.contains(evt.target)){//console.log(\"Inside doc...\");\n}else{//console.log(\"Not inside doc...\");\ndocument.removeEventListener('click',clickOff);this.close();}}.bind(this);document.addEventListener('click',clickOff);}},{key:\"close\",value:function close(){// ... hide the menu element ...\nconsole.log(\"Closing...\");this.setState({anchor:null});}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,state=_this$props.state,classes=_this$props.classes,bg=_this$props.bg,fg=_this$props.fg,level=_this$props.level;//console.log(\"Rendering LevelColor...\");\nthis.onClick=function(event){_this2.open(event);};var handleColorChange=function handleColorChange(_ref){var hex=_ref.hex;console.log(\"Color:\",hex,level);state.Colors.setLevelBgColor(level,hex);state.Show.show(state,false);};var style={color:fg,backgroundColor:bg,textAlign:'center'};this.node=React.createElement(\"div\",{className:classes.divTableCell,style:style,onClick:this.onClick,ref:this.div},React.createElement(\"div\",null,level),React.createElement(Popper,{className:classes.paper,settings:{float:'right'},anchorEl:this.state.anchor,open:Boolean(this.state.anchor)},React.createElement(\"div\",{ref:this.popper},React.createElement(Picker,{className:classes.paper,color:bg,onChangeComplete:handleColorChange}))));return this.node;}}]);return LevelColor;}(Component);export default withStyles(styles)(LevelColor);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/LevelColor.js"],"names":["React","Component","withStyles","Button","Popper","ChromePicker","Picker","styles","theme","settings","marginRight","color","button","paper","border","padding","backgroundColor","palette","background","divTableCell","display","LevelColor","state","anchor","open","bind","close","div","createRef","popper","event","setState","currentTarget","clickOff","evt","console","log","node","current","document","removeEventListener","contains","target","addEventListener","props","classes","bg","fg","level","onClick","handleColorChange","hex","Colors","setLevelBgColor","Show","show","style","textAlign","float","Boolean"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Popper from '@material-ui/core/Popper';\n\n//import { CompactPicker as Picker } from 'react-color';\nimport { ChromePicker as Picker } from 'react-color';\n\nconst styles = theme => ({\n    settings: {\n        marginRight: 'auto',\n\tcolor:'red',\n    },\n    button:{color:'white'},\n    paper: {\n\tborder: '1px solid',\n\tpadding: '10px',\n\tbackgroundColor: theme.palette.background.paper,\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n//\tborder:  '1px solid blue',\n    },\n});\n\nclass LevelColor extends Component {\n    state = {anchor: null};\n    constructor() {\n\tsuper();\n\tthis.open=this.open.bind(this);\n\tthis.close=this.close.bind(this);\n\tthis.div=React.createRef();\n\tthis.popper=React.createRef();\n    }\n    open(event) {\t\n//\tvar node=this.div.current;\n//\tif ( ! this ) {\n//\t    console.log(\"P This is undefined...\");\n//\t} else if ( ! node) {\n//\t    console.log(\"P Node is undefined...\");\n//\t} else {\n//\t    console.log(\"P OK...\");\n//\t}\n\tthis.setState({ anchor: event.currentTarget })\n\tconst clickOff = function (evt){ \n\t    console.log(\"Got clickoff event...\");\n\t    var node=this.popper.current;\n\t    if ( ! this ) {\n\t\t//console.log(\"This is undefined...\");\n\t\tdocument.removeEventListener('click', clickOff);\n\t\tthis.close();\n\t    } else if ( ! node) {\n\t\t//console.log(\"Node is undefined...\");\n\t\tdocument.removeEventListener('click', clickOff);\n\t\tthis.close();\n\t    } else if (node.contains(evt.target)) {\n\t\t//console.log(\"Inside doc...\");\n\t    } else {\n\t\t//console.log(\"Not inside doc...\");\n\t\tdocument.removeEventListener('click', clickOff);\n\t\tthis.close();\n\t    }\n\t}.bind(this);\n\tdocument.addEventListener('click', clickOff);\n    };\n    close() {\n\t// ... hide the menu element ...\n\tconsole.log(\"Closing...\");\n\tthis.setState({ anchor: null });\n    };\n    render() {\n        const { state,classes,bg,fg,level } = this.props;\n\t//console.log(\"Rendering LevelColor...\");\n\tthis.onClick = (event) => {this.open(event)};\n\tconst handleColorChange = ({ hex }) => {console.log(\"Color:\",hex,level);state.Colors.setLevelBgColor(level,hex);state.Show.show(state,false);}\n\tvar style={color:fg,backgroundColor:bg,textAlign:'center'};\n\tthis.node=<div className={classes.divTableCell} style={style} onClick={this.onClick} ref={this.div}>\n\t\t    <div>\n\t\t      {level}\n\t\t    </div>\n\t          <Popper\n\t\t     className={classes.paper} \n\t\t     settings={{float:'right'}}\n\t             anchorEl={this.state.anchor}\n                     open={Boolean(this.state.anchor)}\n\t          >\n\t            <div ref={this.popper}>\n\t\t       <Picker className={classes.paper} color={bg} onChangeComplete={ handleColorChange }/>\n\t            </div>\n\t          </Popper>\n\t\t</div>\n\t    return this.node;\n    }\n}\n\n\n\n\nLevelColor.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(LevelColor);\n"]},"metadata":{},"sourceType":"module"}