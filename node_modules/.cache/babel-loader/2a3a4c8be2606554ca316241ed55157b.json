{"ast":null,"code":"import _classCallCheck from\"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import Chip from'@material-ui/core/Chip';import Remove from'./RemoveComponent';import RestValue from'./RestValueComponent';var styles=function styles(theme){return{config:{marginLeft:'auto'},tabchip:{margin:theme.spacing.unit,cursor:\"pointer\",color:\"red\",borderColor:\"blue\"},remove:{display:'inline-block',marginRight:'auto',height:'100%'}};};function renderMenuItem(classes,state,item,index,keyitem,onClose){//console.log(\"KeyItem:\",keyitem);\nif(item!==undefined){return React.createElement(MenuItem,{key:'rest-'+item},React.createElement(RestValue,{state:state,keyvalue:item,target:keyitem,onclose:onClose}));}else{return null;}}var RestMenu=/*#__PURE__*/function(_Component){_inherits(RestMenu,_Component);function RestMenu(){var _getPrototypeOf2;var _this;_classCallCheck(this,RestMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(RestMenu)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={anchor:null};return _this;}_createClass(RestMenu,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,classes=_this$props.classes,state=_this$props.state,keyitem=_this$props.keyitem,remove=_this$props.remove;this.onClick=function(event){if(items.length===0){_this2.setState({anchor:null});}else{_this2.setState({anchor:event.currentTarget});};};this.onClose=function(){_this2.setState({anchor:null});};if(remove!==undefined){this.remove=function(){state.Navigate.onClickPath(state,remove,keyitem);_this2.onClose();};}else{this.remove=function(){state.Navigate.onClickPath(state,'trash',keyitem);_this2.onClose();};};var items=state.Database.getKeyValues(state,keyitem);//state.Database.values[keyitem];\nitems=items.sort(state.Utils.ascending);var mapFunction=function mapFunction(item,index){return renderMenuItem(classes,state,item,index,keyitem,_this2.onClose);};//console.log(\"RestMenu.rendering:\",keyitem,JSON.stringify(items));\nreturn React.createElement(\"div\",{className:classes.config,key:keyitem},React.createElement(Chip,{label:keyitem,\"aria-owns\":this.state.anchor?'keys-menu':undefined,\"aria-haspopup\":\"true\",onClick:this.onClick,className:classes.tabchip,variant:\"outlined\"}),React.createElement(Menu,{id:\"keys-menu\",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},React.createElement(MenuItem,{key:\"remove\",onClose:this.onClose,className:classes.remove},React.createElement(Remove,{state:state,keyitem:keyitem,onclick:this.remove,onclose:this.onClose})),items.map(mapFunction),mapFunction(\"\",-1)));}}]);return RestMenu;}(Component);export default withStyles(styles)(RestMenu);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/RestMenuComponent.js"],"names":["React","Component","withStyles","Menu","MenuItem","Chip","Remove","RestValue","styles","theme","config","marginLeft","tabchip","margin","spacing","unit","cursor","color","borderColor","remove","display","marginRight","height","renderMenuItem","classes","state","item","index","keyitem","onClose","undefined","RestMenu","anchor","props","onClick","event","items","length","setState","currentTarget","Navigate","onClickPath","Database","getKeyValues","sort","Utils","ascending","mapFunction","Boolean","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport Remove     from './RemoveComponent';\n\nimport RestValue from './RestValueComponent';\n\nconst styles = theme => ({\n    config: {\n        marginLeft: 'auto',\n    },\n    tabchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n    remove: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n});\nfunction renderMenuItem(classes,state,item,index,keyitem,onClose) {\n    //console.log(\"KeyItem:\",keyitem);\n    if (item !== undefined) {\n\treturn (<MenuItem key={'rest-'+item}>\n\t       <RestValue state={state} keyvalue={item} target={keyitem} onclose={onClose}/> \n\t    </MenuItem>);\n    } else {\n\treturn null;\n    }\n}\nclass RestMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state, keyitem, remove } = this.props;\n\tthis.onClick = event => {\n\t    if (items.length===0) {\n\t\tthis.setState({ anchor: null });\n\t    } else {\n\t\tthis.setState({ anchor: event.currentTarget });\n\t    };\n\t};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tif (remove !== undefined) {\n\t    this.remove = () => {state.Navigate.onClickPath(state,remove,keyitem);this.onClose();};\n\t} else {\n\t    this.remove = () => {state.Navigate.onClickPath(state,'trash',keyitem);this.onClose();};\n\t};\n\tvar items=state.Database.getKeyValues(state,keyitem);//state.Database.values[keyitem];\n\titems=items.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index,keyitem,this.onClose);\n\t//console.log(\"RestMenu.rendering:\",keyitem,JSON.stringify(items));\n\treturn (\n\t\t<div className={classes.config} key={keyitem}>\n\t\t   <Chip\n                      label={keyitem}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n                      className={classes.tabchip}\n                      variant=\"outlined\"/>\n\t\t     <Menu\n                        id=\"keys-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t       <MenuItem key=\"remove\" onClose={this.onClose} className={classes.remove}>\n\t\t          <Remove state={state} keyitem={keyitem} onclick={this.remove} onclose={this.onClose}/>\n\t\t       </MenuItem>\n\t\t        {items.map(mapFunction)}\n\t\t        {mapFunction(\"\",-1)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nRestMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(RestMenu);\n"]},"metadata":{},"sourceType":"module"}