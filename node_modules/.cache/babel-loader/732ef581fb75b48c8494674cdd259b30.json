{"ast":null,"code":"import _classCallCheck from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';import Chip from'@material-ui/core/Chip';import TabIcon from'@material-ui/icons/Apps';import TableKey from'./TableKeyComponent';import Remove from'./RemoveComponent';var styles=function styles(theme){return{config:{marginLeft:'auto'},tabchip:{margin:theme.spacing.unit,cursor:\"pointer\",color:\"red\",borderColor:\"blue\"}};};function renderMenuItem(classes,state,keyitem,keyindex,key,onClose){return React.createElement(MenuItem,{key:keyitem},React.createElement(TableKey,{state:state,keyitem:keyitem,target:key,onclose:onClose}));}var TableMenu=/*#__PURE__*/function(_Component){_inherits(TableMenu,_Component);function TableMenu(){var _getPrototypeOf2;var _this;_classCallCheck(this,TableMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TableMenu)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={anchor:null};return _this;}_createClass(TableMenu,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,classes=_this$props.classes,state=_this$props.state,value=_this$props.value;this.onClick=function(event){//if (items.length===0) {\n//this.setState({ anchor: null });\n//} else {\n_this2.setState({anchor:event.currentTarget});//};\n};this.onClose=function(){_this2.setState({anchor:null});};this.remove=function(){state.Navigate.onClickPath(state,'trash',value);_this2.onClose();};var items=state.Utils.cp(state.Path.other.rest);items=items.sort(state.Utils.ascending);var mapFunction=function mapFunction(item,index){return renderMenuItem(classes,state,item,index,value,_this2.onClose);};//console.log(\"TableMenu.rendering:\",value,JSON.stringify(items));\nreturn React.createElement(\"div\",{className:classes.config,key:value},React.createElement(Chip,{icon:React.createElement(TabIcon,null),label:value,\"aria-owns\":this.state.anchor?'keys-menu':undefined,\"aria-haspopup\":\"true\",onClick:this.onClick,className:classes.tabchip,variant:\"outlined\"}),React.createElement(Menu,{id:\"keys-menu\",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},React.createElement(MenuItem,{key:\"remove\",onClose:this.onClose,className:classes.remove},React.createElement(Remove,{state:state,keyitem:value,onclick:this.remove,onclose:this.onClose})),items.map(mapFunction)));}}]);return TableMenu;}(Component);export default withStyles(styles)(TableMenu);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/TableMenuComponent.js"],"names":["React","Component","withStyles","Menu","MenuItem","Chip","TabIcon","TableKey","Remove","styles","theme","config","marginLeft","tabchip","margin","spacing","unit","cursor","color","borderColor","renderMenuItem","classes","state","keyitem","keyindex","key","onClose","TableMenu","anchor","props","value","onClick","event","setState","currentTarget","remove","Navigate","onClickPath","items","Utils","cp","Path","other","rest","sort","ascending","mapFunction","item","index","undefined","Boolean","map"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport TabIcon from '@material-ui/icons/Apps';\n\nimport TableKey from './TableKeyComponent';\nimport Remove   from './RemoveComponent';\n\nconst styles = theme => ({\n    config: {\n        marginLeft: 'auto',\n    },\n    tabchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n});\nfunction renderMenuItem(classes,state,keyitem,keyindex,key,onClose) {\n    return (<MenuItem key={keyitem}>\n\t       <TableKey state={state} keyitem={keyitem} target={key} onclose={onClose}/> \n\t    </MenuItem>);\n}\nclass TableMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state, value } = this.props;\n\tthis.onClick = event => {\n\t    //if (items.length===0) {\n\t\t//this.setState({ anchor: null });\n\t    //} else {\n\t\tthis.setState({ anchor: event.currentTarget });\n\t    //};\n\t};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tthis.remove = () => {state.Navigate.onClickPath(state,'trash',value);this.onClose();};\n\tvar items=state.Utils.cp(state.Path.other.rest);\n\titems=items.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index,value,this.onClose);\n\t//console.log(\"TableMenu.rendering:\",value,JSON.stringify(items));\n\treturn (\n\t\t<div className={classes.config} key={value}>\n\t\t   <Chip\n                      icon={<TabIcon />}\n                      label={value}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n                      className={classes.tabchip}\n                      variant=\"outlined\"/>\n\t\t     <Menu\n                        id=\"keys-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        <MenuItem key=\"remove\" onClose={this.onClose} className={classes.remove}>\n\t\t          <Remove state={state} keyitem={value} onclick={this.remove} onclose={this.onClose}/>\n\t\t       </MenuItem>\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nTableMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TableMenu);\n"]},"metadata":{},"sourceType":"module"}