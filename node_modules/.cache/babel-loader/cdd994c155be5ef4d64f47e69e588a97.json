{"ast":null,"code":"import _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/AppComponent.js\";\nimport React, { Component } from 'react';\nimport Dataset from './Dataset';\nimport NavBar from './NavBar';\nimport Db from './Db';\nimport { MuiThemeProvider, withStyles } from '@material-ui/core/styles';\nimport createTheme from '../mui/createTheme';\nimport PropTypes from \"prop-types\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport BackGroundImage from \"../images/waves.png\";\nimport { black_palette, teal_palette } from '../mui/metMuiThemes';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Colors from '../system/ColorsLib';\nimport Database from '../system/DatabaseLib';\nimport Default from '../system/DefaultLib';\nimport Html from '../system/HtmlLib';\nimport Layout from '../system/LayoutLib';\nimport Map0D from '../system/Map0DLib';\nimport Map1D from '../system/Map1DLib';\nimport Map2D from '../system/Map2DLib';\nimport Matrix from '../system/MatrixLib';\nimport Navigate from '../system/NavigateLib';\nimport Path from '../system/PathLib';\nimport Series0D from '../system/Series0DLib';\nimport Series1D from '../system/Series1DLib';\nimport Series2D from '../system/Series2DLib';\nimport Show from '../system/ShowLib';\nimport Table0D from '../system/Table0DLib';\nimport Table1D from '../system/Table1DLib';\nimport Table2D from '../system/Table2DLib';\nimport Threshold from '../system/ThresholdLib';\nimport Utils from '../system/UtilsLib';\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundImage: \"url(\".concat(BackGroundImage, \")\")\n    },\n    content: {\n      flex: '1 0 auto',\n      paddingTop: '5rem'\n    }\n  };\n};\n/**\n * The entire app get generated from this container.\n * We set the material UI theme by choosing a primary and secondary color from the metMuiThemes file\n * and creating a color palette with the createTheme method.\n * For information about using the different palettes see material UI documentation\n * \n * This app contains the database, path and matrix states...\n */\n\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.state = {\n      system: {\n        Colors: new Colors(),\n        Database: new Database(),\n        Default: new Default(),\n        Html: new Html(),\n        Layout: new Layout(),\n        Map0D: new Map0D(),\n        Map1D: new Map1D(),\n        Map2D: new Map2D(),\n        Matrix: new Matrix(),\n        Navigate: new Navigate(),\n        Path: new Path(),\n        Series0D: new Series0D(),\n        Series1D: new Series1D(),\n        Series2D: new Series2D(),\n        Show: new Show(),\n        Table0D: new Table0D(),\n        Table1D: new Table1D(),\n        Table2D: new Table2D(),\n        Threshold: new Threshold(),\n        Utils: new Utils()\n      },\n      react: {\n        AppComponent: _assertThisInitialized(_assertThisInitialized(_this))\n      }\n    };\n    _this.path = _this.getpath();\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"getpath\",\n    value: function getpath() {\n      var path = \"/\";\n\n      if (process.env.NODE_ENV === 'production') {\n        var raw = process.env.PUBLIC_URL;\n        path = raw + path;\n        var pos = raw.indexOf(\"//\");\n\n        if (pos > 0) {\n          pos = pos + 3;\n          pos = raw.indexOf(\"/\", pos);\n          path = path.substring(pos);\n        }\n\n        ;\n      }\n\n      ;\n      console.log(\"Using path:\", path);\n      return path;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"Initialising alarm.\");\n      this.state.Colors.init(this.state);\n      this.state.Path.init(this.state);\n      this.state.Show.init(this.state);\n      this.state.Threshold.init(this.state); //console.log(\"Update database.\")\n      //this.state.Database.update(this.state);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {}\n  }, {\n    key: \"tick\",\n    value: function tick() {\n      // check if database has changed, reload if necessary...\n      this.setState({\n        cnt: this.state.cnt + 1\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var state = this.state;\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: this.path,\n        render: function render() {\n          return React.createElement(MuiThemeProvider, {\n            theme: createTheme(teal_palette, black_palette),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: classes.content,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127\n            },\n            __self: this\n          }, React.createElement(Header, {\n            state: state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }), React.createElement(Dataset, {\n            state: state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          })), React.createElement(Footer, {\n            state: state,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nApp.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(App);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/AppComponent.js"],"names":["React","Component","Dataset","NavBar","Db","MuiThemeProvider","withStyles","createTheme","PropTypes","Header","Footer","BackGroundImage","black_palette","teal_palette","BrowserRouter","Route","Colors","Database","Default","Html","Layout","Map0D","Map1D","Map2D","Matrix","Navigate","Path","Series0D","Series1D","Series2D","Show","Table0D","Table1D","Table2D","Threshold","Utils","styles","theme","root","height","display","flexDirection","backgroundImage","content","flex","paddingTop","App","props","state","system","react","AppComponent","path","getpath","process","env","NODE_ENV","raw","PUBLIC_URL","pos","indexOf","substring","console","log","init","setState","cnt","classes","propTypes","object","isRequired"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAgC,OAAhC;AACA,OAAOC,OAAP,MAAuB,WAAvB;AACA,OAAOC,MAAP,MAAuB,UAAvB;AACA,OAAOC,EAAP,MAAuB,MAAvB;AACA,SAAQC,gBAAR,EAA0BC,UAA1B,QAA2C,0BAA3C;AACA,OAAOC,WAAP,MAAwB,oBAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAwB,UAAxB;AACA,OAAOC,MAAP,MAAwB,UAAxB;AACA,OAAOC,eAAP,MAA4B,qBAA5B;AACA,SAAQC,aAAR,EAAuBC,YAAvB,QAA0C,qBAA1C;AACA,SAAQC,aAAR,EAAuBC,KAAvB,QAAmC,kBAAnC;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAK;AACrBC,IAAAA,IAAI,EAAE;AACFC,MAAAA,MAAM,EAAE,OADN;AAEFC,MAAAA,OAAO,EAAE,MAFP;AAGFC,MAAAA,aAAa,EAAE,QAHb;AAIFC,MAAAA,eAAe,gBAAS/B,eAAT;AAJb,KADe;AAOrBgC,IAAAA,OAAO,EAAE;AACLC,MAAAA,IAAI,EAAE,UADD;AAELC,MAAAA,UAAU,EAAE;AAFP;AAPY,GAAL;AAAA,CAApB;AAcA;;;;;;;;;;IAQMC,G;;;;;AACF,eAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACtB,6EAAMA,KAAN;AACA,UAAKC,KAAL,GAAW;AACPC,MAAAA,MAAM,EAAC;AACVjC,QAAAA,MAAM,EAAK,IAAIA,MAAJ,EADD;AAEVC,QAAAA,QAAQ,EAAG,IAAIA,QAAJ,EAFD;AAGVC,QAAAA,OAAO,EAAI,IAAIA,OAAJ,EAHD;AAIVC,QAAAA,IAAI,EAAO,IAAIA,IAAJ,EAJD;AAKVC,QAAAA,MAAM,EAAK,IAAIA,MAAJ,EALD;AAMVC,QAAAA,KAAK,EAAM,IAAIA,KAAJ,EAND;AAOVC,QAAAA,KAAK,EAAM,IAAIA,KAAJ,EAPD;AAQVC,QAAAA,KAAK,EAAM,IAAIA,KAAJ,EARD;AASVC,QAAAA,MAAM,EAAK,IAAIA,MAAJ,EATD;AAUVC,QAAAA,QAAQ,EAAG,IAAIA,QAAJ,EAVD;AAWVC,QAAAA,IAAI,EAAO,IAAIA,IAAJ,EAXD;AAYVC,QAAAA,QAAQ,EAAG,IAAIA,QAAJ,EAZD;AAaVC,QAAAA,QAAQ,EAAG,IAAIA,QAAJ,EAbD;AAcVC,QAAAA,QAAQ,EAAG,IAAIA,QAAJ,EAdD;AAeVC,QAAAA,IAAI,EAAO,IAAIA,IAAJ,EAfD;AAgBVC,QAAAA,OAAO,EAAI,IAAIA,OAAJ,EAhBD;AAiBVC,QAAAA,OAAO,EAAI,IAAIA,OAAJ,EAjBD;AAkBVC,QAAAA,OAAO,EAAI,IAAIA,OAAJ,EAlBD;AAmBVC,QAAAA,SAAS,EAAE,IAAIA,SAAJ,EAnBD;AAoBVC,QAAAA,KAAK,EAAM,IAAIA,KAAJ;AApBD,OADA;AAuBPe,MAAAA,KAAK,EAAE;AAAEC,QAAAA,YAAY;AAAd;AAvBA,KAAX;AAyBA,UAAKC,IAAL,GAAU,MAAKC,OAAL,EAAV;AA3BsB;AA4BlB;;;;8BACS;AACb,UAAID,IAAI,GAAC,GAAT;;AACA,UAAIE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AAChC,YAAIC,GAAG,GAACH,OAAO,CAACC,GAAR,CAAYG,UAApB;AACAN,QAAAA,IAAI,GAACK,GAAG,GAACL,IAAT;AACA,YAAIO,GAAG,GAACF,GAAG,CAACG,OAAJ,CAAY,IAAZ,CAAR;;AACA,YAAID,GAAG,GAAC,CAAR,EAAW;AACrBA,UAAAA,GAAG,GAACA,GAAG,GAAC,CAAR;AACAA,UAAAA,GAAG,GAACF,GAAG,CAACG,OAAJ,CAAY,GAAZ,EAAgBD,GAAhB,CAAJ;AACAP,UAAAA,IAAI,GAACA,IAAI,CAACS,SAAL,CAAeF,GAAf,CAAL;AACW;;AAAA;AACX;;AAAA;AACDG,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA0BX,IAA1B;AACA,aAAOA,IAAP;AACI;;;wCACmB;AAChBU,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA,WAAKf,KAAL,CAAWhC,MAAX,CAAkBgD,IAAlB,CAAuB,KAAKhB,KAA5B;AACA,WAAKA,KAAL,CAAWtB,IAAX,CAAgBsC,IAAhB,CAAqB,KAAKhB,KAA1B;AACA,WAAKA,KAAL,CAAWlB,IAAX,CAAgBkC,IAAhB,CAAqB,KAAKhB,KAA1B;AACA,WAAKA,KAAL,CAAWd,SAAX,CAAqB8B,IAArB,CAA0B,KAAKhB,KAA/B,EALgB,CAMhB;AACA;AACH;;;2CACsB,CACtB;;;2BACM;AACV;AACK,WAAKiB,QAAL,CAAc;AACZC,QAAAA,GAAG,EAAE,KAAKlB,KAAL,CAAWkB,GAAX,GAAe;AADR,OAAd;AAGD;;;6BACQ;AAAA,UACGC,OADH,GACe,KAAKpB,KADpB,CACGoB,OADH;AAEZ,UAAMnB,KAAK,GAAS,KAAKA,KAAzB;AACO,aACI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAEmB,OAAO,CAAC7B,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE,IAAd;AAAoB,QAAA,IAAI,EAAE,KAAKc,IAA/B;AAAqC,QAAA,MAAM,EAAE;AAAA,iBACzC,oBAAC,gBAAD;AAAkB,YAAA,KAAK,EAAE7C,WAAW,CAACM,YAAD,EAAeD,aAAf,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAK,YAAA,SAAS,EAAEuD,OAAO,CAACxB,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,MAAD;AAAW,YAAA,KAAK,EAAEK,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI,oBAAC,OAAD;AAAW,YAAA,KAAK,EAAEA,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,CADJ,EAKI,oBAAC,MAAD;AAAe,YAAA,KAAK,EAAEA,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,CADyC;AAAA,SAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CADJ;AAeH;;;;EAhFa/C,S;;AAmFlB6C,GAAG,CAACsB,SAAJ,GAAgB;AACZD,EAAAA,OAAO,EAAE3D,SAAS,CAAC6D,MAAV,CAAiBC;AADd,CAAhB;AAIA,eAAehE,UAAU,CAAC8B,MAAD,CAAV,CAAmBU,GAAnB,CAAf","sourcesContent":["import React, { Component} from 'react';\nimport Dataset  from   './Dataset';\nimport NavBar   from   './NavBar';\nimport Db       from   './Db';\nimport {MuiThemeProvider, withStyles} from '@material-ui/core/styles';\nimport createTheme from '../mui/createTheme'\nimport PropTypes from \"prop-types\";\nimport Header   from    \"./Header\";\nimport Footer   from    \"./Footer\";\nimport BackGroundImage from \"../images/waves.png\";\nimport {black_palette, teal_palette} from '../mui/metMuiThemes'\nimport {BrowserRouter, Route} from 'react-router-dom';\n\nimport Colors from '../system/ColorsLib';\nimport Database from '../system/DatabaseLib';\nimport Default from '../system/DefaultLib';\nimport Html from '../system/HtmlLib';\nimport Layout from '../system/LayoutLib';\nimport Map0D from '../system/Map0DLib';\nimport Map1D from '../system/Map1DLib';\nimport Map2D from '../system/Map2DLib';\nimport Matrix from '../system/MatrixLib';\nimport Navigate from '../system/NavigateLib';\nimport Path from '../system/PathLib';\nimport Series0D from '../system/Series0DLib';\nimport Series1D from '../system/Series1DLib';\nimport Series2D from '../system/Series2DLib';\nimport Show from '../system/ShowLib';\nimport Table0D from '../system/Table0DLib';\nimport Table1D from '../system/Table1DLib';\nimport Table2D from '../system/Table2DLib';\nimport Threshold from '../system/ThresholdLib';\nimport Utils from '../system/UtilsLib';\n\nconst styles = theme => ({\n    root: {\n        height: '100vh',\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundImage: `url(${BackGroundImage})`\n    },\n    content: {\n        flex: '1 0 auto',\n        paddingTop: '5rem',\n    }\n});\n\n\n/**\n * The entire app get generated from this container.\n * We set the material UI theme by choosing a primary and secondary color from the metMuiThemes file\n * and creating a color palette with the createTheme method.\n * For information about using the different palettes see material UI documentation\n * \n * This app contains the database, path and matrix states...\n */\nclass App extends Component {\n    constructor(props) {\n\tsuper(props);\n\tthis.state={\n\t    system:{\n\t\tColors:    new Colors()    ,\n\t\tDatabase:  new Database()  ,\n\t\tDefault:   new Default()   ,\n\t\tHtml:      new Html()      ,\n\t\tLayout:    new Layout()    ,\n\t\tMap0D:     new Map0D()     ,\n\t\tMap1D:     new Map1D()     ,\n\t\tMap2D:     new Map2D()     ,\n\t\tMatrix:    new Matrix()    ,\n\t\tNavigate:  new Navigate()  ,\n\t\tPath:      new Path()      ,\n\t\tSeries0D:  new Series0D()  ,\n\t\tSeries1D:  new Series1D()  ,\n\t\tSeries2D:  new Series2D()  ,\n\t\tShow:      new Show()      ,\n\t\tTable0D:   new Table0D()   ,\n\t\tTable1D:   new Table1D()   ,\n\t\tTable2D:   new Table2D()   ,\n\t\tThreshold: new Threshold() ,\n\t\tUtils:     new Utils()\n\t    },\n\t    react: { AppComponent : this }\n\t};\n\tthis.path=this.getpath();\n    };\n    getpath() {\n\tvar path=\"/\";\n\tif (process.env.NODE_ENV === 'production') {\n            var raw=process.env.PUBLIC_URL;\n            path=raw+path;\n            var pos=raw.indexOf(\"//\");\n            if (pos>0) {\n\t\tpos=pos+3;\n\t\tpos=raw.indexOf(\"/\",pos);\n\t\tpath=path.substring(pos);\n            };\n\t};\n\tconsole.log(\"Using path:\",path);\n\treturn path;\n    };\n    componentDidMount() {\n        console.log(\"Initialising alarm.\")\n        this.state.Colors.init(this.state);\n        this.state.Path.init(this.state);\n        this.state.Show.init(this.state);\n        this.state.Threshold.init(this.state);\n        //console.log(\"Update database.\")\n        //this.state.Database.update(this.state);\n    };\n    componentWillUnmount() {\n    };\n    tick() {\n\t// check if database has changed, reload if necessary...\n      this.setState({\n        cnt: this.state.cnt+1\n      });\n    };\n    render() {\n        const { classes } = this.props;\n\tconst state       = this.state;\n        return (\n            <BrowserRouter>\n                <div className={classes.root}>\n                    <Route exact={true} path={this.path} render={() => (\n                        <MuiThemeProvider theme={createTheme(teal_palette, black_palette)}>\n                            <div className={classes.content}>\n                                <Header    state={state} />\n                                <Dataset   state={state} />\n                            </div>\n                            <Footer        state={state}/>\n                        </MuiThemeProvider>\n                    )}/>\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n\nApp.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(App);\n\n"]},"metadata":{},"sourceType":"module"}