{"ast":null,"code":"import _classCallCheck from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/franktt/react/varseltavle/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{withStyles}from'@material-ui/core/styles';import Button from'@material-ui/core/Button';import Menu from'@material-ui/core/Menu';import MenuItem from'@material-ui/core/MenuItem';//import ArchiveIcon from '@material-ui/icons/VpnArchive';\nimport ArchiveIcon from'@material-ui/icons/Unarchive';import Archive from'./ArchiveComponent';var styles=function styles(theme){return{settings:{},config:{marginLeft:'auto'},othchip:{margin:theme.spacing.unit,cursor:\"pointer\",color:\"blue\",borderColor:\"blue\"},trashchip:{margin:theme.spacing.unit,cursor:\"pointer\",color:\"gray\",borderColor:\"gray\"},button:{color:'white'}};};function renderMenuItem(classes,state,item,index){if(item[0]===\"\"||item[0]===null||item[0]===undefined){return null;}else{//console.log(\"Archive:\",JSON.stringify(item),JSON.stringify(index));\nreturn React.createElement(MenuItem,{key:item[0]},React.createElement(Archive,{state:state,item:item[0],index:item[1],active:item[2]}));}}var ArchiveMenu=/*#__PURE__*/function(_Component){_inherits(ArchiveMenu,_Component);function ArchiveMenu(){var _getPrototypeOf2;var _this;_classCallCheck(this,ArchiveMenu);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(ArchiveMenu)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={anchor:null};return _this;}_createClass(ArchiveMenu,[{key:\"render\",value:function render(){var _this2=this;//console.log(\"Rendering ArchiveComponents...\");\nvar _this$props=this.props,classes=_this$props.classes,state=_this$props.state;//console.log(\"Archives.starting:\",JSON.stringify(state.Path.other));\nthis.onClick=function(event){_this2.setState({anchor:event.currentTarget});};this.onClose=function(){_this2.setState({anchor:null});};var items=state.Database.files.map(function(item,index){return[item,index,index===state.Database.index];}).sort(state.Utils.ascendingArr);var mapFunction=function mapFunction(item,index){return renderMenuItem(classes,state,item,index);};//console.log(\"Archives.rendering:\",JSON.stringify(state.Path.other));\n//console.log(\"Archives.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\nreturn React.createElement(\"div\",{className:classes.view},React.createElement(Button,{className:classes.button,\"aria-owns\":this.state.anchor?'keys-menu':undefined,\"aria-haspopup\":\"true\",onClick:this.onClick,title:\"Available database files.\"},React.createElement(ArchiveIcon,{state:state})),React.createElement(Menu,{id:\"archive-menu\",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},items.map(mapFunction)));}}]);return ArchiveMenu;}(Component);export default withStyles(styles)(ArchiveMenu);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/ArchiveMenuComponent.js"],"names":["React","Component","withStyles","Button","Menu","MenuItem","ArchiveIcon","Archive","styles","theme","settings","config","marginLeft","othchip","margin","spacing","unit","cursor","color","borderColor","trashchip","button","renderMenuItem","classes","state","item","index","undefined","ArchiveMenu","anchor","props","onClick","event","setState","currentTarget","onClose","items","Database","files","map","sort","Utils","ascendingArr","mapFunction","view","Boolean"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n//import ArchiveIcon from '@material-ui/icons/VpnArchive';\nimport ArchiveIcon from '@material-ui/icons/Unarchive';\nimport Archive     from './ArchiveComponent';\n\nconst styles = theme => ({\n    settings:{},\n    config: {\n        marginLeft: 'auto',\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    trashchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n  },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction renderMenuItem(classes,state,item,index) {\n    if (item[0]===\"\" || item[0] === null || item[0]===undefined) {\n\treturn null;\n    } else {\n\t//console.log(\"Archive:\",JSON.stringify(item),JSON.stringify(index));\n\treturn (<MenuItem key={item[0]}>\n\t\t<Archive state={state} item={item[0]}  index={item[1]} active={item[2]}/> \n\t\t</MenuItem>);\n    }\n}\nclass ArchiveMenu extends Component {\n    state={anchor:null};\n    render() {\n\t//console.log(\"Rendering ArchiveComponents...\");\n        const { classes, state } = this.props;\n\t//console.log(\"Archives.starting:\",JSON.stringify(state.Path.other));\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar items=state.Database.files.map(\n\t    function(item,index) {\n\t\treturn [item,index,index===state.Database.index]\n\t    }\n\t).sort(state.Utils.ascendingArr);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index);\n\t//console.log(\"Archives.rendering:\",JSON.stringify(state.Path.other));\n\t//console.log(\"Archives.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\treturn (\n\t\t<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Available database files.\"}\n\t\t    >\n\t  \t       {<ArchiveIcon state={state}/>}\n                     </Button>\n\t\t     <Menu\n                        id=\"archive-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nArchiveMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ArchiveMenu);\n"]},"metadata":{},"sourceType":"module"}