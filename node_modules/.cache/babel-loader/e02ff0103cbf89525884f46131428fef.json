{"ast":null,"code":"import _objectWithoutProperties from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/franktt/react/varseltavle/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/franktt/react/varseltavle/src/react/TextComponent.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nvar styles = function styles(theme) {\n  return {\n    pointer: {\n      cursor: \"pointer\",\n      padding: theme.spacing.unit * 0\n    },\n    nopointer: {\n      padding: theme.spacing.unit * 0\n    }\n  };\n};\n\nfunction updateCanvas(item) {\n  var _item$props = item.props,\n      state = _item$props.state,\n      elements = _item$props.elements,\n      colkey = _item$props.colkey,\n      rowkey = _item$props.rowkey,\n      colvalues = _item$props.colvalues,\n      index = _item$props.index,\n      range = _item$props.range,\n      label = _item$props.label,\n      rotate = _item$props.rotate,\n      width = _item$props.width;\n  var cnv = item.refs.text;\n  var ctx = cnv.getContext('2d');\n  var theight = cnv.height;\n  var height = ctx.measureText('M').width;\n  ctx.save(); //ctx.translate(newx, newy);\n\n  if (rotate !== undefined) {\n    ctx.rotate(-Math.PI / 2);\n  }\n\n  ;\n  ctx.textAlign = \"center\"; //left right center\n  //ctx.font = \"40px Courier\"\n\n  ctx.rect(0, 0, 10, 10);\n  ctx.stroke();\n  ctx.fillText(label, 10, 10); // labelXposition\n\n  ctx.restore();\n  console.log(\"Label:\", label, width, height); //console.log(\"Text:\",cnv.width,cnv.height);\n}\n\nvar TextComponent =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TextComponent, _React$Component);\n\n  function TextComponent(props) {\n    var _this;\n\n    _classCallCheck(this, TextComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextComponent).call(this, props));\n    var state = props.state;\n    return _this;\n  }\n\n  _createClass(TextComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      updateCanvas(this);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          classes = _this$props.classes,\n          onclick = _this$props.onclick,\n          title = _this$props.title,\n          width = _this$props.width,\n          other = _objectWithoutProperties(_this$props, [\"classes\", \"onclick\", \"title\", \"width\"]);\n\n      var cursor = classes.nopointer;\n\n      if (onclick !== undefined) {\n        cursor = classes.pointer;\n      }\n\n      return React.createElement(\"canvas\", Object.assign({}, other, {\n        className: cursor,\n        classes: classes,\n        onClick: onclick,\n        title: title,\n        ref: \"text\",\n        width: width,\n        height: 10,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return TextComponent;\n}(React.Component);\n\nTextComponent.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(TextComponent);","map":{"version":3,"sources":["/home/franktt/react/varseltavle/src/react/TextComponent.js"],"names":["React","Component","PropTypes","withStyles","styles","theme","pointer","cursor","padding","spacing","unit","nopointer","updateCanvas","item","props","state","elements","colkey","rowkey","colvalues","index","range","label","rotate","width","cnv","refs","text","ctx","getContext","theight","height","measureText","save","undefined","Math","PI","textAlign","rect","stroke","fillText","restore","console","log","TextComponent","classes","onclick","title","other","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    pointer: {\n\tcursor:\"pointer\",\n\tpadding: theme.spacing.unit*0,\n    },\n    nopointer: {\n\tpadding: theme.spacing.unit*0,\n    },\n});\n\nfunction updateCanvas(item) {\n    const {state,elements,colkey,rowkey,colvalues,index,range,label,rotate,width} = item.props;\n    const cnv=item.refs.text;\n    const ctx = cnv.getContext('2d');\n    var theight = cnv.height;\n    var height=ctx.measureText('M').width;\n    ctx.save();\n    //ctx.translate(newx, newy);\n    if (rotate !== undefined) {ctx.rotate(-Math.PI/2);};\n    ctx.textAlign = \"center\"; //left right center\n    //ctx.font = \"40px Courier\"\n    ctx.rect(0,0,10,10);\n    ctx.stroke();\n    ctx.fillText(label, 10, 10); // labelXposition\n    ctx.restore();\n    console.log(\"Label:\",label,width,height);\n    //console.log(\"Text:\",cnv.width,cnv.height);\n}\n    \n\nclass TextComponent extends React.Component {\n    constructor(props) {\n        super(props);\n        const {state} = props;\n    };\n    componentDidMount() {\n        updateCanvas(this);\n    }\n    render() {\n        const { classes, onclick, title, width, ...other } = this.props;\n\tvar cursor=classes.nopointer;\n\tif (onclick !== undefined) {\n\t    cursor=classes.pointer;\n\t}\n        return (\n\t\t<canvas {...other} className={cursor} classes={classes} onClick={onclick} title={title} ref=\"text\" width={width} height={10}/>\n        );\n    }\n}\n\nTextComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TextComponent);\n"]},"metadata":{},"sourceType":"module"}