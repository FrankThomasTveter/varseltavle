(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(t,e,a){t.exports=a.p+"static/media/homePageImg.fd8ee578.png"},110:function(t,e){t.exports="data:image/png;base64,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"},135:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAOCAYAAACW0Lq4AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4goDCi41n37vvwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAK1SURBVEjHtZfbbtswEETPLim7//+hBQr0obpwpw8kZSmREstuCQQIEFMezc5lYyEJwHjtFAm3evvqMySB7W+9g8NgxXL1qH+/GiFXL4fEWII5AsPIbmQzhuQvv9QrOJYIxhKNkIrjlpz8IjGXCAmJIjGHWEKE9GC2/eTkDP+ZmE7EVKLiQKu2ukqyG4Mb2a/heIqQSkSV5RJ1GnFyy6CqxZ3shputZL17ShtIqBKyxGMgH48bJOvKddyes9MpIWrTr9MQ8ykROnxdA27JSWYkM9yaii5KueMIwaJgbso8xvE5hdxgaMNJbThfEfOJEB34c4k4eOnq2WT1t2ofHX4uWfX14F7BSN8Ss8Uxl2AshXI8Ooyqhk7cEY6u3MGNIaX61wMcKyHa2GOJYGo58ZUt7snJ7qhZam6+/krG9+TcOqBD+po9QiwSUwvMMxyDGz9yws0aDjGFmEo5NWoy456MwX0lxD4SUiTGUlgCiuLwYW6Q3bm1jOgP2tZnb58pghMz4mbcvComue2+qZIqFgWhczsObtxTIrl9wiGJAMYlmOKMGDVi0po1ADZHaFwKi3QKIBmtymo4mdlpSKoBC8EUhSXUJmyHxHQ7Gaz21MlGkq3n0gUcwFSCuQRxpDLrindu7tivcda2Pg+JcMex9fKz1dj3ldJCeT7Jopor7OpzT4StAf0dEWc7U2xsfRQFZmCC/NGfZuB90dr0+NXa7HfMDPee7lBaZW5cu2kM291PrRl6dV4ZyO45VuvfJdycZGrKfeCQKnn5SMLZnaGBefdYI3lwI5OYo7ZC6bWuz59/4KgLnv+DHWYlBsjZq42CdbnsOOznn1G7ldf/DYDvFr15t9toE5bOPSf8jf9LnsbR8qVIzKVUw/6eZt1zWpeWV9boV2ELKPFYtnp9vorjmf3mHIeYIvgL5H7lERpc8/0AAAAASUVORK5CYII="},138:function(t,e,a){t.exports=a(297)},297:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),o=a(28),r=a.n(o),s=a(3),l=a(4),c=a(6),h=a(5),u=a(7),d=a(15),v=a(2),f=a(27),p=a.n(f),g=a(16),m=a.n(g),y=a(9),A=a.n(y),b=a(19),k=a.n(b),C=a(29),w=a.n(C),x=a(105),E=a.n(x),O=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.keyitem,o=t.valueitem,r=-1!==t.tpos?e.selchip:e.othchip;return n.a.createElement("div",{className:e.value},n.a.createElement(k.a,{icon:null,label:o,onClick:function(){return a.Path.toggleSelect(a,i,o)},className:r,variant:"outlined"}))}}]),e}(i.Component),P=Object(v.withStyles)(function(t){return{value:{display:"inline-block",marginRight:"auto"},selchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"},othchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"}}})(O),N=a(10),j=a.n(N),D=a(103),M=a.n(D),S=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.state,a=t.classes,i=t.onclick;return n.a.createElement(j.a,{className:a.button,onClick:i,title:"Remove table"},n.a.createElement(M.a,{state:e}))}}]),e}(i.Component),T=Object(v.withStyles)(function(t){return{button:{},remove:{marginLeft:"auto"}}})(S),R=a(104),U=a.n(R),F=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t,e=this.props,a=e.state,i=e.classes,o=e.onclose;return t=void 0===o?function(t){return a.Show.show(a,!0)}:function(t){a.Show.show(a,!0),o()},n.a.createElement(j.a,{className:i.button,onClick:t,title:"Reload table"},n.a.createElement(U.a,{state:a}))}}]),e}(i.Component),I=Object(v.withStyles)(function(t){return{reload:{marginLeft:"auto"},button:{color:"white"}}})(F);var L=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state,o=e.keyitem,r=e.title,s=e.label,l=e.remove;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var c=i.Database.getKeyValues(i,o);this.remove=void 0!==l?function(){i.Navigate.onClickPath(i,l,o),t.onClose()}:function(){i.Navigate.onClickPath(i,"path",o),t.onClose()},c.sort(i.Utils.ascending);var h,u,d=function(t,e){return function(t,e,a,i,o){var r=e.Path.select.val[a],s=-1;return void 0!==r&&(s=r.indexOf(i)),void 0!==i?n.a.createElement(A.a,{value:i,key:i},n.a.createElement(P,{state:e,keyitem:a,valueitem:i,tpos:s})):null}(0,i,o,t)};return""===s?(h=n.a.createElement(E.a,null),u=o):(h=n.a.createElement(w.a,null),u=s),n.a.createElement("div",{className:a.values,key:"selectValue-"+o},n.a.createElement(k.a,{icon:h,label:u,title:r,className:a.selectchip,variant:"outlined","aria-owns":this.state.anchor?"values-menu":void 0,"aria-haspopup":"true",onClick:this.onClick}),n.a.createElement(m.a,{id:"values-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},n.a.createElement(A.a,{key:"remove",onClose:this.onClose,className:a.remove},n.a.createElement(T,{state:i,classes:{button:a.button},keyitem:o,onclick:this.remove,onclose:this.onClose})),d(i.Database.makeKeytrg(i,o,i.Database.keytrg.Min)),c.map(d),d(i.Database.makeKeytrg(i,o,i.Database.keytrg.Max)),d(""),n.a.createElement(A.a,{key:"reload",onClose:this.onClose,className:a.reload},n.a.createElement(I,{state:i,onclose:this.onClose}))))}}]),e}(i.Component),B=Object(v.withStyles)(function(t){return{settings:{},button:{},values:{display:"inline-block",marginLeft:"auto"},selectchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"blue"},reload:{display:"inline-block",marginRight:"auto",height:"100%"},remove:{display:"inline-block",marginRight:"auto",height:"100%"}}})(L);var K=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=(t.classes,t.state);return e.Path.keys.path.map(function(t,a){return function(t,e,a,i){var o=e.Path.keys.path[i],r=e.Path.select.val[o],s="";void 0!==r&&r.length>0&&(s=r[0]);var l="'"+e.Path.where[o]+"'";return n.a.createElement("span",{key:"select-".concat(o)},n.a.createElement(B,{state:e,classes:{},keyitem:a,keyindex:i,label:s,onclick:function(){return e.Navigate.onClickPath(e,"path",o)},title:l}))}(0,e,t,a)})}}]),e}(i.Component),Q=Object(v.withStyles)(function(t){return{settings:{},config:{marginLeft:"auto"}}})(K),H=a(33),V=a.n(H),W=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.keyitem,o=t.target,r=t.onclose,s=function(){a.Navigate.onClickTablePath(a,i,o),r()},l=e.restchip;return-1===a.Path.keys.path.indexOf(i)?n.a.createElement("div",{className:e.key},n.a.createElement(k.a,{label:i,onClick:s,className:l,variant:"outlined"})):n.a.createElement("div",{className:e.key},n.a.createElement(k.a,{icon:n.a.createElement(w.a,null),label:i,onClick:s,className:l,variant:"outlined"}))}}]),e}(i.Component),J=Object(v.withStyles)(function(t){return{config:{},key:{display:"inline-block",marginRight:"auto"},restchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"}}})(W);var G=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state,o=e.value;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})},this.remove=function(){i.Navigate.onClickPath(i,"trash",o),t.onClose()};var r=i.Utils.cp(i.Path.other.rest);r=r.sort(i.Utils.ascending);return n.a.createElement("div",{className:a.config,key:o},n.a.createElement(k.a,{icon:n.a.createElement(V.a,null),label:o,"aria-owns":this.state.anchor?"keys-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,className:a.tabchip,variant:"outlined"}),n.a.createElement(m.a,{id:"keys-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},n.a.createElement(A.a,{key:"remove",onClose:this.onClose,className:a.remove},n.a.createElement(T,{state:i,keyitem:o,onclick:this.remove,onclose:this.onClose})),r.map(function(e,a){return function(t,e,a,i,o,r){return n.a.createElement(A.a,{key:a},n.a.createElement(J,{state:e,keyitem:a,target:o,onclose:r}))}(0,i,e,0,o,t.onClose)})))}}]),e}(i.Component),q=Object(v.withStyles)(function(t){return{config:{marginLeft:"auto"},tabchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"blue"}}})(G);var z=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return a.Path.other.table.map(function(t,i){return function(t,e,a,i){return n.a.createElement("span",{key:"table-".concat(a)},n.a.createElement(q,{classes:{tabchip:t.tabchip},state:e,value:a}))}(e,a,t)})}}]),e}(i.Component),Y=Object(v.withStyles)(function(t){return{config:{marginLeft:"auto"},tabchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"blue"}}})(z),X=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.keyvalue,o=t.target,r=t.onclose,s=a.Database.getWhereDetail(o,i);return n.a.createElement(k.a,{label:i,onClick:function(){a.Navigate.onClickRestValue(a,i,o,s),r()},className:e.restchip,variant:"outlined",title:s})}}]),e}(i.Component),Z=Object(v.withStyles)(function(t){return{key:{display:"inline-block",marginRight:"auto"},restchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"}}})(X);var _=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state,o=e.keyitem,r=e.remove;this.onClick=function(e){0===s.length?t.setState({anchor:null}):t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})},this.remove=void 0!==r?function(){i.Navigate.onClickPath(i,r,o),t.onClose()}:function(){i.Navigate.onClickPath(i,"trash",o),t.onClose()};var s=i.Database.getKeyValues(i,o);s=s.sort(i.Utils.ascending);var l=function(e,a){return function(t,e,a,i,o,r){return void 0!==a?n.a.createElement(A.a,{key:"rest-"+a},n.a.createElement(Z,{state:e,keyvalue:a,target:o,onclose:r})):null}(0,i,e,0,o,t.onClose)};return n.a.createElement("div",{className:a.config,key:o},n.a.createElement(k.a,{label:o,"aria-owns":this.state.anchor?"keys-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,className:a.tabchip,variant:"outlined"}),n.a.createElement(m.a,{id:"keys-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},n.a.createElement(A.a,{key:"remove",onClose:this.onClose,className:a.remove},n.a.createElement(T,{state:i,keyitem:o,onclick:this.remove,onclose:this.onClose})),s.map(l),l("")))}}]),e}(i.Component),$=Object(v.withStyles)(function(t){return{config:{marginLeft:"auto"},tabchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"blue"},remove:{display:"inline-block",marginRight:"auto",height:"100%"}}})(_);var tt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=(t.classes,t.state);return e.Path.other.rest.map(function(t,a){return function(t,e,a,i){var o,r,s;if(-1===e.Path.keys.path.indexOf(a))return o=e.Path.other.rest[i],r=function(){return e.Navigate.onClickPath(e,"rest",o)},s="'"+e.Path.other.rest[i]+"'",n.a.createElement("span",{key:"rest-".concat(o)},n.a.createElement($,{state:e,classes:{},keyitem:a,keyindex:i,remove:"trash",onclick:r,title:s}));o=e.Path.other.rest[i];var l=a;return r=function(){return e.Navigate.onClickPath(e,"path",o)},s="'"+e.Path.where[o]+"'",n.a.createElement("span",null,n.a.createElement(B,{state:e,classes:{},key:"rest-".concat(o),keyitem:a,keyindex:i,label:l,remove:"trash",onclick:r,title:s}))}(0,e,t,a)})}}]),e}(i.Component),et=Object(v.withStyles)(function(t){return{config:{marginLeft:"auto"}}})(tt);function at(t){var e=t.state,a=t.classes;return e.Layout.state.viewMode===e.Layout.code.view.path?n.a.createElement("div",{className:a.root},n.a.createElement(Q,{state:e,key:"select"}),n.a.createElement(Y,{state:e,key:"table"}),n.a.createElement(et,{state:e,key:"rest"})):null}var it=function(t){function e(t){var a;return Object(s.a)(this,e),a=Object(c.a)(this,Object(h.a)(e).call(this,t)),t.state.React.Path=Object(d.a)(Object(d.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"showPath",value:function(t){this.forceUpdate()}},{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.root},n.a.createElement(p.a,{container:!0,spacing:24},n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(at,{classes:e,state:a}))))}}]),e}(i.Component),nt=Object(v.withStyles)(function(t){return{root:{display:"flex",flexWrap:"wrap",alignContent:"flex-start"},paper:{padding:2*t.spacing.unit,textAlign:"left"},paperImage:{textAlign:"center",padding:2*t.spacing.unit},button:{color:"white"}}})(it),ot=a(35),rt={light:"#BADEE4",main:"#0090A8",dark:"#74C4D7"},st={light:"#E9E9E9",main:"#496C80",dark:"#323232"},lt=a(30),ct=a.n(lt);function ht(t){var e=t.props,a=e.label,i=e.plan,n=e.color,o=t.refs.text,r=o.getContext("2d");r.save(),void 0!==i.font&&(r.font=i.font),r.clearRect(0,0,o.width,o.height),r.fillStyle=void 0!==n?n:"black",void 0!==i.rotate&&i.rotate?(r.textAlign="left",r.translate(t.width-i.border-i.xoffset,t.height-i.border),r.rotate(-Math.PI/2),r.fillText(a,0,0)):"right"===i.align?(r.textAlign="right",r.fillText(a,i.width-i.border+i.xoffset,t.height-i.border)):r.fillText(a,i.border+i.xoffset,t.height-i.border),r.restore(),t.invalid&&function(t,e,a,i){t.strokeStyle="blue",t.beginPath(),t.moveTo(a,0),t.lineTo(a+i,e),t.moveTo(a+i,0),t.lineTo(a,e),t.strokeRect(a,0,a+i,e),t.stroke()}(r,o.height,0,o.width)}var ut=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){ht(this)}},{key:"componentDidUpdate",value:function(){ht(this)}},{key:"render",value:function(){var t=this.props,e=t.classes,a=t.onclick,i=t.title,o=t.plan,r=t.color,s=t.invalid,l=Object(ot.a)(t,["classes","onclick","title","plan","color","invalid"]);return this.width=o.width,this.height=o.height,this.invalid=s,this.color=r,n.a.createElement("canvas",Object.assign({},l,{className:e.canvas,classes:e,onClick:a,title:i,plan:o,width:o.width,height:o.height,ref:"text"}))}}]),e}(i.Component),dt=Object(v.withStyles)(function(t){return{canvas:{width:"100%",height:"100%",overflow:"hidden"},pointer:{cursor:"pointer",padding:0*t.spacing.unit},nopointer:{padding:0*t.spacing.unit}}})(ut);var vt=Object(v.withStyles)(function(t){return{pointer:{cursor:"pointer",border:"0px",overflow:"hidden",padding:0*t.spacing.unit,textAlign:"center"},nopointer:{border:"1px solid #EEE",padding:0*t.spacing.unit,textAlign:"center"},divTableCell:{border:"1px solid #EEE",display:"table-cell",padding:"0px 0px"},divTableCellCursor:{cursor:"pointer",border:"1px solid #EEE",display:"table-cell",padding:"0px 0px"}}})(function(t){var e=t.classes,a=t.state,i=t.onclick,o=t.index,r=t.rowindex,s=t.colkey,l=t.rowkey,c=t.colvalues,h=t.rowval,u=t.elements,d=t.plan,v=t.key,f=t.label,p={height:d.height+"px",backgroundColor:"#FFF"},g={height:d.height+"px",backgroundColor:"#EEE"};if(void 0===u)return r%2===1?n.a.createElement("div",{className:e.divTableCell,style:g}):n.a.createElement("div",{className:e.divTableCell,style:p});var m=a.Matrix.getInfo(a,u),y=m.cnt,A=m.maxlev,b="";void 0===f&&(b=y>1?".":"");var k=m.minlev<0,C=a.Colors.getLevelColor(A),w=JSON.stringify({rowkey:l,rowval:h,colkey:s,colvalues:c,index:o,step:d.step});return n.a.createElement("div",{className:void 0!==i?e.divTableCellCursor:e.divTableCell,key:v,style:{backgroundColor:C},onClick:i,height:d.height,width:d.width,"data-for":"cell","data-tip":w},n.a.createElement(dt,{state:a,label:b,plan:d,key:v,invalid:k,index:o,colkey:s,rowkey:l,colvalues:c,rowval:h}))});function ft(t,e,a,i,n,o,r,s,l,c,h){var u,d=e.length,v=n[0],f=n[1],p=0;for(u=0;u<d;u++)for(var g=e[u].docs,m=g.length,y=0;y<m;y++){var A=g[y],b=A._thr;if(""===i||A[a]===i){var k;if(void 0!==b.min&&void 0!==b.val&&(k=b.min),void 0!==b.max&&void 0!==b.val&&(k=b.max),void 0!==k)for(var C=k.length,w=0;w<C;w++){var x=k[w],E=t.Show.scale(x,v,f,l,0),O=void 0;O=w===r?"black":t.Colors.getLevelColor(w);var P=c+p*h,N=c+(p+1)*h;s.beginPath(),s.lineWidth=1,void 0!==O&&(s.strokeStyle=O),s.moveTo(P,E),s.lineTo(N,E),s.stroke()}void 0!==b.val&&(p+=1)}}}function pt(t,e,a,i,n,o,r,s,l,c,h){var u,d=e.length,v=-1,f=0,p=n[0],g=n[1],m=0;for(u=0;u<d;u++)for(var y=e[u].docs,A=y.length,b=0;b<A;b++){var k=y[b],C=k._thr;if(""===i||k[a]===i){var w=p;void 0!==C.min&&void 0!==C.val&&(w=C.val);var x=g;void 0!==C.max&&void 0!==C.val&&(x=C.val);var E=c+m*h,O=c+(m+1)*h,P=t.Show.scale(w,p,g,l,0),N=t.Show.scale(x,p,g,l,0),j=t.Threshold.getLevel(t,k);if(void 0!==t.Colors.getLevelColor(j)){void 0===C.level?(console.log("Found undefined:",JSON.stringify(k)),f=Math.min(f,-2)):(v=Math.max(v,C.level),f=Math.min(f,C.level));var D=Math.max(1,O-E),M=N-P;s.strokeStyle="black",s.strokeRect(E,P,D,M)}else f=Math.min(f,-2);void 0!==C.val&&(m+=1)}}return f<0?f:v}function gt(t){var e=t.props,a=e.state,i=e.elements,n=e.colkey,o=e.colvalues,r=e.index,s=e.range,l=e.plan,c=e.level,h=t.refs.canvas,u=h.getContext("2d");u.clearRect(0,0,h.width,h.height);var d=1;void 0!==o&&(d=o.length);var v=l.step,f=h.height,p=h.width/Math.max(1,v),g=0;if(void 0!==s)for(var m=r;m<Math.min(r+v,d);m++){var y=a.Utils.cntDocs(i,n,o[m]),A=(m-r)*p,b=p/Math.max(1,y);ft(a,i,n,o[m],s,0,c,u,f,A,b);var k=pt(a,i,n,o[m],s,0,0,u,f,A,b);g=Math.min(g,k)}else g=-2;g<0&&function(t,e,a,i){t.strokeStyle="blue",t.beginPath(),t.moveTo(a,0),t.lineTo(a+i,e),t.moveTo(a+i,0),t.lineTo(a,e),t.strokeRect(a,0,a+i,e),t.stroke()}(u,f,0,p)}var mt=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){gt(this)}},{key:"componentDidUpdate",value:function(){gt(this)}},{key:"render",value:function(){var t=this.props,e=t.classes,a=t.onclick,i=t.title,o=t.plan,r=Object(ot.a)(t,["classes","onclick","title","plan"]);return n.a.createElement("canvas",Object.assign({},r,{className:e.canvas,classes:e,onClick:a,title:i,plan:o,width:o.width,height:o.height,ref:"canvas"}))}}]),e}(n.a.Component),yt=Object(v.withStyles)(function(t){return{canvas:{width:"100%",height:"100%",overflow:"hidden",margin:"0px",padding:"0px",border:"0px"},pointer:{cursor:"pointer",padding:0*t.spacing.unit},nopointer:{padding:0*t.spacing.unit},div:{}}})(mt);var At=Object(v.withStyles)(function(t){return{pointer:{textAlign:"center",cursor:"pointer",padding:0,overflow:"hidden",tableLayout:"fixed"},nopointer:{textAlign:"center",padding:0,overflow:"hidden",tableLayout:"fixed"},div:{overflow:"hidden",tableLayout:"fixed"},divTableCell:{border:"0px solid #999999",display:"table-cell",padding:"0px 0px"},divTableCellCursor:{cursor:"pointer",border:"0px solid #999999",display:"table-cell",padding:"0px 0px"}}})(function(t){var e=t.classes,a=t.state,i=t.onclick,o=t.index,r=t.rowindex,s=(t.colwhere,t.rowwhere,t.colkey),l=t.rowkey,c=t.colvalues,h=t.rowval,u=t.elements,d=t.range,v=t.plan,f=t.key,p=Object(ot.a)(t,["classes","state","onclick","index","rowindex","colwhere","rowwhere","colkey","rowkey","colvalues","rowval","elements","range","plan","key"]),g={height:v.height+"px",backgroundColor:"#FFF"},m={height:v.height+"px",backgroundColor:"#EEE"};if(void 0===u)return r%2===1?n.a.createElement("div",{className:e.divTableCell,style:m}):n.a.createElement("div",{className:e.divTableCell,style:g});var y=a.Matrix.getInfo(a,u).maxlev,A=a.Colors.getLevelColor(y),b=JSON.stringify({rowkey:l,rowval:h,colkey:s,colvalues:c,index:o,step:v.step});return n.a.createElement("div",{className:void 0!==i?e.divTableCellCursor:e.divTableCell,key:f,style:{backgroundColor:A},onClick:i,height:v.height,width:v.width,"data-for":"cell","data-tip":b},n.a.createElement(yt,Object.assign({},p,{state:a,range:d,colkey:s,colvalues:c,index:o,onclick:i,elements:u,level:y,plan:v,bgcolor:A})))}),bt=a(56),kt=a.n(bt);function Ct(t){var e=t.classes,a=t.rowval;return n.a.createElement("div",{className:e.divTableHdr},a)}function wt(t){var e=t.classes,a=t.val,i=t.onclick,o=t.bgcolor,r=a;return r=isNaN(r)?a:parseFloat(r,0).toFixed(2),n.a.createElement("div",{className:void 0!==i?e.divTableCellCursor:e.divTableCell,style:{backgroundColor:o},onClick:i},r)}function xt(t,e,a,i,o,r){return n.a.createElement("div",{className:t.divTableRow,key:r.toString()},n.a.createElement(Ct,{classes:t,state:e,key:"k-"+r,rowval:a}),o.map(function(o,s){return function(t,e,a,i,o,r,s){var l=o.level||0,c=e.Colors.getLevelColor(l),h=a,u=o[a],d=e.Database.getWhereDetail(h,u),v=-1===i.indexOf(h)?void 0:function(){e.Navigate.selectKey(e,h,u,d,1)};return n.a.createElement(wt,{classes:t,state:e,key:"".concat(r,"-").concat(s),val:o[a],rowindex:r,bgcolor:c,onclick:v})}(t,e,a,i,o,r,s)}))}function Et(t){var e=t.classes,a=t.state,i=t.keys,o=t.click,r=t.subs;return n.a.createElement("div",{className:e.divTable},n.a.createElement("div",{className:e.divTableBody},i.map(function(t,i){return xt(e,a,t,o,r,i)})))}var Ot=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).updateWindowDimensions=function(){a.width=window.innerWidth,a.height=window.innerHeight,a.bbx=a.el.getBoundingClientRect()},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions)}},{key:"element",value:function(t){void 0!==t&&null!==t&&(this.el=t,this.bbx=this.el.getBoundingClientRect())}},{key:"render",value:function(){var t=this,e=this.props,a=e.state,i=e.classes,o=e.keys,r=e.click,s=e.subs;return n.a.createElement("div",{ref:function(e){t.element(e)},className:i.root,style:{width:"100%",height:"100%"}},n.a.createElement(Et,{state:a,classes:i,element:this,keys:o,click:r,subs:s}))}}]),e}(i.Component),Pt=Object(v.withStyles)(function(t){return{root:{height:"100%"},paper:{overflow:"hidden",tableLayout:"fixed",padding:0,margin:0},divTable:{display:"table",width:"100%"},divTableRow:{backgroundColor:rt.main,border:"1px solid #000",display:"table-row",padding:"5px"},divTableHdr:{border:"1px solid #000",display:"table-cell",padding:"5px",backgroundColor:rt.main,color:"black"},divTableCell:{border:"1px solid #000",display:"table-cell",padding:"5px"},divTableCellCursor:{cursor:"pointer",border:"1px solid #000",display:"table-cell",padding:"5px"},divTableBody:{display:"table-row-group"}}})(Ot),Nt=a(106),jt=a.n(Nt);function Dt(t){var e=t.state,a=t.data,i=t.tooltip,o=a.colkey,r=a.rowkey,s=a.colvalues,l=a.rowval,c=[r,o];e.Utils.cpArray(c,e.Path.tooltip.click);var h=[];void 0===s&&h.push(o),void 0===l&&h.push(r),e.Utils.cpArray(h,e.Path.tooltip.keys),e.Utils.remArray(h,e.Path.keys.path),h=e.Utils.keepHash(h,i);var u=a.rowkey+":"+a.colkey;return n.a.createElement("div",{key:u},n.a.createElement(Pt,{state:e,keys:h,click:c,subs:i}))}function Mt(t){var e=t.classes,a=t.onclick;return n.a.createElement("div",null,n.a.createElement(j.a,{className:e.button,onClick:a},n.a.createElement(jt.a,null)))}function St(t){var e=t.state,a=t.classes,i=t.data,o=t.element,r=e.Matrix.getTooltip(e,i);if(e.Matrix.checkTooltip(e,i))return n.a.createElement(Dt,{state:e,classes:a,data:i,tooltip:r});return n.a.createElement(Mt,{state:e,classes:a,data:i,onclick:function(){e.Matrix.addTooltip(e,i),o.update()},tooltip:r})}var Tt=function(t){function e(t){var a;return Object(s.a)(this,e),a=Object(c.a)(this,Object(h.a)(e).call(this,t)),t.state.React.Tooltip=Object(d.a)(Object(d.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"rebuild",value:function(){console.log("Rebuilding tooltip.")}},{key:"update",value:function(){console.log("Rebuilding tooltip."),this.forceUpdate(),kt.a.rebuild()}},{key:"componentDidUpdate",value:function(){kt.a.rebuild()}},{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state,o=e.type;return n.a.createElement(kt.a,{id:o,className:a.tooltip,overridePosition:function(t,e,a,i){var n=t.left,o=t.top,r=document.documentElement;return n=Math.min(r.clientWidth-i.clientWidth,n),o=Math.min(r.clientHeight-i.clientHeight,o),n=Math.max(0,n),{top:o=Math.max(75,o),left:n}},getContent:function(e){if(null==e)return null;var o=JSON.parse(e);return n.a.createElement(St,{state:i,classes:a,data:o,element:t})},effect:"solid",delayHide:500,delayShow:200,delayUpdate:500,place:"bottom",border:!0,type:"light"})}}]),e}(i.Component),Rt=Object(v.withStyles)(function(t){return{tooltip:{border:"0px solid #999999",backgroundColor:rt.main},button:{color:"white","&$buttonDisabled":{color:t.palette.primary.main}},buttonDisabled:{}}})(Tt);function Ut(t){var e,a=t.classes,i=t.state,o=t.colkey,r=t.rowkey,s=t.rowval,l=t.onclick,c=t.plan,h=t.rowindex,u=a.divTableCell;return void 0!==l&&(u=a.divTableCellCursor),e=""===o&&""===r?null:JSON.stringify({colkey:o,rowkey:r,rowval:s}),h%2===1?n.a.createElement("div",{className:u,onClick:l,style:{backgroundColor:"#DDD"},"data-for":"cell","data-tip":e},n.a.createElement(dt,{state:i,label:s,plan:c})):n.a.createElement("div",{className:u,onClick:l,style:{backgroundColor:"#EEE"},"data-for":"cell","data-tip":e},n.a.createElement(dt,{state:i,label:s,plan:c}))}function Ft(t){var e=t.classes,a=t.state,i=t.elements,o=t.mode,r=t.plan,s=t.rowindex,l=Object(ot.a)(t,["classes","state","elements","mode","plan","rowindex"]);return void 0===i?s%2===1?n.a.createElement("div",{className:e.divTableCell,style:{backgroundColor:"#EEE"}}):n.a.createElement("div",{className:e.divTableCell,style:{backgroundColor:"#FFF"}}):o===a.Layout.code.cell.Sum?n.a.createElement(vt,Object.assign({},l,{state:a,elements:i,plan:r})):n.a.createElement(At,Object.assign({},l,{state:a,elements:i,plan:r}))}function It(t,e,a,i,o,r,s,l,c){var h=e.Database.getWhereDetail(i,l),u=[void 0,void 0];void 0!==e.React.matrix&&(u=e.Matrix.getRange(e,e.React.matrix,o,[l]));return n.a.createElement("div",{className:t.divTableRow,key:c.toString()},n.a.createElement(Ut,{classes:t,state:e,key:"0",colkey:a,rowkey:i,rowval:l,onclick:function(){e.Navigate.selectKey(e,i,l,h,1)},plan:s.row,rowindex:c}),o.map(function(d,v){return function(t,e,a,i,o,r,s,l,c,h,u,d,v){if(v%u.step===0){var f=e.Matrix.getMatrixElements(i,r,e.React.matrix,v,u.step),p=Math.min(i.length,v+u.step)-v,g=e.Database.getColWhere(a,i,v,u.step);return n.a.createElement(Ft,{classes:t,state:e,key:"col-".concat(v),rowindex:s,index:v,onclick:function(){return e.Navigate.selectItem(e,a,o,i[v],r,g,l,p,1)},colkey:a,rowkey:o,colvalues:i,rowval:r,colwhere:g,rowwhere:l,elements:f,mode:h,plan:u,range:c})}return null}(t,e,a,o,i,l,c,h,u,r,s.cell,0,v)}))}function Lt(t){var e=t.classes,a=t.state,i=t.plans,o=t.colkey,r=t.colvalues,s=t.rowkey,l=t.rowvalues,c=t.mode;return 0===l.length?function(t,e,a,i,o){return n.a.createElement("div",{className:t.divTableRow,key:1},n.a.createElement("div",{className:t.divTableCell,width:o.cell.width},"No data available"))}(e,0,0,0,i):l.map(function(t,n){return It(e,a,o,s,r,c,i,t,n)})}function Bt(t){var e,a=t.classes,i=t.state,o=t.colkey,r=t.rowkey,s=t.plans;return e=""===o&&""===r?null:JSON.stringify({colkey:o,rowkey:r}),n.a.createElement("div",{style:{width:s.hdr.width}},n.a.createElement("div",{className:a.divHdrRight,width:s.hd2.width,onClick:function(){return i.Navigate.switchTableKey(i,r)},"data-for":"cell","data-tip":e},n.a.createElement(dt,{state:i,label:r,plan:s.hd2,color:"white"})),n.a.createElement("div",{className:a.divHdrLeft,width:s.hd1.width,onClick:function(){return i.Navigate.switchTableKey(i,o)},"data-for":"cell","data-tip":e},n.a.createElement(dt,{state:i,label:o,plan:s.hd1,color:"white"})))}function Kt(t){var e=t.classes,a=t.state,i=t.plans,o=t.colkey,r=t.colvalues,s=t.rowkey;return n.a.createElement("div",{className:e.divTableRow,key:0},n.a.createElement(Bt,{classes:e,state:a,colkey:o,rowkey:s,plans:i,style:{height:"100%"}}),r.map(function(t,l){return function(t,e,a,i,o,r,s,l){if(l%r.step===0){var c,h=Math.min(i.length,l+r.step)-l,u=e.Database.getColWhere(a,i,l,r.step),d=function(){return e.Navigate.selectKey(e,a,i[l],u,h)},v=t.divTableCell;return void 0!==d&&(v=t.divTableCellCursor),c=""===a&&""===o?null:JSON.stringify({colkey:a,rowkey:o,colvalues:i,index:l,step:r.step}),n.a.createElement("div",{className:v,onClick:d,style:{backgroundColor:"#DDD"},key:"col-".concat(l),"data-for":"cell","data-tip":c},n.a.createElement(dt,{state:e,index:l,plan:r,label:s}))}return null}(e,a,o,r,s,i.col,t,l)}))}function Qt(t){var e=t.classes,a=t.state,i=a.Path.getColKey(a)||"",o=a.Path.getRowKey(a)||"",r=a.Path.filterKeys(a,a.Matrix.values[i]||[""]),s=a.Path.filterKeys(a,a.Matrix.values[o]||[""]),l=a.Layout.getCellMode(a),c=.8*window.innerWidth,h=.8*(window.innerHeight-200),u=a.Layout.makePlans(i,o,r,s,c,h,2);return n.a.createElement("div",{className:e.divTable},n.a.createElement("div",{className:e.divTableBody},n.a.createElement(Kt,{classes:e,state:a,plans:u,colkey:i,colvalues:r,rowkey:o,rowvalues:s}),n.a.createElement(Lt,{classes:e,state:a,plans:u,colkey:i,colvalues:r,rowkey:o,rowvalues:s,mode:l})))}var Ht=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(c.a)(this,Object(h.a)(e).call(this,t))).updateWindowDimensions=function(){a.width=window.innerWidth,a.height=window.innerHeight,a.bbx=a.el.getBoundingClientRect()},t.state.React.Table=Object(d.a)(Object(d.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"showTable",value:function(){console.log("Rebuilding table."),this.forceUpdate()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions)}},{key:"element",value:function(t){void 0!==t&&null!==t&&(this.el=t,this.bbx=this.el.getBoundingClientRect())}},{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;return n.a.createElement("div",{ref:function(e){t.element(e)},className:a.root,style:{width:"100%",height:"100%"}},n.a.createElement(p.a,{container:!0,spacing:24},n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(ct.a,{className:a.paper},n.a.createElement(Qt,{state:i,classes:a,element:this}))),n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(ct.a,{className:a.paperImage},"*** Indicated colors do not represent official warning levels ***"))),n.a.createElement(Rt,{state:i,classes:{button:a.button},element:this,type:"cell"}))}}]),e}(i.Component),Vt=Object(v.withStyles)(function(t){return{root:{height:"100%"},divHdrLeft:{display:"inline-block",justifyContent:"left",cursor:"pointer"},divHdrRight:{display:"inline-block",justifyContent:"right",cursor:"pointer"},paper:{overflow:"hidden",tableLayout:"fixed",padding:0,margin:0},divTable:{display:"table",width:"100%"},divTableRow:{backgroundColor:rt.main,border:"0px solid #999999",display:"table-row",padding:"0px"},divTableCell:{border:"0px solid #999999",display:"table-cell",padding:"0px"},divTableCellCursor:{cursor:"pointer",border:"0px solid #999999",display:"table-cell",padding:"0px"},divTableHead:{border:"0px",display:"table-cell",padding:"0px"},divTableHeading:{display:"table-header-group"},divTableHeadingCenter:{display:"flex",justifyContent:"center"},divTableFoot:{backgroundColor:"#DDD",display:"table-footer-group",fontWeight:"bold"},divTableBody:{display:"table-row-group"},paperImage:{textAlign:"center",padding:2*t.spacing.unit}}})(Ht);function Wt(t,e,a,i,o,r,s){var l=e.Colors.getLevelColor(r);return n.a.createElement("div",{className:t.divTableRow,key:s.toString()},a.map(function(e,a){return function(t,e,a,i,o,r,s){if(void 0===a)return n.a.createElement("div",{className:t.divTableCell,style:{backgroundColor:"#EEE"}});var l=a[o];return void 0===l&&(l=""),n.a.createElement("div",{className:t.divTableCell,style:{backgroundColor:r},key:o},l)}(t,0,o,0,e,l)}))}function Jt(t){var e=t.classes,a=(t.state,t.plans),i=t.skeys;return n.a.createElement("div",{className:e.divTableRow,key:"hdr"},i.map(function(t,i){return function(t,e,a,i,o){var r=t.divTableCell;return n.a.createElement("div",{className:r,style:{backgroundColor:"#DDD"},key:"col-".concat(o)},i)}(e,0,a.col,t,i)}))}function Gt(t){var e=t.classes,a=t.state,i=a.Layout.getCellMode(a);if(void 0===a.React.matrix)return n.a.createElement("div",{className:e.divTable},n.a.createElement("div",{className:e.divTableBody},n.a.createElement("div",{className:e.devTableCell},"No Matrix defined")));var o=a.Matrix.sortedKeys(a,a.Matrix.keyCnt),r=.8*window.innerWidth,s=.8*(window.innerHeight-200),l=a.Layout.makePlans("",[""],[""],r,s,2,i),c=function(t,e,a,i){var n=[],o=e.React.matrix;if(void 0!==o)for(var r=Object.keys(o),s=r.length,l=0;l<s;l++){var c=r[l],h=o[c];if(void 0!==h)for(var u=Object.keys(h),d=u.length,v=0;v<d;v++){var f=u[v],p=e.Matrix.getMatrixElement(c,f,o);if(void 0!==p&&void 0!==p.docs){var g=p.maxlev;n.push(p.docs.map(function(n,o){return Wt(t,e,a,i.cell,n,g,o)}))}}}return n}(e,a,o,l);return n.a.createElement("div",{className:e.divTable},n.a.createElement("div",{className:e.divTableBody},n.a.createElement(Jt,{classes:e,state:a,key:"hdr",plans:l,label:"",cellMode:i,skeys:o}),c))}var qt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).updateWindowDimensions=function(){a.width=window.innerWidth,a.height=window.innerHeight,a.bbx=a.el.getBoundingClientRect()},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions)}},{key:"element",value:function(t){void 0!==t&&null!==t&&(this.el=t,this.bbx=this.el.getBoundingClientRect())}},{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;return n.a.createElement("div",{ref:function(e){t.element(e)},className:a.root,style:{width:"100%",height:"100%"}},n.a.createElement(p.a,{container:!0,spacing:24},n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(ct.a,{className:a.paper},n.a.createElement(Gt,{state:i,classes:a,element:this})))))}}]),e}(i.Component),zt=Object(v.withStyles)(function(t){return{root:{height:"100%"},paper:{tableLayout:"fixed",padding:0,margin:0},divTable:{display:"table",width:"100%"},divTableRow:{display:"table-row"},divTableCell:{border:"0px solid #999999",display:"table-cell",padding:"3px 3px"},divTableCellCursor:{cursor:"pointer",border:"0px solid #999999",display:"table-cell",padding:"0px 0px"},divTableHead:{border:"0px solid #999999",display:"table-cell",padding:"0px 0px"},divTableHeading:{display:"table-header-group"},divTableHeadingCenter:{display:"flex",justifyContent:"center"},divTableFoot:{backgroundColor:"#DDD",display:"table-footer-group",fontWeight:"bold"},divTableBody:{display:"table-row-group"}}})(qt),Yt=a(107),Xt=a.n(Yt),Zt=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"clickHandler",value:function(){console.log("on click handler ....")}},{key:"render",value:function(){var t=this.props.classes;return n.a.createElement("div",{className:t.root},n.a.createElement(p.a,{container:!0,spacing:24},n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(ct.a,{className:t.paperImage},n.a.createElement("img",{alt:"homepage",className:t.homePageImg,src:Xt.a}))),n.a.createElement(p.a,{item:!0,sm:12,xs:12},n.a.createElement(ct.a,{className:t.paperImage},"The map layout is not implemented..."))))}}]),e}(i.Component),_t=Object(v.withStyles)(function(t){return{root:{flexGrow:1},paper:{padding:2*t.spacing.unit,textAlign:"left"},paperImage:{textAlign:"center",padding:2*t.spacing.unit},homePageImg:{maxWidth:"100%"}}})(Zt),$t=a(108),te=a.n($t);var ee=Object(v.withStyles)(function(t){return{progress:{margin:2*t.spacing.unit},align:{width:"100%",textAlign:"center"},primary:{color:"blue"},secondary:{color:"red"},tertiary:{color:"black"}}})(function(t){var e=t.classes;return""===t.color?null:n.a.createElement("div",{className:e.align},n.a.createElement(te.a,null))});function ae(t){var e=t.state,a=t.progress,i=e.Layout.getLayoutMode(t.state);return a?n.a.createElement("div",{style:{width:"100%",margin:"0 auto"}},n.a.createElement(ee,null)):i===e.Layout.code.layout.Table?n.a.createElement(Vt,{state:e}):i===e.Layout.code.layout.List?n.a.createElement(zt,{state:e}):i===e.Layout.code.layout.Map?n.a.createElement(_t,{state:e}):void 0}var ie=function(t){function e(t){var a;return Object(s.a)(this,e),a=Object(c.a)(this,Object(h.a)(e).call(this,t)),t.state.React.Dataset=Object(d.a)(Object(d.a)(a)),a.state={progress:!1},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"showMatrix",value:function(t,e){t.React.matrix=e,this.forceUpdate()}},{key:"setProgress",value:function(t,e){this.setState({progress:e})}},{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.body},n.a.createElement(nt,{state:a}),n.a.createElement(ae,{state:a,progress:this.state.progress}))}}]),e}(i.Component),ne=Object(v.withStyles)(function(t){return{body:{margin:t.spacing.getMaxWidth.margin,width:"90%",height:"90%"},table:{textAlign:"left",padding:0*t.spacing.unit,height:"100%",width:"100%",borderStyle:"solid"},row:{alignItems:"stretch"},cell:{cursor:"pointer"}}})(ie);var oe=function(t,e){return Object(v.createMuiTheme)({palette:{primary:Object.assign({},t,{}),secondary:Object.assign({},e,{})},spacing:{getMaxWidth:{width:"100%",maxWidth:"1200px",margin:"0px auto"}},overrides:{MuiButton:{root:{background:e.main}}}})},re=a(109),se=a(133),le=a.n(se),ce=a(134),he=a.n(ce),ue=a(110),de=a.n(ue),ve=function(t){function e(t){var a;return Object(s.a)(this,e),a=Object(c.a)(this,Object(h.a)(e).call(this,t)),t.state.React.Location=Object(d.a)(Object(d.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"showLocation",value:function(t){this.forceUpdate()}},{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=a.Path.getTitle(a);return n.a.createElement("div",{className:e.location},i)}}]),e}(i.Component),fe=Object(v.withStyles)(function(t){return{location:{overflow:"hidden",whiteSpace:"nowrap",textAlign:"center",width:"100%"}}})(ve),pe=a(126),ge=a.n(pe),me=a(55),ye=a.n(me),Ae=a(125),be=a.n(Ae),ke=a(111),Ce=a.n(ke),we=a(112),xe=a.n(we);function Ee(t){var e=t.state;return e.Layout.state.viewMode===e.Layout.code.view.path?n.a.createElement(Ce.a,null):n.a.createElement(xe.a,null)}var Oe=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.view},n.a.createElement(j.a,{className:e.button,onClick:function(t){return a.Layout.toggleView(a)},title:"Show path"},n.a.createElement(Ee,{state:a})))}}]),e}(i.Component),Pe=Object(v.withStyles)(function(t){return{view:{marginLeft:"auto"},button:{color:"white"}}})(Oe),Ne=a(113),je=a.n(Ne),De=a(114),Me=a.n(De);function Se(t){return t.state.Auto.complete?n.a.createElement(je.a,null):n.a.createElement(Me.a,null)}var Te=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.view},n.a.createElement(j.a,{className:e.button,onClick:function(t){return a.Auto.toggle(a)},title:"Autocomplete path"},n.a.createElement(Se,{state:a})))}}]),e}(i.Component),Re=Object(v.withStyles)(function(t){return{view:{marginLeft:"auto"},button:{color:"white"}}})(Te),Ue=a(115),Fe=a.n(Ue),Ie=a(116),Le=a.n(Ie);function Be(t){return 1===t.state.Layout.state.tooltip?n.a.createElement(Fe.a,null):n.a.createElement(Le.a,null)}var Ke=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.view},n.a.createElement(j.a,{className:e.button,onClick:function(t){return a.Layout.toggleTooltip(a)},title:"Show tooltip"},n.a.createElement(Be,{state:a})))}}]),e}(i.Component),Qe=Object(v.withStyles)(function(t){return{view:{marginLeft:"title"},button:{color:"white"}}})(Ke),He=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.title,o=t.keyitem;return n.a.createElement(k.a,{icon:n.a.createElement(w.a,null),label:o,onClick:function(){return a.Layout.increaseSelect(a,o)},title:i,className:e.selectchip,variant:"outlined"})}}]),e}(i.Component),Ve=Object(v.withStyles)(function(t){return{key:{display:"inline-block",marginRight:"auto"},selectchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"blue"}}})(He);var We=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var o=i.Path.keys.path||[];return n.a.createElement("div",{className:a.tableSelect},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"selects-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Selected order"},n.a.createElement(w.a,{state:i})),n.a.createElement(m.a,{className:a.tableSelect,id:"selects-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},o.map(function(t,e){return function(t,e,a,i){return n.a.createElement(A.a,{key:a},n.a.createElement(Ve,{state:e,title:a,keyitem:a}))}(0,i,t)})))}}]),e}(i.Component),Je=Object(v.withStyles)(function(t){return{select:{display:"inline-block",marginRight:"auto",height:"100%"},tableSelect:{display:"inline-block",marginRight:"auto"},button:{color:"white"}}})(We),Ge=a(117),qe=a.n(Ge);var ze=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.keyitem,o=t.keytype,r=t.keyactive,s=function(t,e,a){return"select"===e?a?t.selectchip:t.trashchip:"table"===e?t.tablechip:"rest"===e?t.restchip:"trash"===e?t.trashchip:t.othchip}(e,o,r),l=function(t){return"select"===t?n.a.createElement(w.a,null):"table"===t?n.a.createElement(V.a,null):null}(o);return n.a.createElement("div",{className:e.key},n.a.createElement(k.a,{icon:l,label:i,onClick:function(){a.Navigate.onClickAddOther(a,o,i,r)},className:s,variant:"outlined"}))}}]),e}(i.Component),Ye=Object(v.withStyles)(function(t){return{key:{display:"inline-block",marginRight:"auto"},selectchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"blue"},tablechip:{margin:t.spacing.unit,cursor:"pointer",color:"green",borderColor:"blue"},restchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"},trashchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"},othchip:{margin:t.spacing.unit,color:"red",borderColor:"red"}}})(ze);var Xe=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var o,r,s=i.Path.keys.path.map(function(t,e){return[t,"select",!1]}).concat(i.Path.other.rest.map(function(t,e){return[t,"rest",!0]}),i.Path.trash.map(function(t,e){return[t,"trash",!1]})).sort(i.Utils.ascendingArr),l=(o=s,r=i.Path.other.table,o.sort().filter(function(t,e,a){return-1===r.indexOf(t[0])&&(!e||t[0]!==a[e-1][0]||("select"===t[1]?a[e-1][1]="select":t[2]&&(a[e-1][2]=!0),!1))}));return n.a.createElement("div",{className:a.view},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"keys-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Available Table keys"},n.a.createElement(qe.a,{state:i})),n.a.createElement(m.a,{id:"keys-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},l.map(function(t,e){return function(t,e,a,i){return n.a.createElement(A.a,{key:a[0]},n.a.createElement(Ye,{state:e,keyitem:a[0],keytype:a[1],keyactive:a[2]}))}(0,i,t)})))}}]),e}(i.Component),Ze=Object(v.withStyles)(function(t){return{settings:{},config:{marginLeft:"auto"},othchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"},trashchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"},button:{color:"white"}}})(Xe),_e=a(118),$e=a.n(_e),ta=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.keyitem,o=t.valueitem,r=-1!==a.Path.trash.indexOf(o)?e.trashchip:e.othchip;return n.a.createElement("div",{className:e.value},n.a.createElement(k.a,{icon:null,label:o,onClick:function(){return a.Path.bumpOrder(a,i,o)},className:r,variant:"outlined"}))}}]),e}(i.Component),ea=Object(v.withStyles)(function(t){return{value:{display:"inline-block",marginRight:"auto"},othchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"},trashchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"}}})(ta);var aa=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state,o=e.keyitem;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var r=i.Path.getOrderValues(i,o);return n.a.createElement("div",{className:a.values,key:o},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"values-menu":void 0,"aria-haspopup":"true",onClick:this.onClick},n.a.createElement(V.a,{state:i})," ",o),n.a.createElement(m.a,{id:"values-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},r.map(function(t,e){return function(t,e,a,i,o){return n.a.createElement(A.a,{value:i,key:i},n.a.createElement(ea,{state:e,keyitem:a,valueitem:i}))}(0,i,o,t)}),function(t,e,a){return n.a.createElement(A.a,{key:"button"},n.a.createElement(j.a,{className:t.button,onClick:function(){e.Path.bumpOrder(e,a,"")}},n.a.createElement($e.a,null)))}(a,i,o)))}}]),e}(i.Component),ia=Object(v.withStyles)(function(t){return{values:{display:"inline-block",marginLeft:"auto",verticalAlign:"center"}}})(aa);var na=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var o=i.Path.other.table;o=o.sort(i.Utils.ascending);return n.a.createElement("div",{className:a.tableOrder},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"tableorders-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Value order"},n.a.createElement(V.a,{state:i})),n.a.createElement(m.a,{className:a.tableOrder,id:"tableorders-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},o.map(function(t,e){return function(t,e,a,i){return n.a.createElement(A.a,{className:t.order,key:a},n.a.createElement(ia,{classes:t,state:e,keyitem:a}))}(a,i,t)})))}}]),e}(i.Component),oa=Object(v.withStyles)(function(t){return{order:{display:"inline-block",marginRight:"auto",height:"100%"},tableOrder:{display:"inline-block",marginRight:"auto"},button:{color:"white"}}})(na),ra=a(119),sa=a.n(ra),la=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.priorityitem,o=-1!==a.Path.trash.indexOf(i)?e.trashchip:e.othchip;return n.a.createElement("div",{className:e.priority},n.a.createElement(k.a,{icon:null,label:i,onClick:function(){return a.Layout.increasePriority(a,i)},className:o,variant:"outlined"}))}}]),e}(i.Component),ca=Object(v.withStyles)(function(t){return{priority:{display:"inline-block",marginRight:"auto"},othchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"},trashchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"}}})(la);var ha=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var o=i.Layout.getPriorityKeys(i);return n.a.createElement("div",{className:a.prioritys},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"prioritys-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Column priority"},n.a.createElement(sa.a,{state:i})),n.a.createElement(m.a,{id:"prioritys-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},o.map(function(t,e){return function(t,e,a,i){return n.a.createElement(A.a,{priority:a,key:a},n.a.createElement(ca,{state:e,priorityitem:a}))}(0,i,t)})))}}]),e}(i.Component),ua=Object(v.withStyles)(function(t){return{settings:{},prioritys:{display:"inline-block",marginLeft:"auto"},button:{color:"white"}}})(ha),da=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t,e=this.props,a=e.classes,i=e.state,o=function(e){var a=t.result;i.Default.resetSetup(i,a)};return n.a.createElement("div",{className:a.load},n.a.createElement("input",{type:"file",id:"file",onChange:function(e){return a=e.target.files[0],(t=new FileReader).onloadend=o,t.readAsText(a),void(i.Default.path=a);var a}}))}}]),e}(i.Component),va=Object(v.withStyles)(function(t){return{load:{width:"100%"}}})(da),fa=a(121),pa=a.n(fa),ga=a(120),ma=a.n(ga);function ya(t){var e=t.state,a=t.classes;return n.a.createElement(j.a,{className:a.button,onClick:function(){e.Default.save(e)},title:"Download setup"},n.a.createElement(ma.a,null))}var Aa=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;return this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})},n.a.createElement("div",{className:a.tableFile},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"tablefiles-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Save/load setup"},n.a.createElement(pa.a,{state:i})),n.a.createElement(m.a,{className:a.tableFile,id:"tablefiles-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},n.a.createElement(A.a,{key:"upload",className:a.file,onClose:this.onClose},n.a.createElement(va,{state:i})),n.a.createElement(A.a,{key:"download",className:a.file,onClose:this.onClose},n.a.createElement(ya,{state:i,classes:{button:a.button}}))))}}]),e}(i.Component),ba=Object(v.withStyles)(function(t){return{file:{display:"inline-block",marginRight:"auto",height:"100%"},tableFile:{display:"inline-block",marginRight:"auto"},button:{color:"white"}}})(Aa),ka=a(122),Ca=a.n(ka);var wa=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state,i=t.item,o=t.index,r=t.active,s=function(t,e){return e?t.selectchip:t.restchip}(e,r),l=function(t){return t?n.a.createElement(w.a,null):null}(r);return console.log("...archive:",JSON.stringify(i),JSON.stringify(o),r),n.a.createElement("div",{className:e.archive},n.a.createElement(k.a,{icon:l,label:i,onClick:function(){a.Database.selectIndex(a,i,o)},className:s,variant:"outlined"}))}}]),e}(i.Component),xa=Object(v.withStyles)(function(t){return{key:{display:"inline-block",marginRight:"auto"},selectchip:{margin:t.spacing.unit,cursor:"pointer",color:"red",borderColor:"green"},restchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"}}})(wa);var Ea=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;this.onClick=function(e){t.setState({anchor:e.currentTarget})},this.onClose=function(){t.setState({anchor:null})};var o=i.Database.files.map(function(t,e){return[t,e,e===i.Database.index]}).sort(i.Utils.ascendingArr);return n.a.createElement("div",{className:a.view},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"keys-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Available Table keys"},n.a.createElement(Ca.a,{state:i})),n.a.createElement(m.a,{id:"archive-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},o.map(function(t,e){return function(t,e,a,i){return""===a[0]||null===a[0]||void 0===a[0]?null:(console.log("Archive:",JSON.stringify(a),JSON.stringify(i)),n.a.createElement(A.a,{key:a[0]},n.a.createElement(xa,{state:e,item:a[0],index:a[1],active:a[2]})))}(0,i,t,e)})))}}]),e}(i.Component),Oa=Object(v.withStyles)(function(t){return{settings:{},config:{marginLeft:"auto"},othchip:{margin:t.spacing.unit,cursor:"pointer",color:"blue",borderColor:"blue"},trashchip:{margin:t.spacing.unit,cursor:"pointer",color:"gray",borderColor:"gray"},button:{color:"white"}}})(Ea),Pa=a(124),Na=a.n(Pa),ja=a(123),Da=a.n(ja);function Ma(t){return t.state.Layout.fullscreen?n.a.createElement(Da.a,null):n.a.createElement(Na.a,null)}var Sa=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.view},n.a.createElement(j.a,{className:e.button,onClick:function(t){return a.Layout.toggleFullScreen(a)},title:"Toggle Full Screen"},n.a.createElement(Ma,{state:a})))}}]),e}(i.Component),Ta=Object(v.withStyles)(function(t){return{view:{marginLeft:"auto"},button:{color:"white"}}})(Sa);function Ra(t){var e=t.state,a=t.classes;return n.a.createElement(j.a,{className:a.button,onClick:function(){e.Path.setHome(e)},title:"Set home"},n.a.createElement(ye.a,null))}function Ua(t){var e=t.state,a=t.classes;return n.a.createElement(j.a,{className:a.button,onClick:function(){e.Layout.changeFont(e)},title:"Change font"},n.a.createElement(be.a,null))}var Fa=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.state,i=e.classes;return this.onClose=function(){t.setState({anchor:null})},this.onClick=function(e){t.setState({anchor:e.currentTarget})},n.a.createElement("div",null,n.a.createElement(j.a,{className:i.button,"aria-owns":this.state.anchor?"settings-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Settings"},n.a.createElement(ge.a,null)),n.a.createElement(m.a,{id:"settings-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},n.a.createElement(A.a,{key:"reload",onClose:this.onClose},n.a.createElement(I,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"view",onClose:this.onClose},n.a.createElement(Pe,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"auto",onClose:this.onClose},n.a.createElement(Re,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"tooltip",onClose:this.onClose},n.a.createElement(Qe,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"select",onClose:this.onClose},n.a.createElement(Je,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"order",onClose:this.onClose},n.a.createElement(oa,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"keys",onClose:this.onClose},n.a.createElement(Ze,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"priorities",onClose:this.onClose},n.a.createElement(ua,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"home",onClose:this.onClose},n.a.createElement(Ra,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"font",onClose:this.onClose},n.a.createElement(Ua,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"file",onClose:this.onClose},n.a.createElement(ba,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"archive",onClose:this.onClose},n.a.createElement(Oa,{state:a,classes:{button:i.button}})),n.a.createElement(A.a,{key:"screen",onClose:this.onClose},n.a.createElement(Ta,{state:a,classes:{button:i.button}}))))}}]),e}(i.Component),Ia=Object(v.withStyles)(function(t){return{settings:{marginLeft:"auto",color:"red"},button:{color:"white"}}})(Fa),La=a(127),Ba=a.n(La),Ka=a(128),Qa=a.n(Ka),Ha=a(129),Va=a.n(Ha),Wa=a(130),Ja=a.n(Wa);function Ga(t,e){if(void 0!==e){var a=0,i=0;return"Flags"===e?(a=t.Layout.code.layout.Table,i=t.Layout.code.cell.Sum):"Bars"===e?(a=t.Layout.code.layout.Table,i=t.Layout.code.cell.Series):"List"===e?a=t.Layout.code.layout.List:"Map"===e&&(a=t.Layout.code.layout.Map),{layout:a,cell:i}}return{layout:t.Layout.state.layoutMode,cell:t.Layout.state.cellMode}}function qa(t){var e=t.state,a=Ga(e,t.mode),i=a.layout,o=a.cell;return i===e.Layout.code.layout.Table?o===e.Layout.code.cell.Sum?n.a.createElement(Ba.a,null):n.a.createElement(Qa.a,null):i===e.Layout.code.layout.List?n.a.createElement(Va.a,null):n.a.createElement(Ja.a,null)}var za=function(t){function e(){var t,a;Object(s.a)(this,e);for(var i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(a=Object(c.a)(this,(t=Object(h.a)(e)).call.apply(t,[this].concat(n)))).state={anchor:null},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=this.props,a=e.classes,i=e.state;this.onClose=function(){t.setState({anchor:null})},this.onClick=function(e){t.setState({anchor:e.currentTarget})};return n.a.createElement("div",{className:a.view},n.a.createElement(j.a,{className:a.button,"aria-owns":this.state.anchor?"mode-menu":void 0,"aria-haspopup":"true",onClick:this.onClick,title:"Select mode."},n.a.createElement(qa,{state:i})),n.a.createElement(m.a,{id:"mode-menu",anchorEl:this.state.anchor,open:Boolean(this.state.anchor),onClose:this.onClose},["Flags","Bars","List","Map"].map(function(e,o){return function(t,e,a,i,o){var r=Ga(t,i),s=r.layout,l=r.cell;return n.a.createElement(A.a,{key:i,onClose:a},n.a.createElement(j.a,{classes:{root:e.button},onClick:function(e){t.Layout.toggleMode(t,s,l),a()},title:i},n.a.createElement(qa,{mode:i,state:t})))}(i,a,t.onClose,e)})))}}]),e}(i.Component),Ya=Object(v.withStyles)(function(t){return{view:{marginLeft:"auto"},button:{color:"white"}}})(za),Xa=a(131),Za=a.n(Xa),_a=a(132),$a=a.n(_a);function ti(t){var e=t.state,a=t.classes,i=!e.Navigate.canUndo(e);return n.a.createElement(j.a,{classes:{root:a.button,disabled:a.buttonDisabled},disabled:i,onClick:function(){return e.Navigate.undo(e)},title:"Undo"},n.a.createElement(Za.a,null))}function ei(t){var e=t.state,a=t.classes,i=!e.Navigate.canRedo(e);return n.a.createElement(j.a,{classes:{root:a.button,disabled:a.buttonDisabled},disabled:i,onClick:function(){return e.Navigate.redo(e)},title:"Redo"},n.a.createElement($a.a,null))}function ai(t){var e=t.state,a=t.classes;return n.a.createElement(j.a,{className:a.button,onClick:function(){return e.Path.goHome(e)},title:"Home"},n.a.createElement(ye.a,null))}var ii=function(t){function e(t){var a;return Object(s.a)(this,e),a=Object(c.a)(this,Object(h.a)(e).call(this,t)),t.state.React.Config=Object(d.a)(Object(d.a)(a)),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"show",value:function(t){this.forceUpdate()}},{key:"render",value:function(){var t=this.props,e=t.classes,a=t.state;return n.a.createElement("div",{className:e.horisontal},n.a.createElement(ti,{state:a,classes:e}),n.a.createElement(ei,{state:a,classes:e}),n.a.createElement(ai,{state:a,classes:e}),n.a.createElement(Ya,{state:a,classes:{button:e.button},x:!0}),n.a.createElement(Ia,{state:a,classes:{button:e.button}}))}}]),e}(i.Component),ni=Object(v.withStyles)(function(t){return{horisontal:{marginLeft:"auto",display:"flex",justifyContent:"flex-end",alignItems:"right"},button:{color:"white","&$buttonDisabled":{color:t.palette.primary.main}},buttonDisabled:{}}})(ii);var oi=Object(v.withStyles)(function(t){return{root:{width:"100%",paddingBottom:"2%"},grow:{flexGrow:1},logo:Object(re.a)({padding:"1%",width:150},t.breakpoints.up("sm"),{width:200})}})(function(t){var e=t.classes,a=t.state;return n.a.createElement("div",{className:e.root},n.a.createElement(le.a,{position:"fixed",className:e.paddingBottom},n.a.createElement(he.a,null,n.a.createElement("img",{alt:"homepage",className:e.logo,src:de.a}),n.a.createElement(fe,{state:a}),n.a.createElement(ni,{state:a}))))}),ri=a(36),si=a.n(ri),li=a(39),ci=a.n(li);var hi=Object(v.withStyles)(function(t){return{root:{backgroundColor:t.palette.primary.main,marginTop:8*t.spacing.unit,bottom:0,padding:"".concat(6*t.spacing.unit,"px 0"),color:"#FFF"},text:{maxWidth:t.spacing.getMaxWidth.maxWidth,margin:t.spacing.getMaxWidth.margin}}})(function(t){return n.a.createElement(si.a,{item:!0,xs:12,sm:6},n.a.createElement(ci.a,{color:"inherit"},"Meteorologisk institutt"),n.a.createElement(ci.a,{color:"inherit"},"Henrik Mohns Plass 1"),n.a.createElement(ci.a,{color:"inherit"},"0313 Oslo"),n.a.createElement(ci.a,{color:"inherit"},"Telefon 22 96 30 00"))}),ui=function(t){function e(t){var a;return Object(s.a)(this,e),a=Object(c.a)(this,Object(h.a)(e).call(this,t)),t.state.React.Status=Object(d.a)(Object(d.a)(a)),a.state={msg:""},a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"setAge",value:function(t,e){this.setState({msg:e})}},{key:"setFootnote",value:function(t,e){this.setState({msg:e})}},{key:"render",value:function(){var t=this.props.classes;return n.a.createElement("div",{className:t.content},n.a.createElement("div",{className:t.align},n.a.createElement("div",null,this.state.msg)))}}]),e}(i.Component),di=Object(v.withStyles)(function(t){return{content:{flex:"1 0 auto",paddingTop:"0rem",marginLeft:"auto",alignItems:"right"},align:{width:"100%",textAlign:"center"}}})(ui);var vi=Object(v.withStyles)(function(t){return{root:{backgroundColor:t.palette.primary.main,marginTop:8*t.spacing.unit,bottom:0,padding:"".concat(6*t.spacing.unit,"px 0"),color:"#FFF",justify:"flex-start"},text:{maxWidth:t.spacing.getMaxWidth.maxWidth,margin:t.spacing.getMaxWidth.margin}}})(function(t){var e=t.classes,a=t.state;return n.a.createElement("footer",{className:e.root},n.a.createElement(si.a,{container:!0,spacing:24,className:e.text},n.a.createElement(si.a,{item:!0,xs:8},n.a.createElement(hi,null)),n.a.createElement(si.a,{item:!0,xs:4,style:{position:"absolute",right:0}},n.a.createElement(di,{state:a}))))}),fi=a(135),pi=a.n(fi),gi=a(299),mi=a(300);var yi=function(){this.colors=void 0,this.init=function(t){t.Utils.init("Colors",this)},this.getLevelColor=function(t){if(void 0!==t&&t>=0&&void 0!==this.colors)return this.colors.level[t]},this.setPathBorderColor=function(t,e){for(var a=document.getElementsByClassName("path"),i=a.length,n=0;n<i;n++)a[n].style.border="1px solid "+e}};var Ai=function(){this.ready=!0,this.next=function(t,e,a){if(void 0!==a){var i=a.shift();void 0!==i&&setTimeout(i(t,e,a),.1)}},this.load=function(t,e,a){if(t.File.ready){t.File.ready=!1,t.Html.setFootnote(t,"Server-request: "+e),t.Html.setProgress(t,!0);var i=new XMLHttpRequest;i.addEventListener("progress",function(e){return t.Html.progressInfo(t,e)}),i.addEventListener("error",function(e){return t.Html.errorInfo(t,e)}),i.addEventListener("abort",function(e){return t.Html.abortInfo(t,e)}),i.onreadystatechange=function(){if(t.File.ready=!0,4===i.readyState)if(200===i.status){var n=i.responseText;t.File.next(t,n,a)}else t.Html.setFootnote(t,"Unable to load "+e),t.Html.setProgress(t,!1);else t.Html.setFootnote(t,e+" error"),t.Html.setProgress(t,!1)},i.responseType="",i.overrideMimeType("text/text"),i.open("GET",e,!0),i.setRequestHeader("cache-control","no-cache, must-revalidate, post-check=0, pre-check=0"),i.setRequestHeader("cache-control","max-age=0"),i.setRequestHeader("expires","0"),i.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT"),i.setRequestHeader("pragma","no-cache"),i.send()}else t.Html.setFootnote(t,"Already waiting for reply..."),t.Html.setProgress(t,!0)}},bi=window.alasql;var ki=function(){var t;this.files=["1.json"],this.loaded="",this.index=0,this.cnt=0,this.keyCnt={},this.values={},this.epoch0=0,this.data="data/",this.regfile="register",this.arrayConstructor=[].constructor,this.objectConstructor={}.constructor,this.casc=0,this.cdes=1,this.nasc=2,this.ndes=3,this.delay=6e5,this.ready=!0,this.log="",this.mod="",this.keytrg={Missing:-1,Null:0,Value:1,Min:2,Max:3},this.init=function(t,e,a){t.Colors.init(t),t.Path.init(t),t.Layout.init(t),t.Threshold.init(t),t.Utils.init("Database",this),t.File.next(t,e,a)}.bind(this),this.updateLoop=function(t){this.setTime(t),this.load(t),setTimeout(function(){t.Database.updateLoop(t)},t.Database.delay)}.bind(this),this.load=function(t){console.log("Database load number:",++this.cnt),0===t.Database.index&&t.Database.loadRegister(t,"",[t.Database.processRegister,t.Database.loadData,t.Database.processData])},this.loadRegister=function(t,e,a){var i=(t.Database.data||"data/")+t.Database.regfile;console.log("Database loadRegister:",i),t.File.load(t,i,a)},this.processRegister=function(t,e,a){var i=e.split("\n"),n=i[Math.min(i.length-1,t.Database.index)];t.Database.files=i,t.Database.index=Math.min(i.length-1,t.Database.index),t.File.next(t,n,a)},this.loadData=function(t,e,a){if(e!==t.Database.loaded){t.Database.loaded=e;var i=(t.Database.data||"data/")+e;t.File.load(t,i,a)}else t.Html.setFootnote(t)},this.processData=function(t,e,a){setTimeout(function(){try{t.Database.json=JSON.parse(e)}catch(i){alert("Data '"+t.Database.files[t.Database.index]+"' contains Invalid JSON:"+i.name+":"+i.message)}void 0!==t.Database.json&&t.Database.processJson(t,t.Database.json,a)},.1)},this.processJson=function(t,e,a){t.Database.dbInsert(t,e),t.Html.setFootnote(t,"Extracting data."),setTimeout(function(){t.Database.makeWhere(t),t.Show.showAll(t),t.Html.setFootnote(t),t.File.next(t,"",a)},.1)},this.resetSetup=function(t){void 0!==t.Database.json&&t.Database.processJson(t,t.Database.json)},this.selectIndex=function(t,e,a){console.log("Setting file index:",a,e),t.Database.index=Math.max(0,Math.min(a,t.Database.files.length-1)),t.Database.loadData(t,e,[t.Database.processData])},this.getTime=function(t,e){var a=e.match(/\d+/g).map(Number);return new Date(Date.UTC(a[0],a[1]-1,a[2],a[3],a[4],a[5],((a[6]||"")+"000").slice(0,3))).getTime()},this.setTime=function(t){var e=(new Date).getTime();if(void 0!==this.epoch0){var a=e-this.epoch0;this.mod=this.getTimeDiff(t,a),void 0!==t.React&&void 0!==t.React.Status&&t.React.Status.setAge(t,this.mod)}},this.getKeyValues=function(t,e){var a=t.Database.values[e];return void 0!==a?a:[]},this.getKeytrg=function(e,a,i){if(Array.isArray(i)){t=this.keytrg.Missing;for(var n=i.length,o=0;o<n;o++)t=Math.max(t,this.getKeytrg(e,a,i[o]))}else t="null"===i?this.keytrg.Null:i==="MIN("+a+")"?this.keytrg.Min:i==="MAX("+a+")"?this.keytrg.Max:void 0===i?this.keytrg.Missing:null===i?this.keytrg.Null:this.keytrg.Value;return t},this.makeKeytrg=function(t,e,a,i){return a===this.keytrg.Missing?"missing":a===this.keytrg.Null?"null":a===this.keytrg.Min?"MIN("+e+")":a===this.keytrg.Max?"MAX("+e+")":i},this.dbInsert=function(t,e){var a,i;try{var n=e.data.length;for(a=0;a<n;a++)e.data[a].cnt=a;this.epoch0=this.getTime(t,e.epoch),this.setTime(t),this.makeTable(t),this.cnt=0,this.keyCnt={};var o=[],r=t.Path.home.val,s=t.Path.home.path,l=[],c=[],h=s.length;for(a=0;a<h;a++)i=s[a],this.getKeytrg(t,i,r[i])<=this.keytrg.Value?l.push(i):c.push(i);var u=this.extractData(t,o,{},"",e.data,l,r);if(console.log("Count:",u),this.dataToDb(t,o),this.postProcess(t),c.length>0){this.makeWhere(t,c,r);var d=this.getWhere(t,c,r),v=this.getDocs(t,d);this.dataToDb(t,v),this.postProcess(t)}t.Path.makePath(t),this.dbindex(t,t.Path.other.table),this.dbindex(t,t.Path.other.rest),t.Html.broadcast(t,"Database is ready.")}catch(f){alert("Db-insert error:"+f)}},this.updateKeyCnt=function(t,e,a){void 0===this.keyCnt[e]&&(this.keyCnt[e]={cnt:0,type:"num",order:this.nasc}),this.keyCnt[e].cnt=this.keyCnt[e].cnt+1,"num"===this.keyCnt[e].type&&isNaN(a)&&(this.keyCnt[e].type="nan",this.keyCnt[e].order=this.casc)},this.postProcess=function(t){for(var e=Object.keys(t.Database.keyCnt),a=e.length,i=0;i<a;i++){var n=e[i];t.Database.values[n]=[];for(var o="select DISTINCT "+n+" AS "+n+" FROM alarm",r=this.query(o),s=r.length,l=0;l<s;l++){var c=r[l];t.Database.values[n].push(c[n])}}},this.extractData=function(t,e,a,i,n,o,r){var s,l,c,h,u=0,d=this.whatIsIt(n);if("Object"===d&&""===i){for(s in c=t.Utils.cp(a),n)"value"===this.whatIsIt(n[s])&&(c[s]=n[s]);var v=0;for(s in n)"value"!==this.whatIsIt(n[s])&&(v+=1,u+=this.extractData(t,e,c,s,n[s],o,r));0===v&&(u+=this.extractData(t,e,c,null,null,o,r))}else if("Object"===d&&""!==i)for(s in c=t.Utils.cp(a),n)c[i]=s,u+=this.extractData(t,e,c,"",n[s],o,r);else if("Array"===d){var f=n.length;for(l=0;l<f;l++)u+=this.extractData(t,e,a,i,n[l],o,r)}else{var p=!0,g=t.Utils.cp(a);null!==n&&(""===i?g.value=n:g[i]=n);var m=o.length;for(l=0;l<m;l++){for(var y=r[i=o[l]],A=y.length,b=!1,k=0;k<A;k++)(y[k]===g[i]||""===y[k]&&void 0===g[i])&&(b=!0);b||(p=!1)}if(p){for(h in g){var C=g[h];this.updateKeyCnt(t,h,C)}u+=1,this.cnt=this.cnt+1,t.Threshold.setThresholds(g),g._title=t.Layout.makeDocTitle(t,g),e.push(g)}}return u},this.dbextract=function(t,e){var a=this.getWhere(t),i=this.getDocsCnt(t,a),n=0===i.length?0:i[0].cnt,o={};if(t.Matrix.cnt=n,n>t.Matrix.popSeries){t.Matrix.initKeyCnt(t);var r=[];t.Utils.cpArray(r,t.Path.keys.path),t.Utils.cpArray(r,t.Path.keys.other),t.Utils.cpArray(r,t.Path.trash),t.Matrix.mapKeyCnt(t,a,n,r),t.Path.exportAllKeys(t),t.Matrix.sortMatrixValues(t);var s=t.Database.getDocsCnt(t,a,t.Path.other.table);t.Matrix.makeMatrixCnt(t,s,o)}else{var l=this.getDocs(t,a);t.Matrix.initKeyCnt(t),t.Matrix.mapKeys(t,l),t.Matrix.addMapKeys(t,l),t.Path.exportAllKeys(t),t.Matrix.sortMatrixValues(t),t.Matrix.makeMatrix(t,l,o)}e(t,o)},this.dbindex=function(t,e){for(var a="",i=e.length,n=0;n<i;n++)a=a+" "+e[n]},this.getTitleDynamic=function(t,e,a){var i,n;if(void 0===t.Database.values[e])i=a;else{var o=this.getKeytrg(t,e,a);i="null"===a?e+" is NULL":o===this.keytrg.Max?void 0===(n=t.Utils.getMax(t.Database.values[e]))?e+" is NULL":n:o===this.keytrg.Min?void 0===(n=t.Utils.getMin(t.Database.values[e]))?e+" is NULL":n:a}return i},this.getWhereDynamic=function(t,e,a){var i,n;if(void 0===t.Database.values[e])i=t.Database.getWhereDetail(e,a);else{var o=this.getKeytrg(t,e,a);i=o===this.keytrg.Max?void 0===(n=t.Utils.getMax(t.Database.values[e]))?e+" is NULL":e+"='"+n+"'":o===this.keytrg.Min?void 0===(n=t.Utils.getMin(t.Database.values[e]))?e+" is NULL":e+"='"+n+"'":t.Database.getWhereDetail(e,a)}return i},this.getWhereDetail=function(t,e){return void 0===e||null===e||""===e?t+" is NULL":t+'="'+e+'"'},this.getWhere=function(t,e,a){var i="";if(void 0===e&&(e=t.Path.keys.path,a=t.Path.select.val),void 0===a&&(a=[]),void 0!==e){for(var n=e.length,o=0;o<n;o++){var r=e[o],s=t.Database.parseWhere(t,r,a[r]);void 0===s||null===s||""===s?(""!==i&&(i+=" AND "),i=i+r+" is NULL"):(""!==i&&(i+=" AND "),i=i+"("+s+")")}""!==i&&(i=" WHERE "+i)}return i},this.addWhere=function(t,e){var a=t;return void 0!==e&&null!==e&&""!==e&&(a=""!==a?a+" AND ("+e+")":" WHERE ("+e+")"),a},this.getColWhere=function(t,e,a,i){for(var n=e.length,o="",r=a;r<Math.min(n,a+i);r++)""!==o&&(o+=" or "),o+=this.getWhereDetail(t,e[r]);return o},this.makeWhere=function(t,e,a){void 0===e?t.Path.keys.path.forEach(function(e,a){this.setWhere(t,e,t.Path.select.val[e])}.bind(this)):e.forEach(function(e,i){this.setWhere(t,e,a[e])}.bind(this))},this.setWhere=function(t,e,a){var i=this.parseWhere(t,e,a);t.Path.where[e]=i},this.parseWhere=function(t,e,a){var i="";void 0===a&&(a=[]);for(var n=a.length,o=0;o<n;o++){var r=a[o];""!==i&&(i+=" OR "),i+=t.Database.getWhereDynamic(t,e,r)}return i},this.getGroup=function(t){for(var e="",a=t.length,i=0;i<a;i++)""!==e&&(e+=","),e+=t[i];return""!==e&&(e=" GROUP BY "+e),e},this.getCols=function(t){for(var e="",a=t.length,i=0;i<a;i++)""!==(e+=t[i])&&(e+=",");return e},this.getAll=function(t){for(var e="",a=t.Path.keys.other.length,i=0;i<a;i++)""!==(e+=t.Path.keys.other[i])&&(e+=",");return e},this.getDocsRank=function(t,e,a,i){var n;return void 0===(n=this.query("select * FROM alarm"+e))?[]:n},this.getRankCnt=function(t,e,a,i){var n,o;return e=this.addWhere(e,"rank='"+i.toString()+"'"),void 0===a?(n="select * FROM alarm"+e,o=this.query(n)):(n="select "+this.getCols(a)+"* FROM alarm"+e+this.getGroup(a),o=this.query(n)),void 0===o?[]:o},this.getDocsCnt=function(t,e,a){var i,n,o="count(*) AS cnt, max(level) AS maxlev, max(rank) AS maxrank, min(level) AS minlev, max(lat) AS maxlat, min(lat) AS minlat, max(lon) AS maxlon, min(lon) AS minlon FROM alarm";return void 0===a?(i="select "+o+e,n=this.query(i)):(i="select "+this.getCols(a)+o+e+this.getGroup(a),n=this.query(i)),void 0===n?[]:n},this.getDocs=function(t,e){var a=this.query("select * FROM alarm"+e);return void 0===a?[]:a},this.makeTable=function(t){this.query("DROP TABLE IF EXISTS alarm; CREATE TABLE alarm;")},this.dataToDb=function(t,e){bi.tables.alarm.data=e},this.getKeyCnt=function(t,e,a){var i="select "+e+",count(*) AS cnt FROM alarm"+a+" GROUP BY "+e;return this.query(i)},this.whatIsIt=function(t){return null===t?"null":t.constructor===this.arrayConstructor?"Array":t.constructor===this.objectConstructor?"Object":"value"},this.getTimeDiff=function(t,e){var a="";if(void 0===e||isNaN(t,e))return a;var i=Math.abs(t,e),n=Math.floor(t,i/1e3/60/60/24);i-=1e3*n*60*60*24;var o=Math.floor(t,i/1e3/60/60);i-=1e3*o*60*60;var r=Math.floor(t,i/1e3/60);return i-=1e3*r*60,i-=1e3*Math.floor(t,i/1e3),a=e<0?"-":e>0?"+":"0",0!==n&&(a=a+" "+t.Utils.numberWithCommas(n)+"d"),0!==o&&(a=a+" "+o+"h"),0!==r&&(a=a+" "+r+"m"),a},this.sanityCheck=function(t){return this.query("select count(*) AS cnt, max(level) AS lev FROM alarm")[0].cnt},this.query=function(t){try{return bi(t)}catch(e){alert(t+":"+e)}}};var Ci=function(){this.setupdir="def/",this.setup="defaults.json",this.path="test.json",this.current={},this.start=void 0,this.SetupMapFill=[[["Database","data"],["data"]],[["other"],["other"]],[["trash"],["trash"]]],this.SetupMapForce=[[["Threshold","thrs"],["thrs"]],[["Colors","colors"],["colors"]],[["Path","order"],["order"]],[["Path","select"],["select"]],[["Path","home"],["home"]],[["Path","tooltip"],["tooltip"]],[["Layout","priority"],["priority"]],[["Layout","state"],["state"]]],this.StateMapFill=[[["Database","data"],["Database","data"]],[["Threshold","thrs"],["Threshold","thrs"]],[["Colors","colors"],["Colors","colors"]],[["Path","order"],["Path","order"]],[["Path","home"],["Path","home"]],[["Path","tooltip","keys"],["Path","tooltip","keys"]],[["Path","tooltip","select"],["Path","tooltip","select"]],[["Path","tooltip","sort"],["Path","tooltip","sort"]],[["Path","tooltip","click"],["Path","tooltip","click"]],[["Path","select"],["Path","select"]],[["Path","keys","path"],["Path","keys","path"]],[["Path","keys","other"],["Path","keys","other"]],[["Layout","priority"],["Layout","priority"]],[["Layout","state"],["Layout","state"]]],this.CurrentMapForce=[[["Path","home"],["Path","home"]]],this.init=function(t){t.Utils.init("setup",this)},this.loadDefault=function(t,e,a){var i=this.setup;if(console.log("Default setup:",i),void 0!==t.Threshold.thrs)t.File.next(t,"",a);else{var n=t.Default.setupdir+t.Default.setup;t.File.load(t,n,a)}},this.makeStart=function(t,e,a){void 0===t.Default.start&&(t.Default.start={},t.Utils.mapFill(t,t.Default.StateMapFill,t.Default.start,t)),t.File.next(t,"",a)},this.processDefault=function(t,e,a){if(void 0!==t.Threshold.thrs)t.File.next(t,"",a);else{try{var i=JSON.parse(e)}catch(n){alert("Default '"+t.Default.setup+"' contains Invalid JSON:"+n.name+":"+n.message)}void 0!==i&&(t.Utils.mapFill(t,t.Default.SetupMapFill,t.Default.current,i),t.Utils.mapForce(t,t.Default.SetupMapForce,t.Default.current,i),t.Utils.mapFill(t,t.Default.StateMapFill,t,t.Default.current)),t.File.next(t,"",a)}},this.resetSetup=function(t,e,a){try{var i=JSON.parse(e)}catch(n){alert("Default '"+t.Default.setup+"' contains Invalid JSON:"+n.name+":"+n.message)}void 0!==i&&void 0!==t.Default.start&&(console.log("Reset state:",JSON.stringify(t.Path)),t.Default.current={},t.Utils.mapFill(t,t.Default.SetupMapFill,t.Default.current,i),t.Utils.mapForce(t,t.Default.SetupMapForce,t.Default.current,i),t.Utils.mapFill(t,t.Default.StateMapFill,t.Default.current,t.Default.start),t.Utils.mapForce(t,t.Default.StateMapFill,t,t.Default.current),t.Database.resetSetup(t),console.log("Reset State:",JSON.stringify(t.Path)))},this.getSetup=function(t){var e={},a={};return t.Utils.mapFill(t,t.Default.StateMapFill,a,t.Default.current),t.Utils.mapForce(t,t.Default.CurrentMapForce,a,t),t.Utils.mapForce(t,t.Utils.invertMap(t.Default.SetupMapForce),e,a),t.Utils.mapFill(t,t.Utils.invertMap(t.Default.SetupMapFill),e,a),e},this.save=function(t){var e=t.Utils.prettyJson(t.Default.getSetup(t));t.Utils.save(e,"setup.json","json")},this.hasChanged=function(t,e){for(var a=t.Default.start,i=t,n=e.length,o=0;o<n;o++){var r=e[o];if(void 0===a[r])return console.log("Missing Defaults-key:","'"+r+"'","(path=",JSON.stringify(e),") Default root=",JSON.stringify(Object.keys(a))),!0;if(a=a[r],void 0===i[r])return console.log("Missing State-key:",r,JSON.stringify(e),JSON.stringify(Object.keys(i))),!0;i=i[r]}return JSON.stringify(a)!==JSON.stringify(i)}};var wi=function(){this.ceye="&#x1f441",this.setConsole=function(t){console.log(t)},this.setProgress=function(t,e){void 0!==t.React&&void 0!==t.React.Dataset&&t.React.Dataset.setProgress(t,e)},this.setFootnote=function(t,e){void 0!==t.React&&void 0!==t.React.Status&&(void 0===e&&(e=t.Utils.getStatusString(t)),t.React.Status.setFootnote(t,e))},this.broadcast=function(t,e,a){void 0!==t.React&&void 0!==t.React.Status&&(void 0===e&&(e=t.Utils.getStatusString(t)),t.React.App.broadcast(e,"info"))},this.progressInfo=function(t,e){void 0!==t.React&&void 0!==t.React.Status&&(e.loaded===e.total?t.React.Status.setFootnote(t,""):(e.preventDefault(),t.React.Status.setFootnote(t,t.Utils.numberWithCommas(Math.round(e.loaded/1e3))+" Kb")))},this.loadInfo=function(t,e){void 0!==t.React&&void 0!==t.React.Status&&t.React.Status.setFootnote(t,"Processing")},this.errorInfo=function(t,e){void 0!==t.React&&void 0!==t.React.Status&&t.React.Status.setFootnote(t,"Error")},this.abortInfo=function(t,e){void 0!==t.React&&void 0!==t.React.Status&&t.React.Status.setFootnote(t,"Aborted")}};var xi=function(){this.rotate=void 0,this.priority=void 0,this.init=function(t){t.Utils.init("Layout",this)},this.fullscreen=!1,this.fonts=["12px Fixed","18px Fixed","24px Fixed","36px Fixed","48px Fixed"],this.code={view:{nopath:0,path:1},cell:{Sum:0,Series:1},layout:{Table:0,List:1,Map:2}},this.state={viewMode:0,cellMode:0,layoutMode:0,cfont:0,tooltip:0},this.toggleTooltip=function(t){this.state.tooltip=(this.state.tooltip+1)%2,t.Utils.pushUrl(t),t.Show.show(t,!0)},this.changeFont=function(t){this.state.cfont=(this.state.cfont+1)%this.fonts.length,t.Utils.pushUrl(t),t.Show.show(t,!1)},this.toggleView=function(t){this.state.viewMode===this.code.view.nopath?this.state.viewMode=this.code.view.path:this.state.viewMode===this.code.view.path&&(this.state.viewMode=this.code.view.nopath),t.Show.showPath(t),t.Show.showConfig(t)},this.toggleMode=function(t,e,a){t.Layout.state.layoutMode=e,t.Layout.state.cellMode=a,t.Show.showAll(t,!1)},this.getDim=function(t){var e=t.Path.getColKey(t),a=t.Path.getRowKey(t);return void 0!==e&&void 0!==a?2:void 0!==e||void 0!==a?1:0},this.setLayoutMode=function(t,e){var a=this.state.layoutMode,i=this.getLayoutMode(t);this.state.layoutMode=e,i!==this.getLayoutMode(t)?t.Show.showAll(t):a!==e&&t.Show.showMode(t)},this.setCellMode=function(t,e){var a=this.state.cellMode,i=this.getCellMode(t);this.state.cellMode=e,i!==this.getCellMode(t)?t.Show.showAll(t):a!==e&&t.Show.showMode(t)},this.getLayoutMode=function(t){var e=this.state.layoutMode;return e===this.code.layout.List&&t.Matrix.cnt>t.Matrix.popSeries?e=this.code.layout.Table:e===this.code.layout.Map&&t.Matrix.cnt>t.Matrix.popSeries&&(e=this.code.layout.Table),e},this.getCellMode=function(t){var e=this.state.cellMode;return e===this.code.cell.Single&&t.Matrix.cnt>t.Matrix.popSingle&&(e=this.code.cell.Series),e===this.code.cell.Series&&t.Matrix.cnt>t.Matrix.popSeries&&(e=this.code.cell.Sum),e},this.toggleFullScreen=function(t){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),this.fullscreen=!1):(document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.webkitRequestFullscreen&&document.webkitRequestFullscreen(),this.fullscreen=!0),t.Show.showConfig(t),console.log("Toggle fullscreen:",this.fullscreen)},this.getPriorityKeys=function(t){if(void 0===t.Layout.priority)t.Layout.priority=t.Database.keyCnt.keys();else for(var e=Object.keys(t.Database.keyCnt),a=e,i=0;i<a;i++){var n=e[i];-1===t.Layout.priority.indexOf(n)&&t.Layout.priority.push(n)}return t.Layout.priority},this.increaseSelect=function(t,e){var a=t.Path.keys.path.indexOf(e);if(console.log("Bumping:",e,a,JSON.stringify(t.Path.keys.path)),-1!==a&&a>0){var i=t.Path.keys.path.splice(a,1);t.Utils.spliceArray(t.Path.keys.path,a-1,0,i)}t.Show.showConfig(t),t.Show.showPath(t)},this.increasePriority=function(t,e){var a=t.Layout.priority.indexOf(e);if(console.log("Bumping:",e,a,JSON.stringify(t.Layout.priority)),-1!==a&&a>0){var i=t.Layout.priority.splice(a,1);t.Utils.spliceArray(t.Layout.priority,a-1,0,i)}t.Show.showConfig(t)},this.getPriorityIndex=function(t,e){var a,i,n={};for(a=e.length,i=0;i<a;i++)n[e[i]]=0;if(void 0!==this.priority)for(a=this.priority.length,i=0;i<a;i++)n[this.priority[i]]=a+1-i;return n},this.changePriority=function(t,e,a){if(void 0!==e&&void 0!==a){console.log("Priority:",e,"->",a,JSON.stringify(this.priority)),t.Path.other.table[0],t.Path.other.table[1];for(var i=0,n=0,o=this.priority.length,r=0;r<o;r++)this.priority[r],this.priority[r],this.priority[r]===e&&(i=o+1-r),this.priority[r]===a&&(n=o+1-r);return n<i?n>0?(t.Utils.spliceArray(this.priority,o+2-n,0,e),console.log("Added:",JSON.stringify(this.priority),i,n,e),this.priority.splice(o+1-i,1)):(this.priority.splice(o+1-i,1),this.priority.concat(e)):n>i?i>0?(this.priority.splice(o+1-i,1),t.Utils.spliceArray(this.priority,o+1-n,0,e)):t.Utils.spliceArray(this.priority,o+1-n,0,e):0===n&&this.priority.concat(e),console.log("Changed priority:",JSON.stringify(this.priority),i,n),!0}},this.getPriority=function(t){return t.Utils.cp(this.priority)},this.setPriority=function(t,e){this.priority=e},this.getDescription=function(t,e,a){if(1===e.cnt){for(var i="",n=e.docs[0],o=a.length,r=0;r<o;r++){var s=a[r]+"="+n[a[r]];i=""!==i?i+" "+s:s}return i}return e.cnt},this.setPlan=function(t,e){for(var a=Object.keys(e),i=a.length,n=0;n<i;n++){var o=a[n],r=e[o];t[o]=r}},this.getTextWidth=function(t,e,a){return void 0===this.getTextWidth.c&&(this.getTextWidth.c=document.createElement("canvas"),this.getTextWidth.ctx=this.getTextWidth.c.getContext("2d")),this.getTextWidth.ctx.font=void 0!==e?a+" "+e:this.fonts[this.state.cfont],this.getTextWidth.ctx.measureText(t).width},this.getTextHeight=function(t,e){return void 0===this.getTextHeight.c&&(this.getTextHeight.c=document.createElement("canvas"),this.getTextHeight.ctx=this.getTextHeight.c.getContext("2d")),this.getTextHeight.ctx.font=void 0!==t?e+" "+t:this.fonts[this.state.cfont],this.getTextHeight.ctx.measureText("M").width},this.getDescender=function(t,e){return.3*this.getTextHeight(t,e)},this.maxWidth=function(t,e){for(var a=0,i=0,n=t.length,o=0;o<n;o++){var r=this.getTextWidth(t[o])+2*e;r>i&&(i=r),a+=r}return{max:i,sum:a}},this.makeDocTitle=function(t,e){for(var a="",i=t.Path.tooltip.keys.length,n=0;n<i;n++){var o=t.Path.tooltip.keys[n];void 0!==e[o]&&(""!==a&&(a+=", "),a=a+o+"="+e[o])}return a},this.makeCntTitle=function(t,e){var a="";if(1===this.state.title)for(var i=e.length,n=0;n<i;n++){var o=e[n];void 0!==o._title&&(""!==a&&(a+="|"),a+=o._title)}return a},this.makePlans=function(t,e,a,i,n,o){var r=this.getDescender()+1,s={cell:{rotate:!1,step:1,border:r,width:100,height:100,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},hdr:{rotate:!1,step:1,border:r,width:100,height:100,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},hd1:{rotate:!1,step:1,border:r,width:100,height:100,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},hd2:{rotate:!1,step:1,border:r,width:100,height:100,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},row:{rotate:!1,step:1,border:r,width:100,height:100,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},col:{rotate:!1,step:1,border:r,width:100,height:100,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]}};if(n<=0)return s;var l,c,h,u,d,v,f,p=this.maxWidth(i,r),g=this.maxWidth(a,r),m=""===t?0:this.getTextWidth(t)+2*r,y=""===e?0:this.getTextWidth(e)+2*r,A=this.getTextHeight()+2*r,b=Math.max(p.max,m+y)+A,k=n-b,C=g.max,w=a.length,x=i.length;C*w<k?(v=!1,f=1,l=A,d=((u=k/w)-C)/2):A*w<k?(v=!0,f=1,l=C,d=((u=k/w)-A)/2):(v=!0,l=C,d=((u=(f=Math.ceil(w*A/k))*k/w)-A)/2);var E=o-l;h=A*x<E?Math.min(10*A,E/x):A;var O=((c=b)-m-y)/2;return this.setPlan(s.cell,{width:u,height:h,step:f,font:this.fonts[this.state.cfont]}),this.setPlan(s.hdr,{width:c,height:l,font:this.fonts[this.state.cfont]}),this.setPlan(s.hd1,{width:m+O,height:l,align:"right",font:this.fonts[this.state.cfont]}),this.setPlan(s.hd2,{width:y+O,height:l,font:this.fonts[this.state.cfont]}),this.setPlan(s.col,{width:u,height:l,xoffset:d,step:f,rotate:v,font:this.fonts[this.state.cfont]}),this.setPlan(s.row,{width:c,height:h,font:this.fonts[this.state.cfont]}),s}};var Ei=function(){this.cnt=0,this.keyCnt={},this.levCnt={},this.values={},this.limit=100,this.resolution=20,this.area={},this.popSingle=1e3,this.popSeries=5e3,this.init=function(t){t.Utils.init("Matrix",this)},this.cntKey=function(t,e,a,i){var n;if(void 0===this.values[e]&&(this.keyCnt[e]=0,this.values[e]=[]),-1===t.Path.ignore.indexOf(e)&&""!==e){for(var o=0,r=t.Database.getKeyCnt(t,e,i),s=r.length,l=0;l<s;l++){var c=r[l];n=c[e];var h=c.cnt;void 0!==n&&(this.keyCnt[e]=this.keyCnt[e]+h,this.values[e].push(n),o+=h)}o<a&&(n="",this.values[e].push(n))}else""===e&&console.log("Key error...",(new Error).stack)},this.initKeyCnt=function(t){this.values={},this.keyCnt={}},this.mapKeyCnt=function(t,e,a,i){if(void 0!==i)for(var n=i.length,o=0;o<n;o++){var r=i[o];""!==r&&this.cntKey(t,r,a,e)}},this.updateKeyCnt=function(t,e){void 0===this.keyCnt[e]?(this.keyCnt[e]=1,this.values[e]=[]):this.keyCnt[e]++},this.updateValues=function(t,e,a){void 0!==a&&-1===this.values[e].indexOf(a)&&this.values[e].push(a)},this.completeValues=function(t,e,a){this.keyCnt[e]<a&&this.values[e].push("")},this.addPathKeyCntValues=function(t){for(var e=t.Path.keys.path.length,a=0;a<e;a++){var i=t.Path.keys.path[a];void 0===this.keyCnt[i]&&(this.keyCnt[i]=0,this.values[i]=[])}},this.posToVal=function(t,e,a,i){var n=this.resolution-1;if(void 0!==e&&void 0!==a&&void 0!==i){var o,r=(i-a)/n;if(Math.abs(t,r)<.01)o=(a+i)/2;else{var s=r/2,l=(Number(e)+.5)*r+a-s;o=Math.floor(t,1e3*l+.5)/1e3}return o.toString()}},this.valToPos=function(t,e,a,i){var n=this.resolution-1;if(void 0!==e&&void 0!==a&&void 0!==i){var o=(i-a)/n;if(Math.abs(t,o)<.01)return Math.floor(t,n/2);var r=o/2,s=(Number(e)-a+r)/o;return Math.max(0,Math.min(n,Math.floor(t,s)))}},this.lonToPos=function(t,e){var a=this.area.minlon,i=this.area.maxlon;return this.valToPos(t,e,a,i)},this.posToLon=function(t,e){var a=this.area.minlon,i=this.area.maxlon;return this.posToVal(t,e,a,i)},this.latToPos=function(t,e){var a=this.area.minlat,i=this.area.maxlat;return this.valToPos(t,e,a,i)},this.posToLat=function(t,e){var a=this.area.minlat,i=this.area.maxlat;return this.posToVal(t,e,a,i)},this.makeMapRange=function(t){var e;for(this.values._lat=[],e=0;e<this.resolution;e++){var a=this.posToLat(t,this.resolution-e-1);this.values._lat.push(a)}for(this.values._lon=[],e=0;e<this.resolution;e++){var i=this.posToLon(t,e);this.values._lon.push(i)}},this.getLonWhere=function(t,e,a,i){var n=a[i],o=Number(a[0]),r=Number(a[a.length-1]),s=this.valToPos(t,n,o,r),l=this.posToVal(t,s-.5,o,r),c=this.posToVal(t,s+.5,o,r);return l<c?e+" >= "+l+" and "+e+" < "+c:e+" >= "+c+" and "+e+" < "+l},this.getLatWhere=function(t,e,a,i){var n=a[i],o=Number(a[0]),r=Number(a[a.length-1]),s=this.valToPos(t,n,o,r),l=this.posToVal(t,s-.5,o,r),c=this.posToVal(t,s+.5,o,r),h=(r-o)/(this.resolution-1),u=h/2,d=(Number(n)-o+u)/h;return console.log("GetLatWhere:",n,i,s,d,o,r," lat=",n,l,c," d=",u,h),l<c?e+" >= "+l+" and "+e+" < "+c:e+" >= "+c+" and "+e+" < "+l},this.addMapKeys=function(t,e){for(var a=e.length,i=0;i<a;i++){var n=e[i],o=this.latToPos(t,n.lat),r=this.posToLat(t,o),s=this.lonToPos(t,n.lon),l=this.posToLon(t,s);n._lat=r,n._lon=l}},this.mapKeys=function(t,e){for(var a,i,n,o,r,s=e.length,l=0;l<s;l++){var c=e[l];for(a in c){this.updateKeyCnt(t,a);var h=this.getDocVal(t,c,a);this.updateValues(t,a,h),"lat"===a?(i=void 0===i?h:Math.max(h,i),n=void 0===n?h:Math.min(h,n),this.updateKeyCnt(t,"_lat")):"lon"===a&&(o=void 0===o?h:Math.max(h,o),r=void 0===r?h:Math.min(h,r),this.updateKeyCnt(t,"_lon"))}}for(a in this.area={minlat:n,maxlat:i,minlon:r,maxlon:o},this.makeMapRange(t),this.keyCnt)this.completeValues(t,a,s);this.addPathKeyCntValues(t)},this.makeMatrixCnt=function(t,e,a){var i=!1,n=t.Path.getColKey(t),o=t.Path.getRowKey(t);this.levCnt={};for(var r=e.length,s=0;s<r;s++){var l=e[s],c=this.getDocVal(t,l,n),h=this.getDocVal(t,l,o),u=this.getDocVal(t,l,"cnt"),d=this.getDocVal(t,l,"maxlev"),v=this.getDocVal(t,l,"maxrank"),f=this.getDocVal(t,l,"minlev"),p=this.getDocVal(t,l,"minlon"),g=this.getDocVal(t,l,"maxlon"),m=this.getDocVal(t,l,"minlat"),y=this.getDocVal(t,l,"maxlat"),A=this.makeMatrixElement(t,c,h,a);d>=0&&(i=!0),void 0!==A&&(A.maxlev=d,A.minlev=f,A.maxrank=v,A.cnt=u,A.def=0)}i||(console.log("this.makeMatrix No relevant thresholds found."),t.Html.setFootnote(t,"No data found.")),1===t.Layout.state.tooltip&&t.Matrix.addAllTooltip(t,a),this.area={minlat:m,maxlat:y,minlon:p,maxlon:g},this.makeMapRange(t)},this.makeMatrix=function(t,e,a){var i=!1,n=t.Path.getColKey(t),o=t.Path.getRowKey(t);this.levCnt={};for(var r=e.length,s=0;s<r;s++){var l=e[s],c=this.getDocVal(t,l,n),h=this.getDocVal(t,l,o),u=this.makeMatrixElement(t,c,h,a),d=t.Threshold.getLevel(t,l);void 0===d&&(d=-2),d>=0&&(i=!0),this.updateLevCnt(t,c,d),this.updateLevCnt(t,h,d),this.updateMatrixElement(t,u,d,l)}i||(console.log("this.makeMatrix No relevant thresholds found."),t.Html.setFootnote(t,"No data with valid threshold was found."))},this.updateLevCnt=function(t,e,a){void 0===this.levCnt[e]&&(this.levCnt[e]={}),void 0===this.levCnt[e][a]&&(this.levCnt[e][a]=0),this.levCnt[e][a]=this.levCnt[e][a]+1},this.makeMatrixElement=function(t,e,a,i){var n=!1;void 0===i[e]&&(n=!0,i[e]={}),void 0===i[e][a]&&(n=!0,i[e][a]={});var o=i[e][a];return n&&(o.colval=e,o.rowval=a),o},this.getMatrixElement=function(t,e,a){if(void 0!==a[t]&&void 0!==a[t][e])return a[t][e]},this.getMatrixElements=function(t,e,a,i,n){var o=void 0===t?void 0:t.slice(),r=i,s=n,l=void 0;void 0===o&&(r=0,s=(o=Object.keys(a)).length);var c=o.length;if(void 0!==a&&null!==a)for(var h=r;h<Math.min(c,r+s);h++){var u=o[h],d=[e];if(void 0===e){var v=a[u];void 0!==v&&(d=Object.keys(v))}for(var f=d.length,p=0;p<f;p++){var g=d[p],m=this.getMatrixElement(o[h],g,a);void 0===m||(void 0===l&&(l=[]),l.push(m))}}return l},this.getMatrixRowElements=function(t,e,a,i,n){var o=e.length,r=void 0;if(void 0!==a)for(var s=i;s<Math.min(o,i+n);s++){var l=this.getMatrixElement(t,e[s],a);void 0===l||(void 0===r&&(r=[]),r.push(l))}else console.log("No matrix available.");return r},this.getDocVal=function(t,e,a){var i=e[a];return void 0===i&&(i=""),i},this.updateMatrixElement=function(t,e,a,i){if(void 0!==e){var n=e.cnt||0,o=e.def||0;(void 0===e.maxlev||-1===e.maxlev||-1!==a&&e.maxlev<a)&&(e.maxlev=a),(void 0===e.minlev||e.minlev>a)&&(e.minlev=a),void 0===e.docs&&(e.docs=[]),e.cnt=n+1,void 0!==i._thr&&void 0!==i._thr.val?(e.def=o+1,e.def<=this.limit&&e.docs.push(i)):n===o&&e.docs.push(i);var r=t.Threshold.getRank(t,i);void 0===e.tooltip&&(e.tooltip={});var s=this.getTooltipElement(t,e.tooltip,i);-1!==a&&(void 0===s.maxrank&&void 0===s.maxlev||s.maxlev<a||s.maxlev===a&&s.maxrank<r)?(s.maxlev=a,s.maxrank=r,s.docs=[],s.docs.push(i)):s.maxlev===a&&s.maxrank===r&&(a>0&&a<t.Threshold.getMaxLevel(i)&&s.docs.length<3||s.docs.length<1)&&s.docs.push(i)}else console.log("Undefined matrix element.")},this.getTooltipElement=function(t,e,a){for(var i=e,n=t.Path.tooltip.select,o=n.length,r=0;r<o;r++){var s=a[n[r]];void 0===i[s]&&(i[s]={}),i=i[s]}return i},this.getRange=function(t,e,a,i){var n;n=void 0;for(var o=a.length,r=0;r<o;r++)for(var s=i.length,l=0;l<s;l++){var c=this.getMatrixElement(a[r],i[l],e);if(void 0!==c){var h=c.docs;if(void 0!==h)for(var u=h.length,d=0;d<u;d++){var v=h[d];if(void 0!==v._thr&&void 0!==v._thr.val){var f,p,g=v._thr.val;n=this.setRange(n,g),void 0!==v._thr.max?(p=(f=v._thr.max)[0]-f[f.length-1],f[f.length-1]>0&&f[f.length-1]-p<0&&(n=this.setRange(n,0))):void 0!==v._thr.min&&(f=v._thr.min)[f.length-1]<0&&f[f.length-1]+p>0&&(n=this.setRange(n,0)),n=this.setRange(n,f[0]),n=this.setRange(n,f[f.length-1])}}}}return n=this.adjustRange(n)},this.setRange=function(t,e){return t=void 0===t?[e,e]:[Math.min(e,t[0]),Math.max(e,t[1])]},this.adjustRange=function(t){if(void 0!==t){var e=t[1]-t[0];return(t=[t[0]-.01*e,t[1]+.01*e])[0]>0&&t[0]-e<0&&(t[0]=0),t[1]<0&&t[1]+e>0&&(t[1]=0),t}},this.sortTooltipDocs=function(t,e){var a=t.Path.tooltip.sort||[],i=a.length,n=t.Path.order;return e.sort(function(t,e){for(var o=0;o<i;o++){var r=a[o],s=t[r],l=e[r];if(void 0!==n[r]){var c=n[r].indexOf(s),h=n[r].indexOf(l);if(-1!==c&&-1!==h)return c-h;if(-1!==c)return 1;if(-1!==c)return-1;if(s!==l)return(s>l)-(s<l)}else if(s!==l)return(s>l)-(s<l)}return 0})},this.sortMatrixValues=function(t){for(var e=t.Path.other.table.length,a=0;a<e;a++){var i=t.Path.other.table[a];if(void 0!==this.values[i]&&(t.Database.keyCnt[i].order===t.Database.casc?this.values[i]=this.values[i].sort(t.Utils.ascending):t.Database.keyCnt[i].order===t.Database.nasc?this.values[i]=this.values[i].sort(t.Utils.descendingN):t.Database.keyCnt[i].order===t.Database.cdes?this.values[i]=this.values[i].sort(t.Utils.descending):t.Database.keyCnt[i].order===t.Database.ndes&&(this.values[i]=this.values[i].sort(t.Utils.descendingN)),void 0!==t.Path.order&&void 0!==t.Path.order[i])){var n,o,r=[],s=t.Path.order[i].length;for(n=0;n<s;n++)o=t.Path.order[i][n],-1!==this.values[i].indexOf(o)&&r.push(o);var l=this.values[i].length;for(n=0;n<l;n++)o=this.values[i][n],-1===r.indexOf(o)&&(r.push(o),t.Path.order[i].push(o));this.values[i]=r}}},this.sortedKeys=function(t,e){var a,i=[];for(a in e)e.hasOwnProperty(a)&&"_"!==a.substring(0,1)&&i.push(a);for(var n=[],o=(i=i.sort(t.Utils.ascending)).length,r=0;r<o;r++)"_"!==(a=i[r]).substr(t,0,1)&&-1===n.indexOf(a)&&n.push(a);return n},this.getInfo=function(t,e){var a={},i=0,n=-1,o=0,r=[];if(void 0===e)console.log("No elements found.");else{for(var s=e.length,l=0;l<s;l++)i+=e[l].cnt,void 0===e[l].maxlev||void 0===e[l].minlev?o=Math.min(o,-2):(n=Math.max(n,e[l].maxlev),o=Math.min(o,e[l].minlev)),this.mergeTooltipElement(t,e[l].tooltip,a,t.Path.tooltip.select.length);r=this.getTooltipDocs(t,a)}return{cnt:i,minlev:o,maxlev:n,tooltip:this.sortTooltipDocs(t,r)}},this.mergeTooltipElement=function(t,e,a,i){if(void 0!==e){var n=i;if(void 0===n&&(n=t.Path.tooltip.select.length),n>0)for(var o=Object.keys(e),r=o.length,s=0;s<r;s++){var l=o[s];void 0===a[l]&&(a[l]={}),this.mergeTooltipElement(t,e[l],a[l],n-1)}else(void 0===a.maxrank||a.maxrank<e.maxrank)&&(a.maxrank=e.maxrank,a.docs=e.docs)}},this.getTooltipDocs=function(t,e,a){var i=[],n=a;if(void 0===n&&(n=t.Path.tooltip.select.length),void 0!==e)if(n>0)for(var o=Object.keys(e),r=o.length,s=0;s<r;s++){var l=o[s],c=this.getTooltipDocs(t,e[l],n-1);t.Utils.cpArray(i,c)}else void 0!==e.docs&&t.Utils.cpArray(i,e.docs);return i},this.checkTooltip=function(t,e){for(var a=e.rowval,i=e.colvalues,n=e.step,o=e.index,r=this.getMatrixElements(i,a,t.React.matrix,o,n)||[],s=r.length,l=!0,c=0;c<s;c++)void 0===r[c].tooltip&&(l=!1);return l},this.addTooltip=function(t,e){console.log("Updated Matrix with tooltip.",e.rowkey,e.colkey);for(var a=e.rowval,i=e.colvalues,n=e.step,o=e.index,r=this.getMatrixElements(i,a,t.React.matrix,o,n)||[],s=r.length,l=0;l<s;l++)void 0===r[l].tooltip&&this.addElementTooltip(t,r[l])},this.makeCntTooltip=function(t,e){for(var a={},i=e.length,n=0;n<i;n++){var o=e[n],r=o._rank,s=this.getTooltipElement(t,a,o);void 0===s.maxrank||s.maxrank<r?(s.maxrank=r,s.docs=[],s.docs.push(o)):s.maxrank===r&&(0!==r||s.docs.length<3)&&s.docs.push(o)}return a},this.getElementWhere=function(t,e){var a=t.Database.getWhere(t),i=t.Path.getColKey(t),n=t.Path.getRowKey(t);if(void 0!==n&&""!==n){var o=e.rowval;a=t.Database.addWhere(a,n+"='"+o+"'")}if(void 0!==i&&""!==i){var r=e.colval;a=t.Database.addWhere(a,i+"='"+r+"'")}return a},this.addAllTooltip=function(t,e){for(var a=Object.keys(e),i=a.length,n=0;n<i;n++)for(var o=e[a[n]],r=Object.keys(o),s=r.length,l=0;l<s;l++){var c=o[r[l]];this.addElementTooltip(t,c)}},this.addElementTooltip=function(t,e){var a=this.getElementWhere(t,e),i=[];e.cnt>0&&(i=t.Database.getDocs(t,a)),e.tooltip=this.makeCntTooltip(t,i)},this.getTooltip=function(t,e){var a=e.rowval,i=e.colvalues,n=e.step,o=e.index,r=this.getMatrixElements(i,a,t.React.matrix,o,n);return this.getInfo(t,r).tooltip}};var Oi=function(){this.history={pos:0,track:[]},this.home=void 0,this.rank={},this.trash={},this.maxStore=1e3,this.reset=function(t){t.Navigate.history={pos:0,track:[]},this.store(t)},this.store=function(t){var e=t.Path.getSnapshot(t);if(t.Navigate.history.track.length>t.Navigate.history.pos+1)t.Navigate.history.track.length=t.Navigate.history.pos+1;else if(t.Navigate.history.track.length>this.maxStore){var a=this.maxStore;t.Navigate.history.track=t.Navigate.history.track.splice(-a,a)}if(t.Navigate.history.track.length>0){var i=t.Navigate.history.track[t.Navigate.history.track.length-1];if(JSON.stringify(e)===JSON.stringify(i))return console.log("Ignoring old image."),!1}t.Navigate.history.track.push(e),t.Navigate.history.pos=t.Navigate.history.track.length-1,this.refreshHistory(t)},this.refreshHistory=function(t){void 0!==t.React.Config&&t.React.Config.show()},this.canUndo=function(t){return t.Navigate.history.pos>0},this.canRedo=function(t){return t.Navigate.history.pos<t.Navigate.history.track.length-1},this.undo=function(t){if(this.canUndo(t)){t.Navigate.history.pos=t.Navigate.history.pos-1;var e=t.Navigate.history.track[t.Navigate.history.pos];t.Path.setSnapshot(t,e),this.refreshHistory(t),t.Show.show(t)}},this.redo=function(t){if(this.canRedo(t)){t.Navigate.history.pos=t.Navigate.history.pos+1;var e=t.Navigate.history.track[t.Navigate.history.pos];t.Path.setSnapshot(t,e),this.refreshHistory(t),t.Show.show(t)}},this.onClickTablePath=function(t,e,a){var i=!1,n=t.Path.keys.other.indexOf(e),o=t.Path.keys.other.indexOf(a);if(-1!==n&&-1!==o&&n>o){var r=t.Path.keys.other.splice(n,1),s=t.Path.keys.other.splice(o,1);t.Utils.pushKey(t.Path.keys.other,r,o),t.Utils.pushKey(t.Path.keys.other,s,n),t.Path.exportAllKeys(t),i=!0}t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Navigate.store(t),t.Show.show(t,i)},this.onClickRestValue=function(t,e,a,i){t.Auto.selectTableKey(t,a,e,i,1)&&(t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Navigate.store(t),t.Show.show(t)),console.log("onClickRestValue done:",e,a,JSON.stringify(t.Path.keys))},this.onClickPath=function(t,e,a){var i,n,o,r,s,l=!1;"path"===e?-1!==(i=t.Path.keys.path.indexOf(a))&&(r=t.Path.keys.path.splice(i,1),t.Utils.pushKey(t.Path.keys.other,r,2),t.Path.cleanSelect(t),t.Navigate.store(t),l=!0):"table"===e?-1!==(i=t.Path.keys.other.indexOf(a))&&(r=t.Path.keys.other.splice(i,1),t.Utils.pushKey(t.Path.keys.other,r,0),t.Path.exportAllKeys(t),t.Navigate.store(t),l=!0):"rest"===e?-1!==(i=t.Path.keys.other.indexOf(a))&&(r=t.Path.keys.other.splice(i,1),t.Utils.pushKey(t.Path.trash,r),t.Navigate.store(t),l=!0):"trash"===e&&(i=t.Path.trash.indexOf(a),n=t.Path.keys.other.indexOf(a),o=t.Path.keys.path.indexOf(a),s=t.Path.other.table.indexOf(a),console.log("Trashing start:",JSON.stringify(t.Path.trash),a,i,n,o,s),-1!==i?(r=t.Path.trash.splice(i,1),t.Utils.pushKey(t.Path.keys.other,r)):-1!==n&&-1!==s?(r=t.Path.keys.other.splice(n,1),t.Utils.pushKey(t.Path.trash,r),l=!0):-1!==o&&-1===n?t.Utils.pushKey(t.Path.keys.other,a):-1!==o&&-1!==n?r=t.Path.keys.other.splice(n,1):-1===o&&-1!==n&&(r=t.Path.keys.other.splice(n,1),t.Utils.pushKey(t.Path.trash,r)),t.Path.exportAllKeys(t),t.Navigate.store(t)),t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Show.show(t,l)},this.onClickAddOther=function(t,e,a,i){var n,o,r,s,l=2!==t.Path.other.table.length;n=t.Path.trash.indexOf(a),o=t.Path.keys.other.indexOf(a),r=t.Path.keys.path.indexOf(a),-1===o?-1!==n?(s=t.Path.trash.splice(n,1),t.Utils.pushKey(t.Path.keys.other,s)):-1!==r?t.Utils.pushKey(t.Path.keys.other,a):console.log("Strange key:",a,JSON.stringify(t.Path.trash),JSON.stringify(t.Path.keys)):-1!==r?s=t.Path.keys.other.splice(o,1):-1===n?(s=t.Path.keys.other.splice(o,1),t.Utils.pushKey(t.Path.trash,s)):s=t.Path.keys.other.splice(o,1),t.Path.exportAllKeys(t),t.Navigate.store(t),t.Show.show(t,l)},this.switchTableKey=function(t,e){var a=t.Path.keys.other.indexOf(e);if(-1!==a){var i=t.Path.keys.other.splice(a,1);t.Path.keys.other=t.Path.keys.other.concat(i),t.Path.exportAllKeys(t);var n=t.Path.getColKey(t),o=t.Path.getRowKey(t);t.Navigate.store(t);var r=i[0]!==n&&i[0]!==o;t.Show.show(t,r)}},this.selectItem=function(t,e,a,i,n,o,r,s,l){var c=t.Utils.cp(t.Path.keys.other);if(t.Layout.getLayoutMode(t)===t.Layout.code.layout.Map)this.selectMapKey(t,e,i,o,s)&&(this.rank[e]=t.Utils.cp(c),this.selectMapKey(t,a,n,r,l)&&(this.rank[a]=t.Utils.cp(c))),t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Navigate.store(t),t.Show.show(t);else{var h=!1;t.Auto.selectTableKey(t,e,i,o,s)?(this.rank[e]=t.Utils.cp(c),h=!0):console.log("Unable to select:",e),t.Auto.selectTableKey(t,a,n,r,l)?(this.rank[a]=t.Utils.cp(c),h=!0):console.log("Unable to select:",a),h&&(t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Navigate.store(t),t.Show.show(t))}},this.selectMapKey=function(t,e,a,i,n){return t.Path.select.val[e]=[a],t.Path.where[e]=i,t.Utils.missing(t.Path.keys.path,e)&&t.Utils.pushKey(t.Path.keys.path,e),!0},this.selectKey=function(t,e,a,i,n){var o=t.Utils.cp(t.Path.keys.other);t.Layout.getLayoutMode(t)===t.Layout.code.layout.Map?(this.selectMapKey(t,e,a,i,n)&&(this.rank[e]=t.Utils.cp(o)),t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Navigate.store(t),t.Show.show(t)):t.Auto.selectTableKey(t,e,a,i,n)?(this.rank[e]=o,t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),t.Navigate.store(t),t.Show.show(t)):console.log("Unable to select:",e)},this.snapshotToString=function(t,e){return"Snapshot: "+JSON.stringify(e.keys.path)},this.printSnapshot=function(t){for(var e=t.Navigate.history.track.length,a=0;a<e;a++){var i=t.Navigate.history.track[a];a===t.Navigate.history.pos?console.log("@@@@",a," => ",this.snapshotToString(t,i)):console.log("    ",a," => ",this.snapshotToString(t,i))}}};var Pi=function(){this.keys={path:[],other:[]},this.other={table:[],rest:[]},this.trash=[],this.valid=[],this.ignore=["max","min","minlat","minlon","maxlat","maxlon","cnt","level"],this.select={val:{}},this.where={},this.home={path:[],val:{}},this.tooltip={keys:[],select:[],sort:[],click:[]},this.type={path:{ityp:-1,ptyp:"path"},eye:{ityp:0,ptyp:"eye"},table:{ityp:1,ptyp:"table"},rest:{ityp:2,ptyp:"rest"},trash:{ityp:3,ptyp:"trash"},trashRest:{ityp:4,ptyp:"trashRest"},row:{ityp:5,ptyp:"row"},col:{ityp:6,ptyp:"col"},item:{ityp:7,ptyp:"item"}},this.order={},this.init=function(t){t.Utils.init("Path",this)},this.cleanSelect=function(t){for(var e=t.Path.keys.path,a=Object.keys(t.Path.select.val),i=a.length,n=0;n<i;n++){var o=a[n];-1===e.indexOf(o)&&(t.Path.select.val[o]=void 0)}},this.goHome=function(t){var e=t.Utils.cp(t.Path.keys.path);t.Utils.remArray(e,t.Path.home.path),t.Utils.remArray(t.Path.keys.other,e),t.Utils.remArray(t.Path.keys.other,t.Path.home.path),t.Utils.prepArray(t.Path.keys.other,e),t.Path.select.val=t.Utils.cp(t.Path.home.val),t.Path.keys.path=t.Utils.cp(t.Path.home.path),t.Utils.pushUrl(t),t.Navigate.store(t),t.Navigate.refreshHistory(t),t.Show.show(t)},this.setHome=function(t){t.Path.cleanSelect(t),this.home.path=t.Utils.cp(t.Path.keys.path),this.home.val=t.Utils.cp(t.Path.select.val),t.Utils.pushUrl(t),console.log("Setting home.")},this.getSnapshot=function(t){return{keys:t.Utils.cp(t.Path.keys),other:t.Utils.cp(t.Path.other),select:t.Utils.cp(t.Path.select),order:t.Utils.cp(t.Path.order)}},this.setSnapshot=function(t,e){t.Utils.restore(t.Path,e)},this.toggleSelect=function(t,e,a){var i=t.Path.select.val[e];if(void 0!==i){var n=i.indexOf(a);-1!==n?(i.splice(n,1),0===i.length&&i.push(t.Database.makeKeytrg(t,e,t.Database.keytrg.Max)),t.Path.select.val[e]=i):t.Path.select.val[e].push(a),t.Database.setWhere(t,e,t.Path.select.val[e]),t.Show.showPath(t)}},this.getTitle=function(t){var e="";return t.Path.keys.path.forEach(function(a,i){var n=t.Path.select.val[a];void 0===n&&(n=[]);for(var o=n.length,r=0;r<o;r++){var s=n[r];""!==e&&(e+=" | "),e+=t.Database.getTitleDynamic(t,a,s)}}),e},this.makeCnt=function(t,e){return t.Path.select.val[e].length},this.getOrderValues=function(t,e){if(void 0===t.Path.order[e])return t.Matrix.values[e];for(var a=t.Matrix.values[e],i=a,n=0;n<i;n++){var o=a[n];-1===t.Path.order[e].indexOf(o)&&t.Path.order[e].push(o)}return t.Path.order[e]},this.makeOrderValues=function(t,e){if(void 0===t.Path.order&&(t.Path.order={}),void 0===t.Path.order[e])t.Path.order[e]=t.Utils.cp(t.Matrix.values[e]);else for(var a=t.Matrix.values[e],i=a,n=0;n<i;n++){var o=a[n];-1===t.Path.order[e].indexOf(o)&&t.Path.order[e].push(o)}return t.Path.order[e]},this.bumpOrder=function(t,e,a){if(""===a)t.Path.order[e]=void 0;else{this.makeOrderValues(t,e);var i=t.Path.order[e].indexOf(a);if(-1!==i&&i>0){var n=t.Path.order[e].splice(i,1);t.Utils.spliceArray(t.Path.order[e],i-1,0,n)}}t.Show.showConfig(t)},this.setWhere=function(t){t.Path.keys.path.forEach(function(e,a){t.Database.setWhere(t,e,t.Path.select.val[e])})},this.makePath=function(t){var e,a,i=[];if(void 0===this.keys.path&&(this.keys.path=[]),void 0===this.keys.other&&(this.keys.other=[]),void 0===this.trash&&(this.trash=[]),this.keys.path.length>0||this.keys.other.length>0||this.trash.length>0){var n;this.keys.path=this.keys.path.filter(this.Unique),this.keys.other=this.keys.other.filter(this.Unique),this.trash=this.trash.filter(this.Unique);var o=this.keys.path.length;for(e=0;e<o;e++)a=this.keys.path[e],void 0===t.Database.keyCnt[a]&&(this.keys.path.splice(e,1),e-=1,o-=1);for(n=this.keys.other.length,e=0;e<n;e++)a=this.keys.other[e],void 0===t.Database.keyCnt[a]&&(this.other.rest.splice(e,1),e-=1,n-=1);for(n=this.trash.length,e=0;e<n;e++)a=this.trash[e],void 0===t.Database.keyCnt[a]&&(this.trash.splice(e,1),e-=1,n-=1);for(a in t.Database.keyCnt)-1===this.keys.path.indexOf(a)&&-1===this.keys.other.indexOf(a)&&-1===this.trash.indexOf(a)&&t.Utils.missing(this.ignore,a)&&(i[a]="trash",this.select.val[a]=void 0,this.where[a]="",this.trash.push(a))}else{for(a in t.Database.keyCnt)i[a]="data";if(this.keys.path=[],this.other.table=[],this.other.rest=[],this.select.val={},this.where={},void 0!==t.Default.current.trash){var r=t.Default.current.trash.length;for(e=0;e<r;e++)void 0!==i[a=t.Default.current.trash[e]]&&(i[a]=void 0)}if(void 0!==t.Default.current.other){var s=t.Default.current.other.length;for(e=0;e<s;e++)void 0!==i[a=t.Default.current.other[e]]&&(t.Utils.missing(this.keys.other,a)&&this.keys.other.push(a),i[a]="found")}for(a in t.Database.keyCnt)t.Utils.missing(this.ignore,a)&&"data"===i[a]&&(t.Utils.missing(this.keys.other,a)&&this.keys.other.push(a),i[a]="added");var l=this.keys.other.length;for(e=0;e<l;e++)a=this.keys.other[e],e<2?this.other.table.push(a):this.other.rest.push(a)}t.Navigate.reset(t),t.Utils.cpArray(t.Path.valid,t.Path.keys.path),t.Utils.cpArray(t.Path.valid,t.Path.keys.other),t.Utils.cpArray(t.Path.valid,t.Path.trash)},this.getIndex=function(t,e){return this.keys.path.indexOf(e)},this.exportAllKeys=function(t){this.other.table=[],this.other.rest=[];var e,a,i=0,n=!1;if(void 0!==this.keys.other){var o=this.keys.other.length;for(a=0;a<o;a++)""===(e=this.keys.other[a])?0===i?n=!0:i<2&&(i+=1):void 0===t.Matrix.keyCnt[e]||0===t.Matrix.keyCnt[e]||(i<2?(this.other.table.push(e),i+=1,n&&i<2&&(i+=1)):""!==e&&this.other.rest.push(e))}var r=this.valid.length;for(a=0;a<r;a++)e=this.valid[a],-1===this.keys.path.indexOf(e)&&-1===this.keys.other.indexOf(e)&&-1===this.trash.indexOf(e)&&this.trash.push(e)},this.tableKeyToPath=function(t,e,a,i,n){var o=t.Path.keys.other.indexOf(e);if(-1!==o){t.Path.select.val[e]=[a],t.Path.where[e]=i;var r=t.Path.keys.other.splice(o,1);return t.Utils.missing(t.Path.keys.path,r)&&t.Utils.pushKey(t.Path.keys.path,r),n>1&&t.Utils.missing(t.Path.trash,r)&&t.Utils.pushKey(t.Path.trash,r),!0}return console.log("Missing '",e,"' in path:",JSON.stringify(t.Path.keys)),!1},this.sortTableKeys=function(t){var e=t.Utils.cp(this.other.table),a=t.Layout.getPriorityIndex(t,e);this.other.table=e.sort(function(t,e){return""===t?1:""===e?-1:a[t]<a[e]?1:a[t]>a[e]?-1:0})},this.keyVal=function(t,e){return void 0!==this.select.val[e]&&null!==this.select.val[e]&&""!==this.select.val[e]?this.select.val[e]:void 0},this.keyValOk=function(t,e){return!0},this.moveKey=function(t,e,a,i,n){var o=this.keys[e].indexOf(a);if(-1!==o){var r=this.keys[e].splice(o,1);return void 0===n||-1===n?this.keys[i]=this.keys[i].concat(r):t.Utils.spliceArray(this.keys[i],n,0,r),!0}return!1},this.moveKeys=function(t,e,a,i,n){for(var o=a.length,r=0;r<o;r++){var s=a[r],l=this.keys[e].indexOf(s);if(-1!==l){var c=this.keys[e].splice(l,1);void 0===n||-1===n?this.keys[i]=this.keys[i].concat(c):t.Utils.spliceArray(this.keys[i],n,0,c)}}},this.swapTableKey=function(t,e,a){var i=this.other.table.indexOf(e);if(this.other.table.indexOf(a)!==i&&this.other.table.length>1){var n=this.keys.other.indexOf(this.other.table[1]),o=this.keys.other.splice(n,1);return t.Utils.spliceArray(this.keys.other,0,0,o),!0}return!1},this.delTableKey=function(t,e){var a,i;if(-1!==this.keys.other.indexOf(e)){var n=this.other.table.indexOf(e),o=0===n;return o&&(a=this.other.table[1],i=this.pullKey(t,"other",a)),this.pullKey(t,"other",e),o&&void 0!==i&&-1!==i&&this.pushKey(t,"other",a,i),n}},this.duplicateTableKey=function(t,e){var a=this.keys.other.indexOf(e);return-1!==a&&(t.Utils.spliceArray(this.keys.other,a,0,e),!0)},this.moveTableKey=function(t,e,a,i){return-1!==this.keys.other.indexOf(e)&&(this.delTableKey(t,e),void 0===i||-1===i?this.keys[a]=this.keys[a].concat(e):t.Utils.spliceArray(this.keys[a],i,0,e),!0)},this.moveKey2Table=function(t,e,a,i){var n=this.keys.other.indexOf(i),o=this.keys[e].indexOf(a);return-1!==n&&-1!==o&&a!==i&&(this.keys[e][o]=i,this.keys.other[n]=a,!0)},this.moveOther2Table=function(t,e){var a=this.keys.other.indexOf(e);if(-1!==a){var i=this.keys.other.splice(a,1);return t.Utils.spliceArray(this.keys.other,0,0,i),!0}return!1},this.moveTrash2Table=function(t,e){var a,i,n=this.other.table.indexOf(e);if(-1!==n){var o=0===n;o&&(a=this.other.table[1],i=this.pullKey(t,"other",a));var r=this.keys.other.indexOf(e);return this.moveTrash(t,"other",r+1),o&&void 0!==i&&-1!==i&&this.pushKey(t,"other",a,i),!0}return!1},this.moveTrash=function(t,e,a){t.Utils.spliceArray(this.keys[e],a,0,this.trash),this.trash=[]},this.moveAllKey=function(t,e,a,i,n){var o=this.keys[e].length,r=this.keys[e].indexOf(a);if(-1!==r){var s=this.keys[e].splice(r,o-r);return t.Utils.spliceArray(this.keys[i],n,0,s),!0}return!1},this.moveAllFirst=function(t,e,a){var i=this.keys[e].length,n=this.keys[e].splice(a,i-a);t.Utils.spliceArray(this.keys[e],0,0,n)},this.filterKeys=function(t,e){for(var a=[],i=e.length,n=0;n<i;n++){var o=e[n];this.keyValOk(t,o)&&a.push(o)}return a},this.pullArrayKey=function(t,e,a){var i=e.indexOf(a);return-1!==i&&e.splice(i,1),i},this.getColKey=function(t){var e=t.Utils.cp(this.other.table),a=t.Layout.getPriorityIndex(t,e);return t.Layout.getLayoutMode(t)===t.Layout.code.layout.Map?"_lon":a[this.other.table[0]]<a[this.other.table[1]]?this.other.table[1]:this.other.table[0]},this.getRowKey=function(t){var e=t.Utils.cp(this.other.table),a=t.Layout.getPriorityIndex(t,e);return t.Layout.getLayoutMode(t)===t.Layout.code.layout.Map?"_lat":a[this.other.table[0]]<a[this.other.table[1]]?this.other.table[0]:this.other.table[1]},this.pushKey=function(t,e,a,i){void 0!==a&&""!==a&&t.Utils.spliceArray(this.keys[e],i,0,a),t.Utils.clean(this.keys[e])},this.pullKey=function(t,e,a){var i=this.keys[e].indexOf(a);if(-1!==i){var n=this.keys[e].splice(i,1);return n!==a&&console.log("System error:",n,a),i}},this.pushColKey=function(t,e){void 0!==e&&""!==e&&t.Utils.spliceArray(this.keys.other,0,0,e)},this.pushRowKey=function(t,e){void 0!==e&&""!==e&&t.Utils.spliceArray(this.keys.other,1,0,e)},this.checkNewPath=function(t,e,a){var i,n,o=this.keys.path.indexOf(a);if(e===this.type.table.ptyp){i=!0;var r=this.other.table.length-1;for(void 0!==o&&(r=o+1),n=0;n<=r;n++){var s=this.other.table[n];void 0===this.keyVal(t,s)&&(i=!1)}}else if(e===this.type.rest.ptyp&&(i=this.checkNewPath(t,this.type.table.ptyp))){var l=this.other.rest.length-1;for(void 0!==o&&(l=o+1),n=0;n<=l;n++)s=this.other.rest[n],void 0===this.keyVal(t,s)&&(i=!1)}return i},this.Unique=function(t,e,a){return a.indexOf(t)===e}};var Ni=function(){this.debug=!1,this.complete=!0,this.toggle=function(t){console.log("Pressed toggle"),t.Auto.complete=!t.Auto.complete,t.Show.showConfig(t)},this.selectTableKey=function(t,e,a,i,n){this.debug&&console.log("selectTableKey Entering:",e,a,i,n,JSON.stringify(t.Path.keys));var o=!1,r=t.Path.keys.other.indexOf(e);if(-1!==r&&""!==e){var s=t.Path.other.rest.length,l=t.Path.getColKey(t),c=t.Path.getRowKey(t);this.debug&&console.log("Autopath or not?:",s,l,c,r,t.Auto.complete),0!==s&&void 0!==l&&void 0!==c&&t.Auto.complete?(t.Path.moveOther2Table(t,e),t.Path.duplicateTableKey(t,e),t.Path.exportAllKeys(t),o=t.Auto.tableKeyToPath(t,e,a,i,n),t.Path.exportAllKeys(t),o=t.Auto.tableKeyToPath(t,e,a,i,n)):o=t.Path.tableKeyToPath(t,e,a,i,n)}return o&&t.Path.exportAllKeys(t),this.debug&&console.log("selectTableKey Done:",JSON.stringify(t.Path.keys),JSON.stringify(o)),o},this.tableKeyToPath=function(t,e,a,i,n){var o,r,s,l,c,h,u=this.analyse(t,e,i);if(o=t.Path.tableKeyToPath(t,e,a,i,n),this.debug&&console.log("Analysis:",JSON.stringify(u)),""!==u.tblkey||u.sel.length>0||u.rest.length>0){for(r=u.sel.length,s=0;s<r;s++)h=(l=u.sel[s])+"='"+(c=u.val[s])+"'",t.Path.tableKeyToPath(t,l,c,h,1);t.Path.keys.other=[u.othkey,u.tblkey].concat(t.Utils.clean(u.rest))}else t.Path.keys.other=[u.othkey];return this.debug&&console.log("tableKeyToPath Path:",JSON.stringify(t.Path.keys)),this.debug&&console.log("tableKeyToPath Done:",JSON.stringify(o)),o},this.analyse=function(t,e,a){for(var i=t.Path.other.rest,n=t.Database.getWhere(t),o=t.Path.getColKey(t),r=t.Path.getRowKey(t),s=e===o?r:o,l=[],c=[],h=[],u="",d=i.length,v=t.Database.addWhere(n,a),f=0;f<d;f++){var p=i[f];this.debug&&console.log(">>>Checking:",p," vs Table:(",e,",",s,") where=",n,a);var g=[s,p],m=this.getDependancy(t,v,g);if(this.debug&&console.log("        Other:   ",s,p,JSON.stringify(m)),"insignificant"===m.intprt[s]||"insignificant"===m.intprt[p]||""!==u)h.push(p),this.debug&&console.log("****  Postpone:",p,JSON.stringify(l),JSON.stringify(h),u);else if("redundant"===m.intprt[p]){var y=m.val[p];l.push(p),c.push(y),this.debug&&console.log("****  Select:",p,JSON.stringify(l),JSON.stringify(h),u,JSON.stringify(m),n)}else u=p,this.debug&&console.log("****  Target:",p,JSON.stringify(l),JSON.stringify(h),u)}var A={sel:l,val:c,rest:h,tblkey:u,othkey:s};return this.debug&&console.log("analyse Done:",JSON.stringify(A)),A},this.getDependancy=function(t,e,a){for(var i,n={dep:{},val:{}},o={},r={},s=t.Database.getDocsCnt(t,e,a),l=a.length,c=s.length,h=0;h<c;h++)for(var u=s[h],d=0;d<l;d++)if(void 0!==u[i=a[d]]){var v=u[i];n.val[i]=v,void 0===o[i]&&(o[i]={}),o[i][v]=1+(o[i][v]||0),o[i][v]>(r[i]||0)&&(r[i]=o[i][v])}for(var f=0;f<l;f++)void 0!==r[i=a[f]]?1===r[i]?n.dep[i]="unique":r[i]===c?n.dep[i]="common":n.dep[i]="dependent":n.dep[i]="unknown";return n.intprt=this.getInterpretation(t,a,n.dep),n},this.getInterpretation=function(t,e,a){for(var i,n={},o=e.length,r=0;r<o;r++)n[e[r]]="control";for(var s=0;s<o;s++)if("unique"===a[i=e[s]])for(var l=0;l<o;l++){var c=e[l];"unique"===a[c]?l>s&&(n[c]="redundant"):l!==s&&("common"===a[c]?n[c]="redundant":n[c]="insignificant")}for(var h=0,u=o-1;u>=0;u--)"common"===a[i=e[u]]&&(h+=1)<o&&(n[i]="redundant");return n}};var ji=function(){this.init=function(t){t.Utils.init("Show",this)},this.showMode=function(t){void 0!==t.React.Mode&&t.React.Mode.show(t)},this.show=function(t,e,a){setTimeout(function(){if(this.showAll(t,e),void 0!==a){var i=a.shift();void 0!==i&&i(t,a)}}.bind(this),.1)},this.showAll=function(t,e){void 0===e||e?(this.showPath(t),t.Html.setFootnote(t,"Extracting data."),t.Html.setProgress(t,!0),setTimeout(function(){t.Database.dbextract(t,function(t,e){t.Html.setFootnote(t,"Displaying data."),setTimeout(function(){t.Path.exportAllKeys(t),this.showPath(t),this.showConfig(t),this.showMatrix(t,e),t.Utils.pushUrl(t),t.Html.setFootnote(t),t.Html.setProgress(t,!1)}.bind(this),.1)}.bind(this))}.bind(this),.1)):(console.log("Not updating matrix."),t.Path.exportAllKeys(t),this.showPath(t),this.showConfig(t),this.showTable(t),this.showTooltip(t),t.Html.setFootnote(t),t.Html.setProgress(t,!1)),this.showMode(t)},this.showPath=function(t){void 0!==t.React.Path?t.React.Path.showPath(t):console.log("No react-path available."),void 0!==t.React.Location?t.React.Location.showLocation(t):console.log("No react-location available.")},this.showConfig=function(t){void 0!==t.React.Config?t.React.Config.show(t):console.log("No react-config available.")},this.showMatrix=function(t,e){void 0!==t.React.Dataset&&t.React.Dataset.showMatrix(t,e)},this.showTable=function(t,e){void 0!==t.React.Table&&t.React.Table.showTable(t)},this.showTooltip=function(t){void 0!==t.React.Tooltip&&t.React.Tooltip.rebuild()},this.useCanvas=function(t,e){for(var a in e)for(var i in e[a])if(e[a][i].cnt>1)return!1;return!0},this.scale=function(t,e,a,i,n){return i>n?i+(t-e)*(n-i)/(a-e):(t-e)*(n-i)/(a-e)}};var Di=function(){this.thrs=void 0,this.init=function(t){t.Utils.init("Threshold",this)},this.getMaxLevel=function(t){return void 0===t._thr?-1:void 0!==t._thr.max?t._thr.max.length:void 0!==t._thr.min?t._thr.min.length:void 0},this.setThresholds=function(t,e){if(void 0!==t._thr)return[];var a;for(var i in a=void 0===e?this.thrs:e)if(void 0!==t[i]){var n=t[i];if(void 0!==a[i][n]){var o,r;if(void 0===a[i][n].par)return this.setThresholds(t,a[i][n]);if(void 0!==t[a[i][n].par]){var s,l=a[i][n],c=t[l.par],h=l[">"],u=l["<"],d=-1;if(void 0!==h){var v=Number(c);for(o=h.length,r=0;r<o;r++)v>=Number(h[r])&&(d=r);return s=0,d>-1&&(s=(v-Number(h[0]))/(Number(h[o-1])-Number(h[0]))),t.level=d,t._rank=s,t.lat=t[l.lat],t.lon=t[l.lon],t._thr={},t._thr.level=d,t._thr.val=v,t._thr.lat=t[l.lat],t._thr.lon=t[l.lon],t._thr.max=h,["level","val","lat","lon","max"]}if(void 0!==u){var f=Number(c);for(o=u.length,r=0;r<o;r++)f<=Number(u[r])&&(d=r);return s=0,d>0&&(s=(Number(u[0])-f)/(Number(u[0])-Number(u[o-1]))),t.level=d,t._rank=s,t.lat=t[l.lat],t.lon=t[l.lon],t._thr={},t._thr.level=d,t._thr.val=f,t._thr.lat=t[l.lat],t._thr.lon=t[l.lon],t._thr.min=u,["level","val","lat","lon","min"]}}}}return t._thr={},t.level=-2,[]},this.getLevel=function(t,e){return void 0!==e._thr?e._thr.level:-1},this.getRank=function(t,e){return e._rank},this.getLat=function(t,e){return e._thr.lat},this.getLon=function(t,e){return e._thr.lon}};var Mi=function(){this.version="1",this.invertArray=function(t){for(var e=t.length,a=Math.floor(e/2),i=0;i<a;i++){var n=e-i-1,o=t[i];t[i]=t[n],t[n]=o}},this.invertedArray=function(t){for(var e=[],a=t.length-1;a>=0;a--)e.push(t[a]);return e},this.getMin=function(t){for(var e=t.length,a=void 0;e--;)(void 0===a||t[e]<a)&&(a=t[e]);return a},this.getMax=function(t){for(var e=t.length,a=void 0;e--;)(void 0===a||t[e]>a)&&(a=t[e]);return a},this.init=function(t,e){var a=this.getUrlVars();if(t in a){var i=decodeURIComponent(a[t]);try{var n=JSON.parse(i);for(var o in n)void 0!==n[o]&&(e[o]=n[o])}catch(r){e[t]=a[t]}}},this.clean=function(t){for(var e=0;e<t.length;e++)null!==t[e]&&""!==t[e]||t.splice(e,1);return t},this.moveTo=function(t,e,a){var i=t.indexOf(e),n=t.indexOf(a);if(-1!==i&&-1!==n){var o=t.splice(i,1);this.spliceArray(t,n,0,o)}},this.cpArray=function(t,e){if(void 0!==e)for(var a=e.length,i=0;i<a;i++)-1===t.indexOf(e[i])&&t.push(e[i])},this.ppArray=function(t,e){for(var a=e.length-1;a>=0;a--)-1===t.indexOf(e[a])&&this.spliceArray(t,0,0,e[a])},this.addArray=function(t,e){this.cpArray(t,e),e=[]},this.prepArray=function(t,e){this.ppArray(t,e),e=[]},this.remArray=function(t,e){for(var a=e.length,i=0;i<a;i++){var n=t.indexOf(e[i]);-1!==n&&t.splice(n,1)}},this.moveToArray=function(t,e,a,i){var n=t.indexOf(a);if(-1!==n){var o=t.splice(n,1);return void 0===i||i<0?this.spliceArray(e,e.length,0,o):this.spliceArray(e,i,0,o),!0}return!1},this.keepHash=function(t,e){for(var a=[],i=e.length,n={},o=0;o<i;o++)for(var r=e[o],s=Object.keys(r),l=s.length,c=0;c<l;c++)n[s[c]]=!0;for(var h=t.length,u=0;u<h;u++){var d=t[u];void 0!==n[d]&&n[d]&&a.push(d)}return a},this.missing=function(t,e){return void 0===t?(console.log("Invalid array specified in this.missing:",JSON.stringify(e)),!1):Array.isArray(e)?-1===t.indexOf(e[0]):-1===t.indexOf(e)},this.restore=function(t,e){for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=this.cp(e[a]))},this.cp=function(t){if(null===t||"object"!==typeof t||"isActiveClone"in t)return t;var e;for(var a in e=t instanceof Date?new t.constructor:t.constructor(),t)Object.prototype.hasOwnProperty.call(t,a)&&(t.isActiveClone=null,e[a]=this.cp(t[a]),delete t.isActiveClone);return e}.bind(this),this.getStatusString=function(t){return this.numberWithCommas(t.Database.cnt)+" in database, "+this.numberWithCommas(t.Matrix.cnt)+" in table."},this.toString=function(t){var e="->";for(var a in t)e=e+"|"+a+":"+t[a];return e},this.numberWithCommas=function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},this.cntDocs=function(t,e,a){for(var i=0,n=t.length,o=0;o<n;o++){var r=t[o].docs,s=r.length;if(""===a)i+=s;else for(var l=0;l<s;l++){var c=r[l],h=c._thr;c[e]===a&&void 0!==h.val&&(i+=1)}}return i},this.pushUrl=function(t){var e=window.location.pathname.split("/").pop();e.split("#").shift();var a=e+"?setup="+t.Default.setup+"&",i=void 0;t.Default.hasChanged(t,["Database","data"])&&void 0!==t.Database.data&&(void 0===i&&(i={}),i.data=this.cp(t.Database.data));var n=void 0;t.Default.hasChanged(t,["Path","keys"])&&(void 0===n&&(n={}),n.keys=this.cp(t.Path.keys)),t.Default.hasChanged(t,["Path","select"])&&(void 0===n&&(n={}),n.select=this.cp(t.Path.select)),t.Default.hasChanged(t,["Path","home"])&&(void 0===n&&(n={}),n.home=this.cp(t.Path.home)),t.Default.hasChanged(t,["Path","tooltip"])&&(void 0===n&&(n={}),n.tooltip=this.cp(t.Path.tooltip)),t.Default.hasChanged(t,["Path","order"])&&(void 0===n&&(n={}),n.order=this.cp(t.Path.order));var o=void 0;t.Default.hasChanged(t,["Layout","priority"])&&(void 0===o&&(o={}),o.priority=t.Layout.getPriority(t)),t.Default.hasChanged(t,["Layout","state"])&&(void 0===o&&(o={}),o.state=this.cp(t.Layout.state)),void 0!==i&&(a=a+"Database="+encodeURI(JSON.stringify(i)+"&")),void 0!==n&&(a=a+"Path="+encodeURI(JSON.stringify(n)+"&")),void 0!==o&&(a=a+"Layout="+encodeURI(JSON.stringify(o)+"&")),window.history.replaceState("","js",a)}.bind(this),this.getUrlVars=function(t){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,a,i){e[a]=i}),e},this.uniq=function(t,e){var a={};return e.filter(function(t){return!a.hasOwnProperty(t)&&(a[t]=!0)})},this.pushKey=function(t,e,a){if(Array.isArray(e))for(var i=e.length,n=0;n<i;n++)-1===t.indexOf(e[n])&&(void 0===a?t.push(e[n]):t.splice(a,0,e[n]));else-1===t.indexOf(e)&&(void 0===a?t.push(e):t.splice(a,0,e));this.clean(t)},this.spliceArray=function(t,e,a,i){if(Array.isArray(i))for(var n=i.length,o=0;o<n;o++)t.splice(e,a,i[o]),a=0,e+=1;else t.splice(e,a,i)},this.ascendingArr=function(t,e){return""===t[0]?1:""===e[0]?-1:t[0]<e[0]?-1:t[0]>e[0]?1:0},this.descendingArr=function(t,e){return""===t[0]?-1:""===e[0]?1:t[0]<e[0]?1:t[0]>e[0]?-1:0},this.ascending=function(t,e){return""===t?1:""===e?-1:t<e?-1:t>e?1:0},this.descending=function(t,e){return""===t?-1:""===e?1:t<e?1:t>e?-1:0},this.ascendingN=function(t,e){return null===t?1:null===e?-1:Number(t)<Number(e)?-1:Number(t)>Number(e)?1:0},this.descendingN=function(t,e){return null===t?-1:null===e?1:Number(t)<Number(e)?1:Number(t)>Number(e)?-1:0},this.getItem=function(t,e,a){for(var i=a,n=e.length,o=0;o<n;o++){if(void 0===i)return i;i=i[e[o]]}return i},this.setItemForce=function(t,e,a,i){var n=e.length;if(void 0!==a){if(0===n)return a=i;for(var o=a,r=0;r<n-1;r++)void 0===o[e[r]]&&(o[e[r]]={}),o=o[e[r]];return o[e[n-1]]=t.Utils.cp(i),o[e[n-1]]}},this.setItemFill=function(t,e,a,i){var n=e.length;if(void 0!==a){if(0===n)return a=i;for(var o=a,r=0;r<n-1;r++)void 0===o[e[r]]&&(o[e[r]]={}),o=o[e[r]];return this.isEmpty(t,o[e[n-1]])&&(o[e[n-1]]=t.Utils.cp(i)),o[e[n-1]]}},this.mapItemForce=function(t,e,a,i,n){var o=this.getItem(t,a,n);this.setItemForce(t,e,i,o)},this.mapItemFill=function(t,e,a,i,n){var o=this.getItem(t,a,n);void 0!==o&&this.setItemFill(t,e,i,o)},this.mapForce=function(t,e,a,i){if(void 0===i)console.log("ERROR: MapForce with no src.");else if(void 0===a)console.log("ERROR: MapForce with no trg.");else if(void 0===e)console.log("ERROR: MapForce with no map.");else for(var n=e.length,o=0;o<n;o++){var r=e[o][0],s=e[o][1];this.mapItemForce(t,r,s,a,i)}},this.mapFill=function(t,e,a,i){if(void 0===i)console.log("ERROR: MapFill with no src.");else if(void 0===a)console.log("ERROR: MapFill with no trg.");else if(void 0===e)console.log("ERROR: MapFill with no map.");else for(var n=e.length,o=0;o<n;o++){var r=e[o][0],s=e[o][1];this.mapItemFill(t,r,s,a,i)}},this.invertMap=function(t){for(var e=[],a=t.length,i=0;i<a;i++){var n=t[i][0],o=t[i][1];e.push([o,n])}return e},this.isEmpty=function(t,e){var a,i=!0;if(void 0===e)i=!0;else{var n=typeof e;if("Array"===n){for(a in e)if(!t.Utils.isEmpty(t,e[a])){i=!1;break}}else if("object"===n){for(a in e)if(e.hasOwnProperty(a)&&!t.Utils.isEmpty(t,e[a])){i=!1;break}}else i=!1}return i},this.prettyJson=function(t){var e=JSON.stringify(t,function(t,e){return Array.isArray(e)?JSON.stringify(e):e},"  ");return e=(e=(e=e.replace(/"\[/g,"[")).replace(/\]"/g,"]")).replace(/\\"/g,'"')},this.save=function(t,e,a){console.log("Saving file:",e);var i=new Blob([t],{type:a});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(i,e);else{var n=document.createElement("a"),o=URL.createObjectURL(i);n.href=o,n.download=e,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(o)},0)}}},Si=a(67),Ti=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(c.a)(this,Object(h.a)(e).call(this,t))).state={Default:new Ci,Colors:new yi,Layout:new xi,Path:new Pi,Auto:new Ni,Navigate:new Oi,Show:new ji,File:new Ai,Database:new ki,Threshold:new Di,Matrix:new Ei,Html:new wi,Utils:new Mi,React:{App:Object(d.a)(Object(d.a)(a))},cnt:0},a.path=a.getpath(),a}return Object(u.a)(e,t),Object(l.a)(e,[{key:"getpath",value:function(){var t="/";t="/test"+t;var e="/test".indexOf("//");return e>0&&(e="/test".indexOf("/",e+=3),t=t.substring(e)),console.log("Using path:"+t+":production:/test:"),t}},{key:"componentDidMount",value:function(){var t=this.state;t.Default.init(t),t.Default.loadDefault(t,"",[t.Default.processDefault,t.Default.makeStart,t.Database.init,t.Database.updateLoop])}},{key:"componentWillUnmount",value:function(){}},{key:"broadcast",value:function(t,e){void 0===e&&(e="info"),this.props.enqueueSnackbar(t,{variant:e})}},{key:"render",value:function(){var t=this.props.classes,e=this.state;return n.a.createElement(gi.a,null,n.a.createElement("div",{className:t.root},n.a.createElement(mi.a,{exact:!0,path:this.path,render:function(){return n.a.createElement(v.MuiThemeProvider,{theme:oe(rt,st)},n.a.createElement("div",{className:t.content},n.a.createElement(oi,{state:e}),n.a.createElement(ne,{state:e})),n.a.createElement(vi,{state:e}))}})))}}]),e}(i.Component),Ri=Object(v.withStyles)(function(t){return{root:{height:"100vh",display:"flex",flexDirection:"column",backgroundImage:"url(".concat(pi.a,")")},content:{flex:"1 0 auto",paddingTop:"5rem"}}})(Object(Si.withSnackbar)(Ti));var Ui=function(){return n.a.createElement(Si.SnackbarProvider,{maxSnack:3},n.a.createElement(Ri,null))};r.a.render(n.a.createElement(Ui,null),document.getElementById("root"))}},[[138,1,2]]]);
//# sourceMappingURL=main.04085f30.chunk.js.map