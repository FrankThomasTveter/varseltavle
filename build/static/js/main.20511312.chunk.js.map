{"version":3,"sources":["images/Met_RGB_Horisontal_NO.png","images/waves.png","react/SelectValueComponent.js","react/RemoveComponent.js","react/ReloadComponent.js","react/SelectValueMenuComponent.js","react/SelectPathComponent.js","react/TableKeyComponent.js","react/TableMenuComponent.js","react/TablePathComponent.js","react/RestValueComponent.js","react/RestMenuComponent.js","react/RestPathComponent.js","react/PathComponent.js","mui/metMuiThemes.js","react/CanvasTextComponent.js","react/SummaryCell.js","react/CanvasGraphComponent.js","react/SeriesCell.js","react/TooltipTable.js","react/TooltipContainer.js","react/TableComponent.js","react/ListComponent.js","react/MapComponent.js","react/Progress.js","react/DatasetComponent.js","mui/createTheme.js","react/LocationComponent.js","react/ViewComponent.js","react/AutoComponent.js","react/TooltipComponent.js","react/SelectKeyComponent.js","react/SelectMenuComponent.js","react/KeyComponent.js","react/KeyMenuComponent.js","react/OrderValueComponent.js","react/OrderValueMenuComponent.js","react/OrderMenuComponent.js","react/PriorityComponent.js","react/PriorityMenuComponent.js","react/UploadComponent.js","react/FileMenuComponent.js","react/ArchiveComponent.js","react/ArchiveMenuComponent.js","react/FullScreenComponent.js","react/SettingsComponent.js","react/ModeComponent.js","react/ConfigComponent.js","react/Header.js","react/Adress.js","react/Disclaimer.js","react/Status.js","react/Footer.js","lib/ColorsLib.js","lib/FileLib.js","lib/DatabaseLib.js","lib/DefaultLib.js","lib/HtmlLib.js","lib/LayoutLib.js","lib/MatrixLib.js","lib/NavigateLib.js","lib/PathLib.js","lib/AutoLib.js","lib/ShowLib.js","lib/ThresholdLib.js","lib/UtilsLib.js","react/AppComponent.js","index.js"],"names":["module","exports","Value","this","props","classes","state","keyitem","valueitem","chip","tpos","selchip","othchip","className","value","icon","label","onClick","Path","toggleSelect","variant","Component","withStyles","theme","display","marginRight","margin","spacing","unit","cursor","color","borderColor","Remove","onclick","button","title","remove","marginLeft","Reload","onclose","undefined","event","Show","show","reload","SelectValueMenu","anchor","setState","currentTarget","onClose","items","Database","getKeyValues","Navigate","onClickPath","sort","Utils","ascending","lab","mapFunction","item","index","valueindex","vals","select","val","indexOf","key","renderMenuItem","values","selectchip","aria-owns","aria-haspopup","id","anchorEl","open","Boolean","makeKeytrg","keytrg","Min","map","Max","settings","height","SelectPath","keys","path","length","where","keyindex","renderSelectPath","config","TableKey","target","onClickTablePath","restchip","TableMenu","cp","other","rest","tabchip","TablePath","table","renderMenu","RestValue","keyvalue","getWhereDetail","onClickRestValue","RestMenu","RestPath","renderRestPath","Details","Layout","viewMode","modes","view","root","PathComponent","React","forceUpdate","container","xs","width","flexWrap","alignContent","paper","padding","textAlign","paperImage","teal_palette","light","main","dark","black_palette","updateCanvas","plan","cnv","refs","text","ctx","getContext","save","font","clearRect","fillStyle","rotate","translate","border","xoffset","Math","PI","fillText","align","restore","invalid","offset","strokeStyle","beginPath","moveTo","lineTo","strokeRect","stroke","drawMarker","CanvasTextComponent","canvas","ref","overflow","pointer","nopointer","divTableCell","divTableCellCursor","rowindex","colkey","rowkey","colvalues","rowval","elements","console","log","style0","backgroundColor","style1","style","info","Matrix","getInfo","cnt","maxlev","minlev","bgcolor","Colors","getLevelBgColor","fgcolor","getLevelFgColor","data","JSON","stringify","step","data-for","data-tip","drawThresholds","colvalue","range","level","dwidth","ee","elen","min","max","docs","dlen","jj","d","thr","_thr","vlen","ll","tyval","tzval","scale","scolor","xmin","xmax","lineWidth","drawData","ymin","ymax","zmin","zmax","lev","Threshold","getLevel","col","dx","dz","clen","ii","tot","cntDocs","CanvasGraphComponent","div","tableLayout","colwhere","rowwhere","FirstDataCell","divTableHdr","DataCell","rval","isNaN","parseFloat","toFixed","dataRow","click","subs","divTableRow","toString","sub","colindex","selectKey","renderDataCell","divTable","divTableBody","TooltipTable","updateWindowDimensions","window","innerWidth","innerHeight","bbx","el","getBoundingClientRect","addEventListener","element","TableDetails","tooltip","cpArray","push","remArray","keepHash","ButtonDetails","Tooltip","getTooltip","checkTooltip","addTooltip","update","TooltipContainer","ReactTooltip","rebuild","type","overridePosition","currentEvent","node","left","top","document","documentElement","clientWidth","clientHeight","getContent","dataTip","parse","effect","delayHide","delayShow","delayUpdate","place","zIndex","palette","primary","buttonDisabled","mode","cell","Sum","plans","matrix","getRange","row","getMatrixElements","getColWhere","selectItem","DataRows","rowvalues","renderZeroRow","FirstHdrCell","hdr","divHdrRight","hd2","switchTableKey","divHdrLeft","hd1","HdrRow","renderHdrCell","getColKey","getRowKey","filterKeys","cellMode","getCellMode","makePlans","Table","content","justifyContent","divTableHead","divTableHeading","divTableHeadingCenter","divTableFoot","fontWeight","renderDoc","skeys","doc","skey","renderDataList","renderHdrList","devTableCell","sortedKeys","keyCnt","Object","kk","colval","list","rlen","getMatrixElement","getDataRowList","List","GeoJsonMap","Map","leafletElement","locate","position","center","zoom","maxZoom","attributionControl","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","animate","easeLinearity","GeoJSON","worldGeoJSON","weight","fillColor","fillOpacity","lat","lng","Switcher","progress","getLayoutMode","layout","Dataset","active","dataset","createTheme","secondary","createMuiTheme","assign","getMaxWidth","maxWidth","overrides","MuiButton","background","LocationComponent","Location","getTitle","location","whiteSpace","ViewIconMode","View","toggleView","AutoIconMode","Auto","complete","toggle","TooltipIconMode","toggleTooltip","SelectKey","increaseSelect","SelectMenu","tableSelect","Key","keytype","keyactive","trashchip","tablechip","getChipClass","getChipIcon","onClickAddOther","KeyMenu","a","ignore","itms","concat","trash","ascendingArr","filter","pos","arr","bumpOrder","OrderValueMenu","getOrderValues","clearOrder","verticalAlign","OrderMenu","tableOrder","order","Priority","priorityitem","priority","increasePriority","PriorityMenu","getPriorityKeys","prioritys","priorityindex","Load","fileReader","handleFileRead","e","result","Default","resetSetup","load","onChange","file","files","FileReader","onloadend","readAsText","Download","FileMenu","tableFile","Archive","archive","selectIndex","ArchiveMenu","FullscreenIconMode","fullscreen","Fullscreen","toggleFullScreen","Home","setHome","Font","changeFont","Settings","float","getModes","layoutMode","Series","ModeIcon","Mode","toggleMode","renderMode","Undo","disundo","canUndo","disabled","undo","Redo","disredo","canRedo","redo","goHome","Config","horisontal","x","alignItems","header","logo","breakpoints","up","alt","src","logoImg","marginTop","bottom","sm","Disclaimer","pickerVisible","bgcolors","fgcolors","colors","foreground","bg","fg","renderItem","onChangeComplete","hex","setLevelBgColor","Status","msg","age","flex","paddingTop","footer","right","init","setLevelFgColor","setPathBorderColor","cols","getElementsByClassName","File","ready","next","response","callbacks","callback","shift","setTimeout","Html","setFootnote","setProgress","regHttp","XMLHttpRequest","progressInfo","errorInfo","abortInfo","onreadystatechange","readyState","status","responseText","responseType","overrideMimeType","setRequestHeader","send","alasql","ret","loaded","epoch0","regfile","arrayConstructor","constructor","objectConstructor","casc","cdes","nasc","ndes","delay","mod","Missing","Null","bind","updateLoop","setTime","loadRegister","processRegister","loadData","processData","split","json","alert","name","message","processJson","dbInsert","makeWhere","showAll","getTime","s","nn","match","Number","Date","UTC","slice","epoch","getTimeDiff","setAge","getKeytrg","Array","isArray","lenv","len","makeTable","home","hkeys","homeKeys","delayKeys","lenh","rcnt","extractData","dataToDb","postProcess","getWhere","getDocs","makePath","dbindex","broadcast","updateKeyCnt","lenk","sql","dd0","query","lend","parent","raw","child","dkey","wii","whatIsIt","keep","found","setThresholds","_title","makeDocTitle","dbextract","showFunc","cntDocs0","getDocsCnt","nrec","m","popSeries","buff","initKeyCnt","makeKeyCnt","exportAllKeys","sortMatrixValues","makeMatrixCntMap","makeMapRange","makeKeyCntMap","addUndefinedKeyCnt","addUndefinedKeyCntValues","addMapAreaKeys","makeMatrix","ks","klen","getTitleDynamic","getMax","getMin","getWhereDynamic","plen","whereKey","parseWhere","addWhere","iwhere","forEach","setWhere","getGroup","group","getCols","getAll","getDocsRank","maxrank","dd","getRankCnt","body","tables","alarm","getKeyCnt","object","dt","msec","abs","floor","hh","mm","numberWithCommas","sanityCheck","setupdir","setup","current","start","cpJsonToDefaultFill","cpJsonToDefaultForce","cpStateToDefaultFill","cpStateToDefaultForce","cpDefaultToStateFill","cpDefaultToDefaultFill","loadDefault","thrs","makeStart","copyFill","processDefault","copyForce","getSetup","invert","prettyJson","hasChanged","pth","trg","lenp","p","ceye","setConsole","getStatusString","App","total","preventDefault","round","loadInfo","fonts","cfont","nopath","pushUrl","showPath","showConfig","getDim","setLayoutMode","om","o","showMode","setCellMode","Single","popSingle","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","kid","splice","spliceArray","getPriorityIndex","pri","changePriority","ikey","itrg","getPriority","setPriority","getDescription","setPlan","set","getTextWidth","txt","fontname","fontsize","c","createElement","measureText","getTextHeight","getDescender","swidth","mwidth","cwidth","sum","makeCntTitle","iwidth","iheight","descender","mheight","yoffset","hw","ch","cw","hx","rot","stp","wh","ww","zwidth1","zwidth2","hwidth","lenc","lenr","ceil","dw","levCnt","limit","resolution","area","cntKey","tcnt","Error","stack","updateValues","posToVal","res","dlon","dbor","valToPos","lonToPos","minlon","maxlon","posToLon","latToPos","minlat","maxlat","posToLat","lon","getLonWhere","keylon","poslon","lonmin","lonmax","getLatWhere","keylat","poslat","latmin","latmax","xpos","latpos","ilat","lonpos","ilon","_lat","_lon","getDocVal","setupMap","makeMapArea","addPathKeyCntValues","makeMatrixElement","def","addAllTooltip","dlev","updateLevCnt","updateMatrixElement","first","icolvalues","irowval","iindex","istep","getMatrixRowElements","rank","getRank","getTooltipElement","getMaxLevel","slenx","sleny","ts","dr","setRange","adjustRange","sortTooltipDocs","lens","b","ss","va","vb","ia","ib","tlen","descendingN","descending","olen","obj","hasOwnProperty","substring","slen","substr","mergeTooltipElement","getTooltipDocs","nel","mel","ipos","ndocs","lene","ttset","addElementTooltip","makeCntTooltip","_rank","getElementWhere","cc","column","rr","history","track","maxStore","reset","store","snapshot","getSnapshot","old","refreshHistory","setSnapshot","tkey","sid","tid","pushKey","selectTableKey","ttyp","tin","sin","tib","cleanSelect","colcnt","rowcnt","selectMapKey","changed","missing","snapshotToString","printSnapshot","valid","ityp","ptyp","eye","trashRest","pkeys","prepArray","vid","makeCnt","makeOrderValues","pathSet","Unique","glen","getIndex","tableKeyToPath","sortTableKeys","keyVal","keyValOk","moveKey","styp","moveKeys","swapTableKey","tin2","tkey2","delTableKey","secondkey","secondind","pullKey","duplicateTableKey","moveTableKey","moveKey2Table","moveOther2Table","moveTrash2Table","moveTrash","moveAllKey","moveAllFirst","out","alen","pullArrayKey","array","typ","ind","clean","pushColKey","pushRowKey","checkNewPath","ok","lent","self","debug","keyval","keywhere","keycnt","jkey","jkeyval","jkeywhere","analysis","analyse","tblkey","sel","othkey","trgkey","trgwhere","testkey","othtable","othdep","getDependancy","intprt","testval","dep","hits","maxhits","getInterpretation","interpretation","rkey","showMatrix","showTable","showTooltip","showLocation","showDisclaimer","showMap","useCanvas","xval","ithrs","trgval","mlen","par","maxs","mins","doclev","docmax","docmin","getLat","getLon","version","invertArray","xlen","invertedArray","url","getUrlVars","code","decodeURIComponent","newsetup","isrc","csrc","sarr","tarr","ppArray","addArray","moveToArray","hsh","prototype","call","temp","replace","page","pathname","pop","urlDatabase","urlColors","urlPath","urlLayout","encodeURI","replaceState","vars","href","uniq","seen","n","descendingArr","ascendingN","getItem","setForce","t","tt","setFill","isEmpty","cpForce","cpFill","k","v","filename","Blob","navigator","msSaveOrOpenBlob","URL","createObjectURL","download","appendChild","removeChild","revokeObjectURL","getpath","process","enqueueSnackbar","BrowserRouter","Switch","Route","exact","render","MyApp","flexDirection","backgroundImage","BackGroundImage","maxHeight","overflowY","withSnackbar","IntegrationNotistack","maxSnack","ReactDOM","AppComponent","getElementById"],"mappings":"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","file":"static/js/main.20511312.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAAAOCAYAAACW0Lq4AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4goDCi41n37vvwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAK1SURBVEjHtZfbbtswEETPLim7//+hBQr0obpwpw8kZSmREstuCQQIEFMezc5lYyEJwHjtFAm3evvqMySB7W+9g8NgxXL1qH+/GiFXL4fEWII5AsPIbmQzhuQvv9QrOJYIxhKNkIrjlpz8IjGXCAmJIjGHWEKE9GC2/eTkDP+ZmE7EVKLiQKu2ukqyG4Mb2a/heIqQSkSV5RJ1GnFyy6CqxZ3shputZL17ShtIqBKyxGMgH48bJOvKddyes9MpIWrTr9MQ8ykROnxdA27JSWYkM9yaii5KueMIwaJgbso8xvE5hdxgaMNJbThfEfOJEB34c4k4eOnq2WT1t2ofHX4uWfX14F7BSN8Ss8Uxl2AshXI8Ooyqhk7cEY6u3MGNIaX61wMcKyHa2GOJYGo58ZUt7snJ7qhZam6+/krG9+TcOqBD+po9QiwSUwvMMxyDGz9yws0aDjGFmEo5NWoy456MwX0lxD4SUiTGUlgCiuLwYW6Q3bm1jOgP2tZnb58pghMz4mbcvComue2+qZIqFgWhczsObtxTIrl9wiGJAMYlmOKMGDVi0po1ADZHaFwKi3QKIBmtymo4mdlpSKoBC8EUhSXUJmyHxHQ7Gaz21MlGkq3n0gUcwFSCuQRxpDLrindu7tivcda2Pg+JcMex9fKz1dj3ldJCeT7Jopor7OpzT4StAf0dEWc7U2xsfRQFZmCC/NGfZuB90dr0+NXa7HfMDPee7lBaZW5cu2kM291PrRl6dV4ZyO45VuvfJdycZGrKfeCQKnn5SMLZnaGBefdYI3lwI5OYo7ZC6bWuz59/4KgLnv+DHWYlBsjZq42CdbnsOOznn1G7ldf/DYDvFr15t9toE5bOPSf8jf9LnsbR8qVIzKVUw/6eZt1zWpeWV9boV2ELKPFYtnp9vorjmf3mHIeYIvgL5H7lERpc8/0AAAAASUVORK5CYII=\"","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\n\nconst styles = theme => ({\n    value: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    selchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n  },\n});\nclass Value extends Component {\n    render() {\n        const { classes, state, keyitem, valueitem, tpos } = this.props;\n\tvar onclick=() => state.Path.toggleSelect(state,keyitem,valueitem);\n\tvar chip=(tpos!==-1 ? classes.selchip : classes.othchip);\n\treturn (\n\t\t<div className={classes.value}>\n\t\t   <Chip\n\t              icon={null}\n\t              label={valueitem}\n\t              onClick={onclick}\n\t              className={chip}\n\t              variant=\"outlined\"\n\t\t   />\n\t\t</div>\n\t);\n    }\n}\n\nValue.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Value);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport RemoveIcon from '@material-ui/icons/Delete';\n\nconst styles = theme => ({\n    button: {},\n    remove: {\n        marginLeft: 'auto',\n    },\n});\nclass Remove extends Component {\n    render() {\n\tconst {state, classes, onclick }=this.props;\n\treturn (\n\t\t   <Button\n\t              className={classes.button}\n                      onClick={onclick}\n\t              title={\"Remove table\"}\n\t\t    >\n\t  \t       {<RemoveIcon state={state}/>}\n                    </Button>\n\t);\n    }\n}\n\nRemove.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Remove);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport ReloadIcon from '@material-ui/icons/Autorenew';\n\nconst styles = theme => ({\n    reload: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nclass Reload extends Component {\n    render() {\n\tconst {state, classes, onclose}=this.props;\n\tvar onclick;\n\tif (onclose === undefined) {\n\t    onclick = (event) => state.Show.show(state,true);\n\t} else {\n\t    onclick = (event) => {state.Show.show(state,true);onclose();};\n\t};\n\treturn (\n\t   <Button\n              className={classes.button}\n\t      onClick={onclick}\n              title={\"Reload table\"}\n\t   >\n              {<ReloadIcon state={state}/>}\n           </Button>\n\t);\n    }\n}\n\nReload.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Reload);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport SelIcon from '@material-ui/icons/Done';\nimport NullIcon from '@material-ui/icons/Clear';\nimport SelectValue from './SelectValueComponent';\nimport Remove     from './RemoveComponent';\nimport Reload     from './ReloadComponent';\n\nconst styles = theme => ({\n    settings:{},\n    button:{},\n    values: {\n\tdisplay: 'inline-block',\n        marginLeft: 'auto',\n    },\n    selectchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n    reload: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n    remove: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n});\nfunction renderMenuItem(classes,state,keyitem,valueitem,valueindex) {\n    var vals=state.Path.select.val[keyitem]\n    //console.log(\"SelectValues:\",keyitem,valueitem,JSON.stringify(vals));\n    var tpos=-1;\n    if (vals !== undefined) {\n\ttpos=vals.indexOf(valueitem);\n    };\n    if (valueitem !== undefined) {\n\treturn (<MenuItem value={valueitem} key={valueitem}>\n\t\t<SelectValue state={state} keyitem={keyitem} valueitem={valueitem} tpos={tpos}/> \n\t\t</MenuItem>);\n    } else {\n\treturn null;\n    };\n}\nclass SelectValueMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state, keyitem, title, label, remove } = this.props;\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar items=state.Database.getKeyValues(state,keyitem);\n\tif (remove !== undefined) {\n\t    this.remove = () => {state.Navigate.onClickPath(state,remove,keyitem);this.onClose();};\n\t} else {\n\t    this.remove = () => {state.Navigate.onClickPath(state,'path',keyitem);this.onClose();};\n\t};\n\titems.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,keyitem,item,index);\n\t//console.log(\"Values.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\tvar icon,lab;\n\tif (label===\"\") {\n\t    icon=<NullIcon/>;\n\t    lab=keyitem;\n\t} else {\n\t    icon=<SelIcon/>;\n\t    lab=label;\n\t};\n\treturn (\n\t\t<div className={classes.values} key={\"selectValue-\"+keyitem}>\n\t\t   <Chip\n                     icon={icon}\n                      label={lab}\n                      title={title}\n                      className={classes.selectchip}\n                      variant=\"outlined\"\n                      aria-owns={this.state.anchor ? 'values-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t           />\n\t\t     <Menu\n                        id=\"values-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t       <MenuItem key=\"remove\" onClose={this.onClose} className={classes.remove}>\n\t\t          <Remove state={state} classes={{button:classes.button}} keyitem={keyitem} onclick={this.remove} onclose={this.onClose}/>\n\t\t       </MenuItem>\n\t\t        {mapFunction(state.Database.makeKeytrg(state,keyitem,state.Database.keytrg.Min),-1)}\n\t\t        {items.map(mapFunction)}\n\t\t        {mapFunction(state.Database.makeKeytrg(state,keyitem,state.Database.keytrg.Max),-1)}\n\t\t        {mapFunction(\"\",-1)}\n\t\t       <MenuItem key=\"reload\" onClose={this.onClose} className={classes.reload}>\n\t\t          <Reload state={state} onclose={this.onClose}/>\n\t\t       </MenuItem>\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nSelectValueMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SelectValueMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport SelectValueMenu from './SelectValueMenuComponent';\n\nconst styles = theme => ({\n    settings:{},\n    config: {\n        marginLeft: 'auto',\n    },\n});\nfunction renderSelectPath(classes,state,item,index) {\n    var key=state.Path.keys.path[index];\n    var vals=state.Path.select.val[key];\n    var lab=\"\";\n    if (vals !== undefined && vals.length > 0) {\n\tlab=vals[0];\n    };\n    var onclick=() => state.Navigate.onClickPath(state,'path',key);\n    var title=\"'\"+state.Path.where[key]+\"'\";\n    return (<span key={`select-${key}`}>\n\t    <SelectValueMenu state={state} classes={{}} keyitem={item} keyindex={index} label={lab} onclick={onclick} title={title}/>\n\t    </span>);\n}\nclass SelectPath extends Component {\n    state={anchor:null};\n    render() {\n\tconst { classes, state } = this.props;\n\tvar items=state.Path.keys.path;\n\tvar mapFunction= (item,index)=>renderSelectPath(classes,state,item,index);\n\treturn items.map(mapFunction);\n    }\n}\n\nSelectPath.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SelectPath);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport SelIcon from '@material-ui/icons/Done';\n\nconst styles = theme => ({\n    config: {},\n    key: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    restchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n});\nclass TableKey extends Component {\n    render() {\n        const { classes, state, keyitem, target, onclose } = this.props;\n\tvar onclick=() => {state.Navigate.onClickTablePath(state,keyitem,target);onclose();};\n\t//console.log(\"TableKey:\",tpos,keyitem,JSON.stringify(state.Path.keys.other));\n\tvar chip=classes.restchip;\n\tif (state.Path.keys.path.indexOf(keyitem) === -1) {\n\t    return (\n\t\t<div className={classes.key}>\n\t \t   <Chip\n\t              label={keyitem}\n\t              onClick={onclick}\n\t              className={chip}\n\t              variant=\"outlined\"\n\t\t   />\n\t\t</div>\n\t    );\n\t} else {\n\t    return (\n\t\t<div className={classes.key}>\n\t \t   <Chip\n\t              icon={<SelIcon/>}\n\t              label={keyitem}\n\t              onClick={onclick}\n\t              className={chip}\n\t              variant=\"outlined\"\n\t\t   />\n\t\t</div>\n\t    );\n\t};\n    }\n}\n\nTableKey.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TableKey);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport TabIcon from '@material-ui/icons/Apps';\n\nimport TableKey from './TableKeyComponent';\nimport Remove   from './RemoveComponent';\n\nconst styles = theme => ({\n    config: {\n        marginLeft: 'auto',\n    },\n    tabchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n});\nfunction renderMenuItem(classes,state,keyitem,keyindex,key,onClose) {\n    return (<MenuItem key={keyitem}>\n\t       <TableKey state={state} keyitem={keyitem} target={key} onclose={onClose}/> \n\t    </MenuItem>);\n}\nclass TableMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state, value } = this.props;\n\tthis.onClick = event => {\n\t    //if (items.length===0) {\n\t\t//this.setState({ anchor: null });\n\t    //} else {\n\t\tthis.setState({ anchor: event.currentTarget });\n\t    //};\n\t};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tthis.remove = () => {state.Navigate.onClickPath(state,'trash',value);this.onClose();};\n\tvar items=state.Utils.cp(state.Path.other.rest);\n\titems=items.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index,value,this.onClose);\n\t//console.log(\"TableMenu.rendering:\",value,JSON.stringify(items));\n\treturn (\n\t\t<div className={classes.config} key={value}>\n\t\t   <Chip\n                      icon={<TabIcon />}\n                      label={value}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n                      className={classes.tabchip}\n                      variant=\"outlined\"/>\n\t\t     <Menu\n                        id=\"keys-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        <MenuItem key=\"remove\" onClose={this.onClose} className={classes.remove}>\n\t\t          <Remove state={state} keyitem={value} onclick={this.remove} onclose={this.onClose}/>\n\t\t       </MenuItem>\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nTableMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TableMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport TableMenu from './TableMenuComponent';\n\nconst styles = theme => ({\n    config: {\n        marginLeft: 'auto',\n    },\n    tabchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n});\nfunction renderMenu(classes,state,keyitem,keyindex) {\n    return (<span key={`table-${keyitem}`}>\n\t    <TableMenu classes={{tabchip:classes.tabchip}} state={state} value={keyitem}/>\n\t    </span>);\n}\nclass TablePath extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state } = this.props; //key\n\tvar items=state.Path.other.table;\n\tvar mapFunction= (item,index)=>renderMenu(classes,state,item,index);\n\t//console.log(\"TablePath.rendering:\",value,JSON.stringify(items));\n\treturn items.map(mapFunction);\n    }\n}\n\nTablePath.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TablePath);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\n\nconst styles = theme => ({\n    key: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    restchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n});\nclass RestValue extends Component {\n    render() {\n\tconst { classes, state, keyvalue, target, onclose } = this.props; // state, key, index, onclick, title, \n\tvar where=state.Database.getWhereDetail(target,keyvalue);\n\tvar onclick=() => {state.Navigate.onClickRestValue(state,keyvalue,target,where);onclose();};\n\treturn <Chip\n        label={keyvalue}\n        onClick={onclick}\n        className={classes.restchip}\n        variant=\"outlined\"\n\ttitle={where}\n\t    />\n    }\n};\n\nRestValue.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(RestValue);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Chip from '@material-ui/core/Chip';\nimport Remove     from './RemoveComponent';\n\nimport RestValue from './RestValueComponent';\n\nconst styles = theme => ({\n    config: {\n        marginLeft: 'auto',\n    },\n    tabchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n    remove: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n});\nfunction renderMenuItem(classes,state,item,index,keyitem,onClose) {\n    //console.log(\"KeyItem:\",keyitem);\n    if (item !== undefined) {\n\treturn (<MenuItem key={'rest-'+item}>\n\t       <RestValue state={state} keyvalue={item} target={keyitem} onclose={onClose}/> \n\t    </MenuItem>);\n    } else {\n\treturn null;\n    }\n}\nclass RestMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state, keyitem, remove } = this.props;\n\tthis.onClick = event => {\n\t    if (items.length===0) {\n\t\tthis.setState({ anchor: null });\n\t    } else {\n\t\tthis.setState({ anchor: event.currentTarget });\n\t    };\n\t};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tif (remove !== undefined) {\n\t    this.remove = () => {state.Navigate.onClickPath(state,remove,keyitem);this.onClose();};\n\t} else {\n\t    this.remove = () => {state.Navigate.onClickPath(state,'trash',keyitem);this.onClose();};\n\t};\n\tvar items=state.Database.getKeyValues(state,keyitem);//state.Database.values[keyitem];\n\titems=items.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index,keyitem,this.onClose);\n\t//console.log(\"RestMenu.rendering:\",keyitem,JSON.stringify(items));\n\treturn (\n\t\t<div className={classes.config} key={keyitem}>\n\t\t   <Chip\n                      label={keyitem}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n                      className={classes.tabchip}\n                      variant=\"outlined\"/>\n\t\t     <Menu\n                        id=\"keys-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t       <MenuItem key=\"remove\" onClose={this.onClose} className={classes.remove}>\n\t\t          <Remove state={state} keyitem={keyitem} onclick={this.remove} onclose={this.onClose}/>\n\t\t       </MenuItem>\n\t\t        {items.map(mapFunction)}\n\t\t        {mapFunction(\"\",-1)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nRestMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(RestMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport RestMenu from './RestMenuComponent';\n\nimport SelectValueMenu from './SelectValueMenuComponent';\n\nconst styles = theme => ({\n    config: {\n        marginLeft: 'auto',\n    },\n});\nfunction renderRestPath(classes,state,item,index) {\n    var remove='trash';\n    var key, onclick, title;\n    if (state.Path.keys.path.indexOf(item) === -1) {\n\tkey=state.Path.other.rest[index];\n\tonclick=() => state.Navigate.onClickPath(state,'rest',key);\n\ttitle=\"'\"+state.Path.other.rest[index]+\"'\";\n\treturn (<span key={`rest-${key}`}>\n\t\t<RestMenu state={state} classes={{}} keyitem={item} keyindex={index} remove={remove} onclick={onclick} title={title} />\n\t\t</span>);\n    } else {\n\tkey=state.Path.other.rest[index];\n\t//var vals=state.Path.select.val[key];\n\tvar lab=item;\n\tonclick=() => state.Navigate.onClickPath(state,'path',key);\n\ttitle=\"'\"+state.Path.where[key]+\"'\";\n\treturn (<span>\n\t\t<SelectValueMenu state={state} classes={{}} key={`rest-${key}`} keyitem={item} keyindex={index} label={lab} remove={remove} onclick={onclick} title={title}/>\n\t\t</span>);\n    }\n    //    return <RestKey state={state} key={`rest-${key}`} index={index} onclick={onclick} title={title} value={key}/>;\n}\nclass RestPath extends Component {\n    state={anchor:null};\n    render() {\n       const { classes, state } = this.props;\n       var items=state.Path.other.rest;\n       var mapFunction= (item,index)=>renderRestPath(classes,state,item,index);\n\treturn items.map(mapFunction);\n    }\n};\n\nRestPath.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(RestPath);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n//import TrashIcon from '@material-ui/icons/Delete';\n\nimport SelectPath from './SelectPathComponent';\nimport TablePath from './TablePathComponent';\nimport RestPath from './RestPathComponent';\n//console.log(\"Inside PathComponent.\")\n\nconst styles = theme => ({\n    root: {\n\twidth:'calc(98% - 5px)',\n\tdisplay:'flex',\n\tflexWrap:'wrap',\n\talignContent:'flex-start',\n //\tborder:  '1px solid red',\n    },\n    paper: {\n        padding: theme.spacing.unit * 2,\n        textAlign: 'left',\n    },\n    paperImage: {\n        textAlign: 'center',\n        padding: theme.spacing.unit * 2,\n    },\n    button : {\n\tcolor: 'white',\n    },\n});\nfunction Details(props) {\n    const { state,classes } = props; // \n    if (state.Layout.state.viewMode === state.Layout.modes.view.path) {\n\treturn (\n\t\t<div className={classes.root}>\n\t\t   <SelectPath state={state} key={\"select\"}/>\n\t\t   <TablePath  state={state} key={\"table\"}/>\n\t\t   <RestPath   state={state} key={\"rest\"}/>\n\t\t</div>\n\t);\n    } else {\n\treturn (null);\n    };\n}\nclass PathComponent extends Component {\n    constructor(props) {\n\tsuper(props);\n\tconst {state} = props;\n\tstate.React.Path=this;\n    };\n    showPath(state) {\n\t//console.log(\"Showing PathComponent.\",JSON.stringify(state.Path.keys));\n\tthis.forceUpdate();\n    };\n    render() {\n        const { classes, state } = this.props;\n        return (\n            <div className={classes.root}>\n                <Grid container spacing={24}>\n                    <Grid item xs={12}>\n\t\t       <Details classes={classes} state={state}/>\n                    </Grid>\n                </Grid>\n            </div>\n        );\n    }\n}\n\nPathComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PathComponent);\n","/**\n * Main Colors\n * These are the main color combinations to be used for met web applications\n * for more info see: https://blest.met.no/intranett/_attachment/1712?_ts=1490d5de31a\n */\n\nexport const teal_palette =  {\n    light: '#BADEE4',\n    main: '#0090A8',\n    dark: '#74C4D7',\n};\n\nexport const black_palette = {\n    light: '#E9E9E9',\n    main: '#496C80',\n    dark: '#323232'\n};\n\n/**\n * Secondary Colors\n * There are the main addition colors to be used for met web applications\n */\n\nexport const green_palette = {\n    light: '#B9DABB',\n    main: '#54AB54',\n    dark: '#1D6936'\n};\n\nexport const yellow_palette = {\n    light: '#FFEAB0',\n    main: '#FFD255',\n    dark: '#8D6F1A'\n};\n\nexport const purple_palette = {\n    light: '#BEB9D7',\n    main: '#7974AF',\n    dark: '#464769'\n};\n\nexport const brown_palette = {\n    light: '#C4B2A1',\n    main: '#7B5947',\n    dark: '#513829'\n};\n\nexport const red_palette = {\n    light: '#CFA9B8',\n    main: '#A24E75',\n    dark: '#712C56'\n};\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    canvas: {\n\twidth:\"100%\",\n\theight:\"100%\",\n\toverflow:\"hidden\",\n    },\n    pointer: {\n\tcursor:\"pointer\",\n\tpadding: theme.spacing.unit*0,\n    },\n    nopointer: {\n\tpadding: theme.spacing.unit*0,\n    },\n});\nfunction drawMarker(ctx,height,offset,width) {\n    ctx.strokeStyle='blue';\n    ctx.beginPath();\n    ctx.moveTo(offset,0);\n    ctx.lineTo(offset+width,height);\n    ctx.moveTo(offset+width,0);\n    ctx.lineTo(offset,height);\n    ctx.strokeRect(offset,0,offset+width,height);\n    ctx.stroke();\n};\nfunction updateCanvas(item) {\n    const {label,plan,color} = item.props;\n    const cnv=item.refs.text;\n    const ctx = cnv.getContext('2d');\n    //var cnvheight = cnv.height;\n    ctx.save();\n    //ctx.translate(newx, newy);\n    if (plan.font !== undefined) {\n\tctx.font = plan.font;\n    }\n    //ctx.font = \"40px Courier\"\n    ctx.clearRect(0, 0, cnv.width, cnv.height);\n    //\n    //ctx.strokeStyle='gray';\n    //ctx.strokeRect(0,0,cnv.width,cnv.height);\n    //\n    //ctx.rect(0,0,100,100);\n    //ctx.stroke();\n    //console.log(\">>>> Plan:\",JSON.stringify(plan),item.width,item.height);\n    if (color !== undefined) {\n\t//console.log(\"Using color:\",color);\n\tctx.fillStyle=color;\n    } else {\n\tctx.fillStyle='black';\n\t//console.log(\"Using black...\");\n    };\n    if (plan.rotate !== undefined && plan.rotate) {\n\tctx.textAlign = \"left\"; //left right center\n\tctx.translate(item.width-plan.border-plan.xoffset,item.height-plan.border);\n\tctx.rotate(-Math.PI/2);\n\tctx.fillText(label, 0, 0); // labelXposition\n    } else if (plan.align === \"right\") {\n\tctx.textAlign = \"right\"; //left right center\n\tctx.fillText(label, plan.width-plan.border+plan.xoffset, item.height-plan.border); // labelXposition\n    } else {\n\tctx.fillText(label, plan.border+plan.xoffset, item.height-plan.border); // labelXposition\n    };\n    ctx.restore();\n    //ctx.rect(0,0,item.width,item.height);\n    //ctx.stroke();\n    //console.log(\"Label:\",label,item.width,item.height, plan.border,plan.xoffset);\n    //console.log(\"CanvasText:\",cnv.width,cnv.height);\n    if (item.invalid) {\n\tdrawMarker(ctx,cnv.height,0,cnv.width);\n    };\n}\n    \n\nclass CanvasTextComponent extends Component {\n    componentDidMount() {\n        updateCanvas(this);\n    }\n    componentDidUpdate() {\n        updateCanvas(this);\n    }\n    render() {\n        const { classes, onclick, title, plan, color, invalid, ...other } = this.props;\n\tthis.width=plan.width;\n\tthis.height=plan.height;\n\tthis.invalid=invalid;\n\tthis.color=color;\n\t//console.log(\"Got color:\",color);\n        return (\n\t\t<canvas {...other} className={classes.canvas} classes={classes} onClick={onclick} title={title} \n\t            plan={plan} width={plan.width} height={plan.height} ref=\"text\" />\n        );\n    }\n}\n\nCanvasTextComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CanvasTextComponent);\n// function getTextWidth(txt, fontname, fontsize){\n//     if(getTextWidth.c === undefined){\n//         getTextWidth.c=document.createElement('canvas');\n//         getTextWidth.ctx=getTextWidth.c.getContext('2d');\n//     }\n//     if (fontname !== undefined) {\n// \tgetTextWidth.ctx.font = fontsize + ' ' + fontname;\n//     }\n//     return getTextWidth.ctx.measureText(txt).width;\n// };\n// function getTextHeight(fontname, fontsize){\n//     if(getTextHeight.c === undefined){\n//         getTextHeight.c=document.createElement('canvas');\n//         getTextHeight.ctx=getTextHeight.c.getContext('2d');\n//     }\n//     if (fontname !== undefined) {\n// \tgetTextHeight.ctx.font = fontsize + ' ' + fontname;\n//     }\n//     return getTextHeight.ctx.measureText('M').width;\n// }\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport CanvasText  from './CanvasTextComponent';\n\nconst styles = theme => ({\n    divTableCell:{\n\tborder: '1px solid #EEE',\n\tdisplay: 'table-cell',\n\tpadding: '0px 0px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '1px solid #EEE',\n\tdisplay: 'table-cell',\n\tpadding: '0px 0px',\n    },\n});\n\n//\tborderCollapse: 'collapse',\n\nfunction SummaryCell(props) {\n    const { classes,state,onclick,index,rowindex,\n\t    colkey,rowkey,colvalues,rowval,\n\t    elements,plan,key,label } = props;\n    console.log(\"Summary height:\",plan.height);\n    var style0={height:(plan.height)+\"px\",backgroundColor:'#FFF'};\n    var style1={height:(plan.height)+\"px\",backgroundColor:'#EEE'};\n    if (elements===undefined) {\n\tif (rowindex%2===1) {\n\t    return <div className={classes.divTableCell} style={style1}/>\n\t} else {\n\t    return <div className={classes.divTableCell} style={style0}/>\n\t}\n    };\n    var info=state.Matrix.getInfo(state,elements);\n    var cnt=info.cnt;\n    var maxlev=info.maxlev;\n    var minlev=info.minlev;\n    var lab=\"\";\n    if (label === undefined) {\n\tif (cnt > 1) {\n\t    lab=\".\";\n\t} else {\n\t    lab=\"\";\n\t};\n    };\n    var invalid=(minlev < 0); \n    var bgcolor=state.Colors.getLevelBgColor(maxlev);\n    var fgcolor=state.Colors.getLevelFgColor(maxlev);\n    //console.log(\"Sending color:\",fgcolor);\n    //var stylec={height:plan.height+\"px\",backgroundColor:bgcolor};\n    //console.log(\"SummaryCell:'\"+lab+\"' lev=\",lev,elements.length,bgcolor,lab);\n    //console.log(\"Found invalid.\",invalid,minlev,maxlev,JSON.stringify(elements));\n    //console.log(\"Summary Plan:\",JSON.stringify(plan));\n    //var data={colkey:colkey,rowkey:rowkey};\n    var data=JSON.stringify({rowkey:rowkey,rowval:rowval,colkey:colkey,colvalues:colvalues,index:index,step:plan.step}); \n    return (\n            <div className={(onclick !== undefined?classes.divTableCellCursor:classes.divTableCell)} key={key}\n\t         style={{color:fgcolor,backgroundColor:bgcolor}} onClick={onclick} height={plan.height} width={plan.width}\n\t         data-for='cell' data-tip={data}>\n\t\t<CanvasText state={state} label={lab} plan={plan} key={key} invalid={invalid} index={index}\n\t\t\t\t\t   colkey={colkey} rowkey={rowkey} colvalues={colvalues} rowval={rowval} color={fgcolor}/>\n\t    </div>\n           );\n}\n\nSummaryCell.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SummaryCell);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    canvas: {\n\twidth:\"100%\",\n\theight:\"100%\",\n\toverflow:\"hidden\",\n\tmargin:\"0px\",\n\tpadding:\"0px\",\n\tborder:\"0px\",\n    },\n    pointer: {\n\tcursor:\"pointer\",\n\tpadding: theme.spacing.unit*0,\n    },\n    nopointer: {\n\tpadding: theme.spacing.unit*0,\n    },\n    div :{},\n});\nfunction drawThresholds(state,elements,colkey,colvalue,range,plan,level,ctx,height,offset,dwidth) {\n    //console.log(\"Canvas:\",xmin,dx);\n    var elen=elements.length;\n    //var maxlev=-1;\n    //var minlev=0;\n    var min=range[0]\n    var max=range[1];\n    var ee;\n    // determine cnt, number of elements for this colvalue\n    var cnt=0;\n    for (ee=0;ee<elen;ee++) {   // loop over elements\n\tvar el=elements[ee];\n\tvar docs=el.docs;\n\tvar dlen=docs.length;\n\tfor (var jj=0;jj<dlen;jj++) {   // loop over segments in each element\n\t    var d=docs[jj];\n\t    var thr=d._thr;\n\t    if (colvalue===\"\" || d[colkey]  === colvalue) {\n\t\tvar vals; // array of thresholds\n\t\tif (thr.min !== undefined && thr.val !== undefined) {\n\t\t    vals=thr.min;\n\t\t}\n\t\tif (thr.max !== undefined && thr.val !== undefined) {\n\t\t    vals=thr.max;\n\t\t}\n\t\tif (vals !== undefined) {\n\t\t    var vlen=vals.length;\n\t\t    for (var ll=0;ll<vlen;ll++) {\n\t\t\tvar tyval=vals[ll];\n\t\t\tvar tzval=state.Show.scale(tyval,min,max,height,0);\n\t\t\tvar scolor=undefined;\n\t\t\tif (ll === level) {\n\t\t\t    scolor=state.Colors.getLevelFgColor(ll);\n\t\t\t} else {\n\t\t\t    scolor=state.Colors.getLevelBgColor(ll);\n\t\t\t};\n\t\t\tvar xmin=offset+cnt*dwidth;\n\t\t\tvar xmax=offset+(cnt+1)*dwidth;\n\t\t\tctx.beginPath();\n\t\t\tctx.lineWidth=1;\n\t\t\tif (scolor !== undefined) {ctx.strokeStyle=scolor;}\n\t\t\tctx.moveTo(xmin,tzval);\n\t\t\tctx.lineTo(xmax,tzval);\n\t\t\tctx.stroke();\n\t\t\t//console.log(\"Stroke color:\",sbgcolor,ll,tzval,cnv.width);\n\t\t    }\n\t\t};\n\t\tif (thr.val !== undefined) {\n\t\t    cnt=cnt+1;\n\t\t}\n\t    };\n\t};\n    };\n};\nfunction drawData(state,elements,colkey,colvalue,range,plan,level,ctx,height,offset,dwidth) {\n    //console.log(\"Canvas:\",xmin,dx);\n    var elen=elements.length;\n    var maxlev=-1;\n    var minlev=0;\n    var min=range[0]\n    var max=range[1];\n    var ee;\n    // determine cnt, number of elements for this colvalue\n    var cnt=0;\n    for (ee=0;ee<elen;ee++) {   // loop over elements\n\tvar el=elements[ee];\n\tvar docs=el.docs;\n\tvar dlen=docs.length;\n\tfor (var jj=0;jj<dlen;jj++) {   // loop over segments in each element\n\t    var d=docs[jj];\n\t    var thr=d._thr;\n\t    if (colvalue===\"\" || d[colkey]  === colvalue) {\n\t\t//var vals;\n\t\t//console.log(\"Making canvas:\",ii,colvalues[ii],color,JSON.stringify(d),\n\t\t//\t    \" Thr=\",JSON.stringify(t),width,height,JSON.stringify(range));\n\t\t//console.log(\"CanvasGraph:\",ii,jj,d.dtg,color,el.maxlev,JSON.stringify(t));\n\t\tvar ymin=min;\n\t\tif (thr.min !== undefined && thr.val !== undefined) {\n\t\t    ymin=thr.val\n\t\t}\n\t\tvar ymax=max;\n\t\tif (thr.max !== undefined && thr.val !== undefined) {\n\t\t    ymax=thr.val;\n\t\t}\n\t\tvar xmin=offset+cnt*dwidth;\n\t\tvar xmax=offset+(cnt+1)*dwidth;\n\t\tvar zmin=state.Show.scale(ymin,min,max,height,0);\n\t\tvar zmax=state.Show.scale(ymax,min,max,height,0);\n\t\t//console.log(\"Fill:\",xmin,xmax,zmin,zmax,ymin,ymax,min,max,height);\n\t\t//console.log(\"Fill:\",xmin,xmax,zmin,(zmax-zmin),height,color);\n\t\t//ctx.fillStyle=\"cornflowerblue\";\n                var lev=state.Threshold.getLevel(state,d);\n                var col=state.Colors.getLevelFgColor(lev);\n\t\tif (col !== undefined) {\n\t\t    if (thr.level === undefined) { //  || Math.random() > 0.8\n\n\t\t\tconsole.log(\"Found undefined:\",JSON.stringify(d));\n\n\t\t\tminlev=Math.min(minlev,-2);\n\t\t    } else {\n\t\t\tmaxlev=Math.max(maxlev,thr.level);\n\t\t\tminlev=Math.min(minlev,thr.level);\n\t\t    };\n\t\t    var dx=Math.max(1,xmax-xmin);\n\t\t    var dz=zmax-zmin;\n\t\t    ctx.strokeStyle=col;\n\t\t    ctx.strokeRect(xmin,zmin,dx,dz);\n\t\t} else {\n\t\t    minlev=Math.min(minlev,-2);\n\t\t}\n\t\tif (thr.val !== undefined) {\n\t\t    cnt=cnt+1;\n\t\t};\n\t    }\n\t}\n    };\n    if (minlev < 0) {\n\treturn minlev;\n    } else {\n\treturn maxlev;\n    }\n};\nfunction drawMarker(ctx,height,offset,width) {\n    ctx.strokeStyle='blue';\n    ctx.beginPath();\n    ctx.moveTo(offset,0);\n    ctx.lineTo(offset+width,height);\n    ctx.moveTo(offset+width,0);\n    ctx.lineTo(offset,height);\n    ctx.strokeRect(offset,0,offset+width,height);\n    ctx.stroke();\n};\nfunction updateCanvas(item) {\n    const {state,elements,colkey,colvalues,index,range,plan,level} = item.props;\n    const cnv=item.refs.canvas;        // canvas\n    const ctx = cnv.getContext('2d');  // context\n    //console.log(\"Canvas:\",cnv.width,cnv.height);\n    //console.log(\"Canvas matrix:\",JSON.stringify(state.React.matrix));\n    ctx.clearRect(0, 0, cnv.width, cnv.height);\n    //var elen=elements.length;\n    var clen=1; if (colvalues !== undefined) {clen=colvalues.length;}; // number of columns\n    const step=plan.step;\n    var height = cnv.height;\n    var width = cnv.width/Math.max(1,step); // width of graph segment\n    var minlev=0;\n    if (range !== undefined) {\n\t// loop over column segments...\n\t//console.log(\"Segments:\",index,clen);\n\tfor (var ii=index;ii<Math.min(index+step,clen);ii++) { // loop over segments\n\t    var tot=state.Utils.cntDocs(elements,colkey,colvalues[ii]);\n\t    //console.log(\"Canvas:\",ii,index,\" val=\",colvalues[ii],\" tot=\",tot,\" key=\",colkey,JSON.stringify(elements));\n\t    var offset=(ii-index)*width;       // width/10;\n\t    var dwidth=width/Math.max(1,tot);\n\t    drawThresholds(state,elements,colkey,colvalues[ii],range,plan,level,ctx,height,offset,dwidth);\n\t    var lev=drawData(state,elements,colkey,colvalues[ii],range,plan,level,ctx,height,offset,dwidth);\n\t    minlev=Math.min(minlev,lev);\n\t}\n    } else {\n\tminlev=-2;\n    };\n    if (minlev < 0) {\n\tdrawMarker(ctx,height,0,width);\n    }\n};\nclass CanvasGraphComponent extends React.Component {\n    componentDidMount() {\n        updateCanvas(this);\n    }\n    componentDidUpdate() {\n        updateCanvas(this);\n    }\n    render() {\n        const { classes, onclick, title, plan, ...other } = this.props;\n        return (\n\t\t<canvas {...other} className={classes.canvas} classes={classes} onClick={onclick} title={title} \n\t            plan={plan} width={plan.width} height={plan.height} ref=\"canvas\"/>\n        );\n    }\n}\n\n// width={plan.width} height={plan.height}\n\nCanvasGraphComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(CanvasGraphComponent);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CanvasGraph from './CanvasGraphComponent';\n\n//\ttextAlign: \"center\",\nconst styles = theme => ({\n    pointer: {\n\ttextAlign: \"center\",\n\tcursor:\"pointer\",\n\tpadding: 0,\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n    },\n    nopointer: {\n\ttextAlign: \"center\",\n\tpadding: 0,\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n    },\n    div: {\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px 0px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px 0px',\n    },\n});\n//\tpadding: \"0px\";\n//\ttextAlign: \"center\",\nfunction SeriesCell(props) {\n    const { classes,state,onclick,index,rowindex,\n\t    colwhere,rowwhere,colkey,rowkey,colvalues,rowval,\n\t    elements,range,plan,key,...other } = props;\n\n    var style0={height:plan.height+\"px\",backgroundColor:'#FFF'};\n    var style1={height:plan.height+\"px\",backgroundColor:'#EEE'};\n    if (elements===undefined) {\n\tif (rowindex%2===1) {\n\t    return <div className={classes.divTableCell} style={style1}/>\n\t} else {\n\t    return <div className={classes.divTableCell} style={style0}/>\n\t}\n    };\n    var info=state.Matrix.getInfo(state,elements);\n    //var cnt=info.cnt;\n    var maxlev=info.maxlev;\n    //var minlev=info.minlev;\n    var bgcolor=state.Colors.getLevelBgColor(maxlev);\n    var fgcolor=state.Colors.getLevelFgColor(maxlev);\n    //console.log(\"SeriesCell:\",JSON.stringify(elements));\n    //console.log(\"SeriesCell:\",lev,cnt,JSON.stringify(range));\n    //console.log(\"Series Plan:\",JSON.stringify(plan));\n    var data=JSON.stringify({rowkey:rowkey,rowval:rowval,colkey:colkey,colvalues:colvalues,index:index,step:plan.step}); \n    return(\n\t    <div className={(onclick !== undefined?classes.divTableCellCursor:classes.divTableCell)} key={key}\n\t         style={{color:fgcolor,backgroundColor:bgcolor}} onClick={onclick} height={plan.height} width={plan.width}\n\t         data-for='cell' data-tip={data}>\n  \t       <CanvasGraph {...other} state={state} range={range} colkey={colkey} colvalues={colvalues} index={index}\n\t          onclick={onclick} elements={elements} level={maxlev} plan={plan} fgcolor={fgcolor} bgcolor={bgcolor}/>  \n\t     </div>\n    );\n}\n\n\n\nSeriesCell.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SeriesCell);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\n//import Paper from '@material-ui/core/Paper';\n//import Grid from '@material-ui/core/Grid';\n\n//import SummaryCell from './SummaryCell';\n//import SeriesCell  from './SeriesCell';\n//import CanvasText  from './CanvasTextComponent';\n\nconst styles = theme => ({\n    root: {\n\theight: '100%',\n    },\n    paper: {\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n\tpadding:0,\n\tmargin:0,\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n    },\n    divTableRow:  {\n\tbackgroundColor:teal_palette.main,\n\tborder: '1px solid #000',\n\tdisplay: 'table-row',\n\tpadding: '5px',\n    },\n    divTableHdr:{\n\tborder: '1px solid #000',\n\tdisplay: 'table-cell',\n\tpadding: '5px',\n\tbackgroundColor:teal_palette.main,\n\tcolor:'black',\n    },\n    divTableCell:{\n\tborder: '1px solid #000',\n\tdisplay: 'table-cell',\n\tpadding: '5px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '1px solid #000',\n\tdisplay: 'table-cell',\n\tpadding: '5px',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    },\n});\n\n//const mui = createTheme({palette:teal_palette});\n\n// ---------------- DATA\nfunction FirstDataCell (props) {\n    const { classes, rowval} = props;//,state, rowindex\n    return (<div className={classes.divTableHdr}>\n\t    {rowval}\n\t    </div>);\n}\n//{rowval}\nfunction DataCell(props) {\n    const {classes,val,onclick,fgcolor,bgcolor}=props;//state,rowindex,\n    var rval=val;\n    if (isNaN(rval)) {\n\trval=val;\n    } else {\n\trval=parseFloat(rval,0).toFixed(2);\n    };\n    return <div className={(onclick !== undefined?classes.divTableCellCursor:classes.divTableCell)} style={{color:fgcolor,backgroundColor:bgcolor}} onClick={onclick}>{rval}</div>\n}\nfunction renderDataCell(classes,state,key,click,sub,rowindex,colindex) {\n    var maxlev=sub[\"level\"]||0;\n    var bgcolor=state.Colors.getLevelBgColor(maxlev);\n    var fgcolor=state.Colors.getLevelFgColor(maxlev);\n    var rowkey=key;\n    var rowval=sub[key];\n    var rowwhere=state.Database.getWhereDetail(rowkey,rowval);\n    var onclick=(click.indexOf(rowkey)===-1?undefined: () => {state.Navigate.selectKey(state,rowkey,rowval,rowwhere,1)});\n    return (<DataCell classes={classes} state={state} key={`${rowindex}-${colindex}`} val={sub[key]} rowindex={rowindex} fgcolor={fgcolor} bgcolor={bgcolor} onclick={onclick}/>);\n}\n//{{rowkey:'test1',colkey:'test2',title:title}}\nfunction dataRow(classes,state,key,click,subs,rowindex) {\n    //return null; // no entries, ignore row...\n    var mapFunction= (sub,colindex)=>renderDataCell(classes,state,key,click,sub,rowindex,colindex);\n    return (<div className={classes.divTableRow} key={rowindex.toString()}>\n\t    <FirstDataCell classes={classes} state={state} key={'k-'+rowindex} rowval={key}/>\n\t    {subs.map(mapFunction)}\n\t    </div>);\n};\n// ---------------- Details\nfunction Details(props) {\n    const { classes, state, keys, click, subs } = props; // classes, element\n    var mapFunction= (key,rowindex)=>dataRow(classes,state,key,click,subs,rowindex);\n    return (<div className={classes.divTable}>\n\t       <div className={classes.divTableBody}>\n\t          {keys.map(mapFunction)}\n\t       </div>\n            </div>);\n }\nclass TooltipTable extends Component {\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    } \n    updateWindowDimensions = () => {\n        this.width= window.innerWidth;\n\tthis.height=window.innerHeight;\n\tthis.bbx=this.el.getBoundingClientRect();\n\t//console.log(\"Width/Height:\",this.width,this.height,this.bbx.width,this.bbx.height)\n    };\n    element(el) {\n\tif (el !== undefined && el !== null) {\n\t    this.el=el;\n\t    this.bbx=this.el.getBoundingClientRect();\n\t    //console.log(\"BBX width/height:\",this.bbx.width,this.bbx.height);\n\t};\n    };\n    render() {\n\tconst { state, classes, keys, click, subs } = this.props;\n\t//console.log(\"##### Rendering TooltipTable.\");\n\treturn (<div ref={el=>{this.element(el)}} className={classes.root}  style={{width: '100%', height: '100%'}}>\n\t\t   <Details state={state} classes={classes} element={this} keys={keys} click={click} subs={subs}/>\n\t        </div>);\n    }\n}\n\nTooltipTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TooltipTable);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\nimport ReactTooltip from 'react-tooltip'\nimport Button from '@material-ui/core/Button';\nimport Table  from './TooltipTable';\n\nimport InfoIcon from '@material-ui/icons/Info';\n//import CancelIcon from '@material-ui/icons/Cancel';\n\n\nconst styles = theme => ({\n    tooltip:{\n\tborder: '0px solid #999999',\n\tbackgroundColor:teal_palette.main,\n\tzIndex:100,\n    },\n    button: {\n\tcolor:'white',\n\t\"&$buttonDisabled\": {\n            color: theme.palette.primary.main,\n\t},\n    },\n    buttonDisabled: {},\n});\nfunction TableDetails(props){\n    const {state,data,tooltip}=props; //state,classes,element\n    var colkey=data.colkey;\n    var rowkey=data.rowkey;\n    var colvalues=data.colvalues;\n    var rowval=data.rowval;\n    var click=[rowkey,colkey];\n    state.Utils.cpArray(click,state.Path.tooltip.click);\n    var keys=[];\n    if (colvalues===undefined) {keys.push(colkey);}\n    if (rowval===undefined) {keys.push(rowkey);}\n    state.Utils.cpArray(keys,state.Path.tooltip.keys);\n    state.Utils.remArray(keys,state.Path.keys.path);\n    //state.Utils.remArray(keys,state.Path.other.table);\n    keys=state.Utils.keepHash(keys,tooltip);\n    //console.log(\"Keys:\",JSON.stringify(keys),JSON.stringify(state.Path.keys.path));\n    var key=data.rowkey+\":\"+data.colkey;\n    return (<div key={key}>\n\t    <Table state={state} keys={keys} click={click} subs={tooltip}/>\n\t    </div>\n\t   );\n};\nfunction ButtonDetails(props) {\n    const {classes,onclick}=props; // state,element,data,\n    return (<div>\n\t    <Button className={classes.button} onClick={onclick}><InfoIcon/></Button>\n\t    </div>\n\t   );\n};\n//\t    <h3>Rowkey: {data.rowkey} Colkey: {data.colkey}</h3>\n//\t    <p>Some details.</p>\nfunction Tooltip(props) {\n    const {state,classes,data,element}=props;\n    var tooltip=state.Matrix.getTooltip(state,data);\n    var available=state.Matrix.checkTooltip(state,data);\n    if (available) {\n\treturn (<TableDetails state={state} classes={classes} data={data} tooltip={tooltip}/>);\n    } else {\n\tvar onclick=() => {state.Matrix.addTooltip(state,data);element.update();}\n\treturn (<ButtonDetails state={state} classes={classes} data={data} onclick={onclick} tooltip={tooltip}/>);\n    }\n};\nclass TooltipContainer extends Component {\n    constructor(props) {\n\tsuper(props);\n\tconst {state} = props;\n\tstate.React.Tooltip=this;\n    };\n    rebuild() {\n\tconsole.log(\"Rebuilding tooltip.\");\n\t//ReactTooltip.rebuild();\n    };\n    update() {\n\tconsole.log(\"Rebuilding tooltip.\");\n\tthis.forceUpdate();\n\tReactTooltip.rebuild();\n    };\n    componentDidUpdate(){\n\tReactTooltip.rebuild()\n    } \n    render() {\n\tconst { classes, state, type } = this.props;\n\tvar overridePosition = ({ left, top },currentEvent, currentTarget, node) => {\n\t    const d = document.documentElement;\n\t    //console.log(\"Top:\",top,node.clientHeight,\" left:\",left,node.clientWidth,\" window:\",d.clientHeight,d.clientWidth);\n\t    left = Math.min(d.clientWidth - node.clientWidth, left);\n\t    top = Math.min(d.clientHeight - node.clientHeight, top);\n\t    left = Math.max(0, left);\n\t    top = Math.max(75, top);\n\t    return { top, left }\n\t};\n\tvar getConstant=(dataTip) =>{\n\t    if (dataTip==null) {\n\t\treturn null;\n\t    } else {\n\t\tconst data=JSON.parse(dataTip);\n\t\t//console.log(\"Tooltip:\",JSON.stringify(dataTip),JSON.stringify(data));\n\t\treturn (<Tooltip state={state} classes={classes} data={data} element={this}/>);\n\t    }\n\t};\n\t//console.log(\"##### Rendering TooltipContainer.\");\n\tif (state.Layout.state.tooltip===2) {\n\t    return null;\n\t} else {\n\t    return (<ReactTooltip id={type}\n\t\t    className={classes.tooltip}\n\t\t    overridePosition={overridePosition}\n\t\t    getContent={getConstant}\n\t\t    effect='solid'\n\t\t    delayHide={500}\n\t\t    delayShow={200}\n\t\t    delayUpdate={500}\n\t\t    place={'bottom'}\n\t\t    border={true}\n\t\t    type={'light'}\n\t\t    />);\n\t}\n    };\n};\nTooltipContainer.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TooltipContainer);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nimport SummaryCell from './SummaryCell';\nimport SeriesCell  from './SeriesCell';\nimport CanvasText  from './CanvasTextComponent';\nimport Tooltip  from './TooltipContainer';\n\nconst styles = theme => ({\n    content:{},\n    divHdrLeft : {\n\tdisplay: 'inline-block',\n\tjustifyContent: 'left',\n\tcursor: \"pointer\",\n    },\n    divHdrRight : {\n\tdisplay: 'inline-block',\n\tjustifyContent: 'right',\n\tcursor: \"pointer\",\n    },\n    paper: {\n//\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n\tpadding:0,\n\tmargin:0,\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n//\tborder:  '1px solid red',\n    },\n    divTableRow:  {\n\tbackgroundColor:teal_palette.main,\n\tborder: '0px solid #999999',\n\tdisplay: 'table-row',\n\tpadding: '0px',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableHead : {\n\tborder: '0px',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableHeading : {\n\tdisplay: 'table-header-group',\n    },\n    divTableHeadingCenter : {\n\tdisplay: 'flex',\n\tjustifyContent: 'center',\n    },\n    divTableFoot : {\n\tbackgroundColor: '#DDD',\n\tdisplay: 'table-footer-group',\n\tfontWeight: 'bold',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    },\n    paperImage: {\n        textAlign: 'center',\n        padding: theme.spacing.unit * 2,\n    }\n});\n\n//const mui = createTheme({palette:teal_palette});\n\n// ---------------- DATA\nfunction FirstDataCell (props) {\n    const { classes, state, colkey, rowkey, rowval, onclick, plan, rowindex } = props;\n    var cursor=classes.divTableCell;\n    if (onclick !== undefined) {\n\tcursor=classes.divTableCellCursor;\n    }\n    // width={plan.width} height={plan.height}\n    var data;\n    if (colkey===\"\" && rowkey===\"\") {\n\tdata=null;\n    } else {\n\tdata=JSON.stringify({colkey:colkey,rowkey:rowkey,rowval:rowval}); \n    };\n    if (rowindex%2 === 1) {\n\treturn (<div className={cursor} onClick={onclick} style={{backgroundColor:'#DDD'}}\n\t\tdata-for='cell' data-tip={data}>\n\t\t   <CanvasText state={state} label={rowval} plan={plan}/>\n\t\t</div>);\n    } else {\n\treturn (<div className={cursor} onClick={onclick} style={{backgroundColor:'#EEE'}}\n\t\tdata-for='cell' data-tip={data}>\n\t\t<CanvasText state={state} label={rowval} plan={plan}/>\n\t\t</div>);\n    }\n}\n//{rowval}\nfunction DataCell(props) {\n    const {classes,state,elements,mode,plan,rowindex,...other}=props;\n    if (elements===undefined) {\n\tif (rowindex%2===1) {\n\t    return <div className={classes.divTableCell} style={{backgroundColor:'#EEE'}}/>\n\t} else {\n\t    return <div className={classes.divTableCell} style={{backgroundColor:'#FFF'}}/>\n\t}\n    } else if (mode===state.Layout.modes.cell.Sum) {\n\treturn <SummaryCell {...other} state={state} elements={elements} plan={plan}/>\n\t//return null;\n    } else {\n\treturn <SeriesCell {...other} state={state} elements={elements} plan={plan}/>\n\t//return null;\n    }\n}\nfunction renderDataCell(classes,state,colkey,colvalues,rowkey,rowval,rowindex,rowwhere,range,mode,plan,val,index) {\n    //console.log(\"Making data cell:\",rowval,val,index,plan,JSON.stringify(colvalues));\n    if (index%plan.step === 0) {\n\t// get elements and range\n\t//console.log(\"Processing:\",val,colvalues[index],plan.step);\n\tvar elements=state.Matrix.getMatrixElements(colvalues,rowval,state.React.matrix,index,plan.step);\n\t//console.log(\"Elements:\",rowval,index,' =>',JSON.stringify(elements));\n\t// get count and colwhere\n        var cnt = Math.min(colvalues.length,index+plan.step)-index;\n        var colwhere = state.Database.getColWhere(colkey,colvalues,index,plan.step);\n\t// make onclick\n\tvar onclick=() => state.Navigate.selectItem(state,colkey,rowkey,colvalues[index],rowval,colwhere,rowwhere,cnt,1);\n\treturn (<DataCell classes={classes} state={state} key={`col-${index}`} rowindex={rowindex} index={index} onclick={onclick}\n\t\tcolkey={colkey} rowkey={rowkey} colvalues={colvalues} rowval={rowval} colwhere={colwhere} rowwhere={rowwhere} \n\t\telements={elements} mode={mode} plan={plan} range={range}\n\t    />);\n    } else {\n\treturn null;\n    }\n}\n//{{rowkey:'test1',colkey:'test2'}}\nfunction dataRow(classes,state,colkey,rowkey,colvalues,mode,plans,rowval,rowindex) {\n    var rowwhere=state.Database.getWhereDetail(rowkey,rowval);\n    var onclick=() => {state.Navigate.selectKey(state,rowkey,rowval,rowwhere,1);}\n    var range=[undefined,undefined];\n    if (state.React.matrix!==undefined) {\n\trange=state.Matrix.getRange(state,state.React.matrix,colvalues,[rowval]);\n    };\n    //console.log(\"Making data cols.\",rowval,colkey,JSON.stringify(colvalues));\n    //console.log(\"We have a matrix(\",rowval,\") with range:\",JSON.stringify(range));\n    var mapFunction= (val,index)=>renderDataCell(classes,state,colkey,colvalues,rowkey,rowval,rowindex,rowwhere,range,mode,plans.cell,val,index);\n    return (<div className={classes.divTableRow} key={rowindex.toString()}>\n\t    <FirstDataCell classes={classes} state={state} key={'0'} colkey={colkey} rowkey={rowkey} rowval={rowval} onclick={onclick} \n\t                   plan={plans.row} rowindex={rowindex}/>\n\t       {colvalues.map(mapFunction)}\n\t    </div>);\n};\nfunction renderZeroRow(classes,state,colkey,colvalues,plans) {\n    return (<div className={classes.divTableRow} key={1}>\n\t       <div className={classes.divTableCell} width={plans.cell.width}>No data available</div>\n\t    </div>);\n};\nfunction DataRows(props) {\n    const { classes, state, plans, colkey, colvalues, rowkey, rowvalues, mode } = props;\n    //console.log(\"Making data cols.\",colkey,JSON.stringify(colvalues));\n    var mapFunction= (val,index)=>dataRow(classes,state,colkey,rowkey,colvalues,mode,plans,val,index);\n    if (rowvalues.length===0) {\n\treturn renderZeroRow(classes,state,colkey,colvalues,plans);\n    } else {\n\treturn (rowvalues.map(mapFunction));\n    }\n}\n// ---------------- HDR\nfunction FirstHdrCell (props) {\n    const { classes, state, colkey, rowkey, plans } = props; // plan\n    //var width=plans.hdr.width;\n    //var height=plans.hdr.height;\n    //teal_palette\n    //console.log(\"Making first header cell.\",colkey,rowkey,plan.width,plan.height);\n    //style={{backgroundColor:teal_palette.main}}\n    var onclickCol=() => state.Navigate.switchTableKey(state,colkey);\n    var onclickRow=() => state.Navigate.switchTableKey(state,rowkey);\n    var data;\n    if (colkey===\"\" && rowkey===\"\") {\n\tdata=null;\n    } else {\n\tdata=JSON.stringify({colkey:colkey,rowkey:rowkey}); \n    };\n    return (<div style={{width:plans.hdr.width}}>\n\t       <div className={classes.divHdrRight} width={plans.hd2.width} onClick={onclickRow} data-for='cell' data-tip={data}>\n\t          <CanvasText state={state} label={rowkey} plan={plans.hd2} color={'white'}/>\n\t       </div>\n\t       <div className={classes.divHdrLeft} width={plans.hd1.width} onClick={onclickCol} data-for='cell' data-tip={data}>\n\t          <CanvasText state={state} label={colkey} plan={plans.hd1} color={'white'}/>\n\t       </div>\n\t    </div>);\n}\n//\n\nfunction renderHdrCell(classes,state,colkey,colvalues,rowkey,plan,val,index) {\n    if (index%plan.step === 0) {\n\t//console.log(\"HdrCell:\",index,plan.step);\n        var cnt = Math.min(colvalues.length,index+plan.step)-index;\n        var colwhere = state.Database.getColWhere(colkey,colvalues,index,plan.step);\n\tvar onclick=() => state.Navigate.selectKey(state,colkey,colvalues[index],colwhere,cnt);\n\tvar cursor=classes.divTableCell;\n\tif (onclick !== undefined) {\n\t    cursor=classes.divTableCellCursor;\n\t}\n\t//console.log(\"Plan:\",JSON.stringify(plan));\n\tvar data;\n\tif (colkey===\"\" && rowkey===\"\") {\n\t    data=null;\n\t} else {\n\t    data=JSON.stringify({colkey:colkey,rowkey:rowkey,colvalues:colvalues,index:index,step:plan.step}); \n\t};\n\treturn (<div className={cursor} onClick={onclick} style={{backgroundColor:'#DDD'}} key={`col-${index}`}  data-for='cell' data-tip={data}>\n\t\t   <CanvasText state={state} index={index} plan={plan} label={val}/>\n \t        </div> );\n     } else {\n\treturn null;\n    }\n}\nfunction HdrRow(props) {\n    const { classes, state, plans, colkey, colvalues, rowkey } = props; //, rowvalues\n    //console.log(\"Making header row.\",colkey,JSON.stringify(colvalues));\n    var mapFunction= (val,index)=>renderHdrCell(classes,state,colkey,colvalues,rowkey,plans.col,val,index);\n    return (<div className={classes.divTableRow} key={0}>\n\t       <FirstHdrCell classes={classes} state={state} colkey={colkey} rowkey={rowkey} plans={plans} style={{height:\"100%\"}}/>\n\t       {colvalues.map(mapFunction)}\n\t    </div>);\n}\n// ---------------- Details\nfunction Details(props) {\n    const { classes, state } = props; // classes, element\n    var colkey = state.Path.getColKey(state)||\"\";\n    var rowkey = state.Path.getRowKey(state)||\"\";\n    var colvalues = state.Path.filterKeys(state,state.Matrix.values[colkey]||[\"\"]);\n    var rowvalues = state.Path.filterKeys(state,state.Matrix.values[rowkey]||[\"\"]);\n    var cellMode  = state.Layout.getCellMode(state);\n    //var ncol=colvalues.length + 1;\n    //var nrow=rowvalues.length + 1;\n    //DOM.style.font\n    var border=0;\n    if (cellMode===state.Layout.modes.cell.Sum) {\n\tborder=1;\n    };\n    var width=0.9*window.innerWidth;\n    var height=0.94*window.innerHeight - 180;\n    var plans=state.Layout.makePlans(colkey,rowkey,colvalues,rowvalues,width,height,border);\n    //console.log(\"Heights:\",window.innerHeight,height,plans.hdr.height,plans.cell.height);\n    //console.log(\"Details => Width/Height:\",window.innerWidth,window.innerHeight,plan.cell.width,plan.hdr.height)\n    //console.log(\"Colkey:\",colkey,\" colval:\",JSON.stringify(colvalues));\n    //console.log(\"Rowkey:\",rowkey,\" rowval:\",JSON.stringify(rowvalues));\n\n    return (<div className={classes.divTable}>\n\t       <div className={classes.divTableBody}>\n\t          <HdrRow classes={classes} state={state} plans={plans} colkey={colkey} colvalues={colvalues} rowkey={rowkey} rowvalues={rowvalues}/>\n\t          <DataRows classes={classes} state={state} plans={plans} colkey={colkey} colvalues={colvalues} rowkey={rowkey} rowvalues={rowvalues} mode={cellMode}/>\n\t       </div>\n            </div>);\n }\nclass Table extends Component {\n    constructor(props) {\n\tsuper(props);\n\tconst {state} = props;\n\tstate.React.Table=this;\n    };\n    showTable() {\n\tconsole.log(\"Rebuilding table.\");\n\tthis.forceUpdate();\n    };\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    } \n    updateWindowDimensions = () => {\n        this.width= window.innerWidth;\n\tthis.height=window.innerHeight;\n\tthis.bbx=this.el.getBoundingClientRect();\n\t//console.log(\"Width/Height:\",this.width,this.height,this.bbx.width,this.bbx.height)\n    };\n    element(el) {\n\tif (el !== undefined && el !== null) {\n\t    this.el=el;\n\t    this.bbx=this.el.getBoundingClientRect();\n\t    //console.log(\"BBX width/height:\",this.bbx.width,this.bbx.height);\n\t};\n    };\n    render() {\n\tconst { classes, state } = this.props;\n\t//console.log(\"##### Rendering Table.\");\n\treturn (<div ref={el=>{this.element(el)}} className={classes.content}>\n\t\t   <Grid container spacing={24}>\n\t\t      <Grid item xs={12} > \n                         { <Paper className={classes.paper}>\n\t\t              <Details state={state} classes={classes} element={this}/>\n                           </Paper>}\n                      </Grid>\n                   </Grid>\n\t\t   <Tooltip state={state} classes={{button:classes.button}} element={this} type={'cell'}/>\n\t        </div>);\n    }\n}\n\nTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Table);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\n//import SummaryCell from './SummaryCell';\n//import CanvasText  from './CanvasTextComponent';\n//import Text        from './TextComponent';\n\n//\toverflow: 'hidden',\n\nconst styles = theme => ({\n    root: {\n\theight: '100%',\n    },\n    paper: {\n\ttableLayout: 'fixed',\n\tpadding:0,\n\tmargin:0,\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n    },\n    divTableRow:  {\n\tdisplay: 'table-row',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '3px 3px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px 0px',\n    },\n    divTableHead : {\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px 0px',\n    },\n    divTableHeading : {\n\tdisplay: 'table-header-group',\n    },\n    divTableHeadingCenter : {\n\tdisplay: 'flex',\n\tjustifyContent: 'center',\n    },\n    divTableFoot : {\n\tbackgroundColor: '#DDD',\n\tdisplay: 'table-footer-group',\n\tfontWeight: 'bold',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    }\n});\n// ---------------- DATA\nfunction renderDataList(classes,state,doc,plan,skey,fgcolor,bgcolor,index){\n    if (doc===undefined) {\n\treturn <div className={classes.divTableCell} style={{backgroundColor:'#EEE'}}/>\n    } else {    \n\tvar val=doc[skey];\n\tif (val === undefined) {val=\"\";};\n\t//console.log(\"Key:\",skey,\" Val:\",JSON.stringify(val),JSON.stringify(doc[skey]));\n\treturn (\n            <div className={classes.divTableCell} style={{color:fgcolor,backgroundColor:bgcolor}} key={skey}>\n\t\t{val}\n\t    </div>\n\t);\n    }\n};\nfunction renderDoc(classes,state,skeys,plan,doc,lev,index) {\n    //console.log(\"We have a matrix(\",rowval,\") with range:\",JSON.stringify(range));\n    //var lev=doc.level;\n    var bgcolor=state.Colors.getLevelBgColor(lev);\n    var fgcolor=state.Colors.getLevelFgColor(lev);\n    var mapFunction= (skey,index)=>renderDataList(classes,state,doc,plan,skey,fgcolor,bgcolor,index);\n    return (<div className={classes.divTableRow} key={index.toString()}>\n\t    {skeys.map(mapFunction)}\n\t    </div>);\n};\nfunction getDataRowList(classes,state,skeys,plans) {\n    const items=[];\n    var matrix=state.React.matrix;\n    //var ret=null;\n    if (matrix!==undefined) {\n\tvar colvalues=Object.keys(matrix);\n\tvar clen=colvalues.length;\n        for (var kk=0;kk<clen;kk++) {\n\t    var colval=colvalues[kk];\n\t    var list=matrix[colval];\n\t    if (list !== undefined) {\n\t\tvar rowvalues=Object.keys(list);\n\t\tvar rlen=rowvalues.length;\n\t\tfor (var ll=0;ll<rlen;ll++) {\n\t\t    var rowval=rowvalues[ll];\n\t\t    var element=state.Matrix.getMatrixElement(colval,rowval,matrix);\n\t\t    //console.log(\"We have a matrix with range:\",JSON.stringify(range));\n\t\t    if (element !== undefined && element.docs !== undefined) {\n\t\t\tvar lev=element.maxlev;\n\t\t\tvar mapFunction=(doc,index) =>renderDoc(classes,state,skeys,plans.cell,doc,lev,index);\n\t\t\titems.push(element.docs.map(mapFunction));\n\t\t    };\n\t\t};\n\t    }\n\t}\n    };\n    return items;\n};\n// ---------------- HDR\nfunction renderHdrList(classes,state,plan,val,index) {\n    //console.log(\"HdrCell:\",val);\n    var cursor=classes.divTableCell;\n    return (<div className={cursor} style={{backgroundColor:'#DDD'}} key={`col-${index}`} >\n\t    {val}\n \t    </div> );\n}\nfunction HdrRow(props) {\n    const { classes, state, plans, skeys } = props; //, rowvalues, label, cellMode\n    var mapFunction= (val,index)=>renderHdrList(classes,state,plans.col,val,index);\n    //console.log(\"Making header List row.\",JSON.stringify(skeys));\n    return (<div className={classes.divTableRow} key={'hdr'}>\n\t    {skeys.map(mapFunction)}\n\t    </div>);\n}\n// ---------------- Details\nfunction Details(props) {\n    const { classes, state } = props; // classes, \n    var cellMode  = state.Layout.getCellMode(state);\n    if (state.React.matrix === undefined) {\n\treturn (<div className={classes.divTable}>\n\t\t   <div className={classes.divTableBody}>\n\t\t      <div className={classes.devTableCell}>\n\t\t         {\"No Matrix defined\"}\n\t\t      </div>\n\t\t   </div>\n\t\t</div>\n\t       );\n    } else {\n        var skeys = state.Matrix.sortedKeys(state,state.Matrix.keyCnt);\n \t//DOM.style.font\n\tvar border=2;\n\tvar label=\"\";\n\tvar width=0.9*window.innerWidth;\n\tvar height=0.94*window.innerHeight - 180;\n\t//var height=0.8*(window.innerHeight-200);\n\tvar plans=state.Layout.makePlans(label,[\"\"],[\"\"],width,height,border,cellMode);\n\tvar items=getDataRowList(classes,state,skeys,plans);\n\t//console.log(\"Details => Width/Height:\",window.innerWidth,window.innerHeight,plan.cell.width,plan.hdr.height)\n\treturn (<div className={classes.divTable}>\n\t\t   <div className={classes.divTableBody}>\n\t\t      <HdrRow classes={classes} state={state} key={\"hdr\"} plans={plans} label={label} cellMode={cellMode} skeys={skeys}/>\n\t\t      {items}\n\t\t   </div>\n\t\t</div>\n\t       );\n    }\n};\n\nclass List extends Component {\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    } \n    updateWindowDimensions = () => {\n        this.width= window.innerWidth;\n\tthis.height=window.innerHeight;\n\tthis.bbx=this.el.getBoundingClientRect();\n\t//console.log(\"Width/Height:\",this.width,this.height,this.bbx.width,this.bbx.height)\n    };\n    element(el) {\n\tif (el !== undefined && el !== null) {\n\t    this.el=el;\n\t    this.bbx=this.el.getBoundingClientRect();\n\t    //console.log(\"BBX width/height:\",this.bbx.width,this.bbx.height);\n\t};\n    };\n    render() {\n\tconst { classes, state } = this.props;\n\t//console.log(\"##### Rendering List.\");\n\treturn (<div ref={el=>{this.element(el)}} className={classes.root}  style={{width: '100%', height: '100%'}}>\n\t\t <Grid container spacing={24}>\n\t\t  <Grid item xs={12} > \n                   { <Paper className={classes.paper}>\n\t\t       <Details state={state} classes={classes} element={this}/>\n                     </Paper>}\n                  </Grid>\n                 </Grid>\n\t        </div>);\n\t}\n}\n\nList.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(List);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\n\nimport { Map as LeafletMap, GeoJSON, TileLayer, Marker, Popup } from 'react-leaflet';\nimport worldGeoJSON from 'geojson-world-map';\nimport divIcon from 'leaflet';\n\n//\tbackground:'lightblue'\n//\tbackground:'red'\n\nconst styles = theme => ({\n    content: {},\n    paper: {\n\theight: '100%',\n\toverflow: 'hidden',\n\ttableLayout: 'fixed',\n\tpadding:0,\n\tmargin:0,\n    },\n    root: {\n\theight: '100%',\n\tpadding:0,\n\tmargin:0,\n\tborder: '5px solid red'\n    },\n    map: {\n\toverflow: 'hidden',\n\theight: '100%',\n    },\n    divHdrLeft : {\n\tdisplay: 'inline-block',\n\tjustifyContent: 'left',\n\tcursor: \"pointer\",\n    },\n    divHdrRight : {\n\tdisplay: 'inline-block',\n\tjustifyContent: 'right',\n\tcursor: \"pointer\",\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n    },\n    divTableRow:  {\n\tbackgroundColor:teal_palette.main,\n\tborder: '0px solid #999999',\n\tdisplay: 'table-row',\n\tpadding: '0px',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableCellCursor:{\n\tcursor: \"pointer\",\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableHead : {\n\tborder: '0px',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n    },\n    divTableHeading : {\n\tdisplay: 'table-header-group',\n    },\n    divTableHeadingCenter : {\n\tdisplay: 'flex',\n\tjustifyContent: 'center',\n    },\n    divTableFoot : {\n\tbackgroundColor: '#DDD',\n\tdisplay: 'table-footer-group',\n\tfontWeight: 'bold',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    },\n    paperImage: {\n        textAlign: 'center',\n        padding: theme.spacing.unit * 2,\n    }\n});\n\n\nclass GeoJsonMap extends Component {\n    constructor(props) {\n\tsuper(props);\n\tconst {state} = props;\n\tstate.React.Map=this;\n\tthis.bbx={height:0,width:0};\n    };    \n    handleClick() {\n\tthis.refs.map.leafletElement.locate();\n    }\n    componentDidMount() {\n        window.addEventListener(\"resize\", this.updateWindowDimensions);\n    } \n    updateWindowDimensions = () => {\n        this.width= window.innerWidth;\n\tthis.height=window.innerHeight;\n\tthis.bbx=this.el.getBoundingClientRect();\n\t//console.log(\"Width/Height:\",this.width,this.height,this.bbx.width,this.bbx.height)\n    };\n    element(el) {\n\tif (el !== undefined && el !== null) {\n\t    this.el=el;\n\t    this.bbx=this.el.getBoundingClientRect();\n\t    console.log(\"BBX width/height:\",this.bbx.width,this.bbx.height);\n\t};\n    };\n  render() {\n      const { classes, state } = this.props;\n      return (<div ref={el=>{this.element(el)}}\n\t         className={classes.content}\n\t         style={{position:'fixed', width: '90%', height: 'calc(95% - 160px)',overflow:'hidden'}} >\n\t         <LeafletMap className={classes.map}\n                    center={[60, 10]}\n                    zoom={3}\n                    maxZoom={10}\n                    attributionControl={true}\n                    zoomControl={false}\n                    doubleClickZoom={true}\n                    scrollWheelZoom={true}\n                    dragging={true}\n                    animate={true}\n                    easeLinearity={0.35} \n   \t         >\n                    <GeoJSON\n                       data={worldGeoJSON}\n                       style={() => ({\n\t\t \t   color: '#4a83ec',\n\t\t\t   weight: 0.5,\n\t\t\t   fillColor: \"#1a1d62\",\n\t\t\t   fillOpacity: 1,\n\t\t\t   zIndex: 1,\n\t\t       })}\n                    />\n\t\t    <divIcon position={{lat: 60,lng: 10}} style={{zIndex:'100'}}>\n\t\t       test\n\t\t    </divIcon>\n\t         </LeafletMap>\n\t      </div>\n\t     );\n  }\n}\n\nGeoJsonMap.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(GeoJsonMap);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n//import LinearProgress from '@material-ui/core/LinearProgress';\n\nconst styles = theme => ({\n    content: {\n\tpadding: '10%',\n\ttextAlign:'center',\n    },\n});\n\nfunction Progress(props) {\n  const { classes, color } = props;\n  if (color === \"\") {\n      return null;\n  } else {\n      return (\n\t  <div className={classes.content}>\n\t      <CircularProgress/> \n \t  </div>\n     );\n  }\n}\n\nProgress.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Progress);\n","import React, {Component} from \"react\";\nimport {withStyles} from \"@material-ui/core\";\nimport PropTypes from  \"prop-types\";\nimport Path      from  \"./PathComponent\";\nimport Table     from  \"./TableComponent\";\nimport List      from  \"./ListComponent\";\nimport Map       from  \"./MapComponent\";\nimport Progress  from './Progress';\n\n//console.log(\"Inside Dataset.\")\n\nconst styles = theme => ({\n    dataset:{},\n    content:{},\n});\n//        maxWidth: theme.spacing.getMaxWidth.maxWidth,\n\nfunction Switcher(props) {\n    const { state, classes, progress } = props;\n    //var skeys=state.Matrix.sortedKeys(state,state.Matrix.keyCnt);\n    //var dim        = state.Layout.getDim(state)\n    var mode       = state.Layout.getLayoutMode(props.state);\n    //console.log(\">>>>>> Switcher Dim:\",dim,\" mode:\",mode);\n    if (progress) { // processing\n\treturn (<div style={{width:'100%',margin:'0 auto'}}>\n\t          <Progress/>\n\t       </div>);\n    } else if (mode === state.Layout.modes.layout.Table) {\n\treturn (<Table state={state}   classes={classes}/>);\n    } else if (mode === state.Layout.modes.layout.List) {\n\treturn (<List  state={state}   classes={classes}/>);\n    } else if (mode === state.Layout.modes.layout.Map) {\n\treturn (<Map   state={state}   classes={classes}/>);\n    }\n};\n\nclass Dataset extends Component {\n    constructor(props) {\n        super(props);\n        const {state} = props;\n        state.React.Dataset=this;\n\tthis.state={progress:false};\n    };\n    showMatrix(state,matrix) {\n\tstate.React.matrix=matrix;\n\t//console.log(\"Datacomponent matrix:\",JSON.stringify(state.React.matrix));\n\tthis.forceUpdate();\n    };\n    setProgress(state,active) {\n\tstate.React.Dataset.setState({progress:active});\n\t//this.forceUpdate();\n    };\n    render() {\n        const { classes, state } = this.props;\n        return (\n            <div className={classes.dataset}>\n                <Path     state={state}/>\n\t\t<Switcher state={state} classes={{content:classes.content}} progress={this.state.progress}/>\n            </div>\n        );\n    }\n\n}\n\nDataset.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Dataset);\n","import {createMuiTheme} from \"@material-ui/core\";\n\nfunction createTheme(primary, secondary) {\n    return createMuiTheme({\n        palette: {\n            primary: Object.assign({}, primary, {\n                // special primary color rules can be added here\n            }),\n            secondary: Object.assign({}, secondary, {\n                // special secondary color rules can be added here\n            }),\n            // error: will use the default color\n        },\n        spacing: {\n            getMaxWidth: {\n                width: '100%',\n                maxWidth: '1200px',\n                margin: '0px auto',\n            }\n        },\n        overrides:{\n            MuiButton: {\n                root: {\n                    background: secondary.main\n                }\n            }\n        }\n    });\n\n\n}\n\nexport default (createTheme);\n","import React, {Component} from \"react\";\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    location: {\n\toverflow: \"hidden\",\n        whiteSpace: 'nowrap',\n        textAlign: 'center',\n\twidth:'100%',\n    },\n});\n\n//\tcolor: 'white',\n\nclass LocationComponent extends Component {\n    constructor(props) {\n\tsuper(props);\n\tconst {state} = props;\n\tstate.React.Location=this;\n    };\n    showLocation(state) {\n\t//console.log(\"Showing LocationComponent.\",JSON.stringify(state.Path.keys));\n\tthis.forceUpdate();\n    };\n    render() {\n        const { classes, state } = this.props;\n\tvar title=state.Path.getTitle(state);\n\t//console.log(\"###### Title:\",title);\n        return (\n            <div className={classes.location}>\n     \t\t{title}\n            </div>\n        );\n    }\n}\n\nLocationComponent.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(LocationComponent);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport ViewIcon from '@material-ui/icons/Explore';\nimport NoViewIcon from '@material-ui/icons/ExploreOff';\n//import ViewIcon from '@material-ui/icons/Visibility';\n//import NoViewIcon from '@material-ui/icons/VisibilityOff';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction ViewIconMode (props) {\n    const {state} = props;\n    var mode=state.Layout.state.viewMode;\n    if (mode === state.Layout.modes.view.path) {\n\treturn (<ViewIcon/>);\n    } else {\n\treturn (<NoViewIcon/>);\n    }\n};\nclass View extends Component {\n    render() {\n\tconst {classes, state}=this.props;\n\tvar onclick = (event) => state.Layout.toggleView(state);\n\treturn (\n\t\t<Button\n\t           className={classes.button}\n                   onClick={onclick}\n\t           title={\"Show path\"}\n\t\t >\n\t  \t    {<ViewIconMode state={state}/>}\n                 </Button>\n\t);\n    }\n}\n\nView.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(View);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport AutoIcon from '@material-ui/icons/Label';\nimport NoAutoIcon from '@material-ui/icons/LabelOff';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction AutoIconMode (props) {\n    const {state} = props;\n    if (state.Auto.complete) {\n\treturn (<AutoIcon/>);\n    } else {\n\treturn (<NoAutoIcon/>);\n    }\n};\nclass Auto extends Component {\n    render() {\n\tconst {classes, state}=this.props;\n\tvar onclick = (event) => state.Auto.toggle(state);\n\treturn (\n\t\t   <Button\n                      className={classes.button}\n                      onClick={onclick}\n\t              title={\"Autocomplete path\"}\n\t\t    >\n\t  \t       {<AutoIconMode state={state}/>}\n                    </Button>\n\t);\n    }\n}\n\nAuto.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Auto);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport TooltipIcon from '@material-ui/icons/Help';\nimport ClickTooltipIcon from '@material-ui/icons/HelpOutline';\nimport NoTooltipIcon from '@material-ui/icons/HighlightOff';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'title',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction TooltipIconMode (props) {\n    const {state} = props;\n    //console.log(\"TooltipComponent:\",state.Layout.state.tooltip);\n    if (state.Layout.state.tooltip===0) {\n\treturn (<TooltipIcon/>);\n    } else if (state.Layout.state.tooltip===1) {\n\treturn (<ClickTooltipIcon/>);\n    } else {\n\treturn (<NoTooltipIcon/>);\n    }\n};\nclass Tooltip extends Component {\n    render() {\n\tconst {classes, state}=this.props;\n\tvar onclick = (event) => state.Layout.toggleTooltip(state);\n\treturn (\n\t\t<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      onClick={onclick}\n\t              title={\"Show tooltip\"}\n\t\t    >\n\t  \t       {<TooltipIconMode state={state}/>}\n                    </Button>\n\t\t</div>\n\t);\n    }\n}\n\nTooltip.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Tooltip);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport SelIcon from '@material-ui/icons/Done';\n\nconst styles = theme => ({\n    key: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    selectchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n});\nclass SelectKey extends Component {\n    render() {\n\tconst { classes, state, title, keyitem } = this.props;//state, key, index, onclick, title, \n\tvar onclick=() => state.Layout.increaseSelect(state,keyitem);\n\treturn <Chip\n                  icon={<SelIcon />}\n                  label={keyitem}\n                  onClick={onclick}\n                  title={title}\n                  className={classes.selectchip}\n                  variant=\"outlined\"\n\t       />\n    };\n}\n\nSelectKey.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SelectKey);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SelectIcon from '@material-ui/icons/Done';\nimport SelectKey from './SelectKeyComponent';\n\nconst styles = theme => ({\n    select: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n    tableSelect: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\n//   className={classes.select}  -> horisontal layout\nfunction renderMenuItem(classes,state,keyitem,keyindex) {\n    return (<MenuItem key={keyitem}>  \n\t       <SelectKey state={state} title={keyitem} keyitem={keyitem}/>\n\t    </MenuItem>\n\t   );\n}\nclass SelectMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state } = this.props;\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar items=state.Path.keys.path||[];\n\t//items=items.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index);\n\t//console.log(\"Select.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\treturn (\n\t\t<div className={classes.tableSelect}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'selects-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Selected order\"}\n\t\t    >\n\t  \t       {<SelectIcon state={state}/>}\n                     </Button>\n\t\t     <Menu\n\t                className={classes.tableSelect}\n                        id=\"selects-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nSelectMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SelectMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport SelIcon from '@material-ui/icons/Done';\nimport TabIcon from '@material-ui/icons/Apps';\n\nconst styles = theme => ({\n    key: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    selectchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"blue\",\n    },\n    tablechip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"green\",\n        borderColor:\"blue\",\n    },\n    restchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    trashchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n        color:\"red\",\n        borderColor:\"red\",\n  },\n});\nfunction getChipClass(classes,keytype,keyactive) {\n    if (keytype === \"select\") {\n\tif (keyactive) {\n\t    return classes.selectchip;\n\t} else {\n\t    return classes.trashchip\n\t};\n    } else if (keytype === \"table\") {\n\treturn classes.tablechip\n    } else if (keytype === \"rest\") {\n\t    return classes.restchip\n    } else if (keytype === \"trash\") {\n\treturn classes.trashchip\n    } else  {\n\treturn classes.othchip\n    };\n};\nfunction getChipIcon(keytype) {\n    if (keytype === \"select\") {\n\treturn <SelIcon/>;\n    } else if (keytype === \"table\") {\n\treturn <TabIcon/>;\n    } else if (keytype === \"rest\") {\n\treturn null;\n    } else if (keytype === \"trash\") {\n\treturn null;\n    } else  {\n\treturn null;\n    };\n}\n\nclass Key extends Component {\n    render() {\n        const { classes, state, keyitem, keytype, keyactive } = this.props;\n\t//console.log(\"Rendering Key...\",keyitem,keytype,keyactive);\n\tvar chip=getChipClass(classes,keytype,keyactive);\n\tvar icon=getChipIcon(keytype);\n\tvar onclick=() => {\n\t    //console.log(\"Chip:\",keyitem,keytype,keyactive);\n\t    state.Navigate.onClickAddOther(state,keytype,keyitem,keyactive);\n\t};\n\treturn (\n\t\t<div className={classes.key}>\n\t \t   <Chip\n\t              icon={icon}\n\t              label={keyitem}\n\t              onClick={onclick}\n\t              className={chip}\n\t              variant=\"outlined\"\n\t\t   />\n\t\t</div>\n\t);\n    }\n}\n\nKey.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Key);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n//import KeyIcon from '@material-ui/icons/VpnKey';\nimport KeyIcon from '@material-ui/icons/Visibility';\nimport Key     from './KeyComponent';\n\nconst styles = theme => ({\n    settings:{},\n    config: {\n        marginLeft: 'auto',\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    trashchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n  },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction uniq(a,ignore) {\n    return a.sort().filter(function(item, pos, arr) {\n\tif (ignore.indexOf(item[0]) !== -1) {\n\t    return false;\n\t} else if (!pos) {\n\t    return true;\n\t} else {\n\t    if (item[0] !== arr[pos-1][0]) {\n\t\treturn true;\n\t    } else {     // items are equal\n\t\tif (item[1] === \"select\") {\n\t\t    arr[pos-1][1]=\"select\";\n\t\t} else if ( item[2] ) {\n\t\t    arr[pos-1][2]=true;\n\t\t}\n\t\treturn false;\n\t    }\n\t}\n    });\n};\nfunction renderMenuItem(classes,state,keyitem,keyindex) {\n    //console.log(\"Keys:\",keyitem,keyindex);\n    return (<MenuItem key={keyitem[0]}>\n\t       <Key state={state} keyitem={keyitem[0]} keytype={keyitem[1]} keyactive={keyitem[2]}/> \n\t    </MenuItem>);\n}\nclass KeyMenu extends Component {\n    state={anchor:null};\n    render() {\n\t//console.log(\"Rendering KeyComponents...\");\n        const { classes, state } = this.props;\n\t//console.log(\"Keys.starting:\",JSON.stringify(state.Path.other));\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar itms=state.Path.keys.path.map(function(item,index) {return [item,\"select\",false]}).concat(\n\t    state.Path.other.rest.map(function(item,index) {return [item,\"rest\",true]}),\n\t    state.Path.trash.map(function(item,index) {return [item,\"trash\",false]})\n\t).sort(state.Utils.ascendingArr);\n\tvar items=uniq(itms,state.Path.other.table);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index);\n\t//console.log(\"Keys.rendering:\",JSON.stringify(state.Path.other));\n\t//console.log(\"Keys.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\treturn (\n\t\t<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Available Table keys\"}\n\t\t    >\n\t  \t       {<KeyIcon state={state}/>}\n                     </Button>\n\t\t     <Menu\n                        id=\"keys-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nKeyMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(KeyMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\n\nconst styles = theme => ({\n    value: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    trashchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n  },\n});\nclass Value extends Component {\n    render() {\n        const { classes, state, keyitem, valueitem } = this.props;\n\tvar tpos=state.Path.trash.indexOf(valueitem);\n\tvar onclick=() => state.Path.bumpOrder(state,keyitem,valueitem);\n\tvar chip=(tpos!==-1 ? classes.trashchip : classes.othchip);\n\treturn (\n\t\t<div className={classes.value}>\n\t\t   <Chip\n\t              icon={null}\n\t              label={valueitem}\n\t              onClick={onclick}\n\t              className={chip}\n\t              variant=\"outlined\"\n\t\t   />\n\t\t</div>\n\t);\n    }\n}\n\nValue.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Value);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SortIcon from '@material-ui/icons/Sort';\nimport ValueIcon from '@material-ui/icons/Apps';\nimport OrderValue from './OrderValueComponent';\n\nconst styles = theme => ({\n    values: {\n\tdisplay: 'inline-block',\n        marginLeft: 'auto',\n\tverticalAlign : 'center',\n    },\n});\nfunction clearOrder(classes,state,keyitem) {\n    var onClick = ()=> {state.Path.bumpOrder(state,keyitem,\"\");};\n    return (<MenuItem key={\"button\"}>\n\t    <Button className={classes.button} onClick={onClick}>\n\t    {<SortIcon/>}\n\t    </Button>\n\t    </MenuItem>);\n};\nfunction renderMenuItem(classes,state,keyitem,valueitem,valueindex) {\n    return (<MenuItem value={valueitem} key={valueitem}>\n\t    <OrderValue state={state} keyitem={keyitem} valueitem={valueitem}/> \n\t    </MenuItem>);\n};\nclass OrderValueMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state, keyitem } = this.props;\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar items=state.Path.getOrderValues(state,keyitem);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,keyitem,item,index);\n\t//console.log(\"OrderValues.rendering\",keyitem);\n\treturn (\n\t\t<div className={classes.values} key={keyitem}>\n\t\t      <Button\n\t                 className={classes.button}\n                         aria-owns={this.state.anchor ? 'values-menu' : undefined}\n                         aria-haspopup=\"true\"\n                         onClick={this.onClick}\n\t\t      >\n\t  \t         {<ValueIcon state={state}/>} {keyitem}\n                      </Button>\n\t\t      <Menu\n                         id=\"values-menu\"\n\t                 anchorEl={this.state.anchor}\n                         open={Boolean(this.state.anchor)}\n                         onClose={this.onClose}\n\t\t      >\n\t\t        {items.map(mapFunction)}\n\t\t        {clearOrder(classes,state,keyitem)}\n\t              </Menu>\n\t\t</div>\n\t);\n    }\n};\nOrderValueMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(OrderValueMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport OrderIcon from '@material-ui/icons/Apps';\nimport OrderValueMenu from './OrderValueMenuComponent';\n\nconst styles = theme => ({\n    order: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n    tableOrder: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\n// \nfunction renderMenuItem(classes,state,keyitem,keyindex) {\n    return (<MenuItem className={classes.order} key={keyitem}>\n\t    <OrderValueMenu classes={classes} state={state} keyitem={keyitem}/>\n\t    </MenuItem>\n\t   );\n}\nclass OrderMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state } = this.props;\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar items=state.Path.other.table;\n\titems=items.sort(state.Utils.ascending);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index);\n\t//console.log(\"Order.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\treturn (<div className={classes.tableOrder}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'tableorders-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Value order\"}\n\t\t   >\n\t  \t       {<OrderIcon state={state}/>}\n                     </Button>\n\t\t     <Menu\n\t                className={classes.tableOrder}\n                        id=\"tableorders-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nOrderMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(OrderMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\n\nconst styles = theme => ({\n    priority: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    trashchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n  },\n});\nclass Priority extends Component {\n    render() {\n        const { classes, state, priorityitem } = this.props;\n\tvar tpos=state.Path.trash.indexOf(priorityitem);\n\tvar onclick=() => state.Layout.increasePriority(state,priorityitem);\n\tvar chip=(tpos!==-1 ? classes.trashchip : classes.othchip);\n\treturn (\n\t\t<div className={classes.priority}>\n\t \t   <Chip\n\t              icon={null}\n\t              label={priorityitem}\n\t              onClick={onclick}\n\t              className={chip}\n\t              variant=\"outlined\"\n\t\t   />\n\t\t</div>\n\t);\n    }\n}\n\nPriority.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Priority);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport PriorityIcon from '@material-ui/icons/VerticalAlignTop';\nimport Priority from './PriorityComponent';\n\nconst styles = theme => ({\n    settings:{},\n    prioritys: {\n\tdisplay: 'inline-block',\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction renderMenuItem(classes,state,priorityitem,priorityindex) {\n    return (<MenuItem priority={priorityitem} key={priorityitem}>\n\t       <Priority state={state} priorityitem={priorityitem}/> \n\t    </MenuItem>);\n}\nclass PriorityMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state } = this.props;\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null })};\n\tvar items=state.Layout.getPriorityKeys(state);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index);\n\t//console.log(\"Priorities.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\treturn (\n\t\t<div>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'prioritys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Column priority\"}\n\t\t    >\n\t  \t       {<PriorityIcon state={state}/>}\n                     </Button>\n\t\t     <Menu className={classes.prioritys}\n                        id=\"prioritys-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nPriorityMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(PriorityMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n    load: {\n\twidth: '100%',\n    }\n});\n\nclass Load extends Component {\n    render() {\n\tconst { classes, state } = this.props;\n\tlet fileReader;\n\tconst handleFileRead = (e) => {\n\t    const content = fileReader.result;\n\t    state.Default.resetSetup(state,content);\n\t}\n\tconst handleFileChosen = (file) => {\n\t    fileReader = new FileReader();\n\t    fileReader.onloadend = handleFileRead;\n\t    fileReader.readAsText(file);\n\t    state.Default.path=file;\n\t}\n\treturn (\n\t\t<div className={classes.load}>\n   \t  \t   <input type='file' id='file'\n\t              onChange={e=>handleFileChosen(e.target.files[0])}/>\n\t\t</div>\n\t);\n    }\n}\n\nLoad.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Load);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Upload from './UploadComponent';\nimport FileIcon from '@material-ui/icons/Save';\nimport DownloadIcon from '@material-ui/icons/CloudDownload';\n\nconst styles = theme => ({\n    file: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n\theight:'100%',\n    },\n    tableFile: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\n// \nfunction Download(props) {\n    const {state,classes}=props;\n    var onclick=() => {state.Default.save(state);};\n    var title=\"Download setup\";\n    return <Button className={classes.button} onClick={onclick} title={title}><DownloadIcon/></Button>;\n};\nclass FileMenu extends Component {\n    state={anchor:null};\n    render() {\n        const { classes, state } = this.props;\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\treturn (<div className={classes.tableFile}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'tablefiles-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Save/load setup\"}\n\t\t   >\n\t  \t       {<FileIcon state={state}/>}\n                     </Button>\n\t\t     <Menu\n\t                className={classes.tableFile}\n                        id=\"tablefiles-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        <MenuItem key=\"upload\"  className={classes.file} onClose={this.onClose}>\n\t\t           <Upload state={state}/>\n\t\t        </MenuItem>\n\t\t        <MenuItem key=\"download\"  className={classes.file} onClose={this.onClose}>\n\t\t           <Download state={state} classes={{button:classes.button}}/>\n\t\t        </MenuItem>\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nFileMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(FileMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport SelIcon from '@material-ui/icons/Done';\n\nconst styles = theme => ({\n    key: {\n\tdisplay: 'inline-block',\n        marginRight: 'auto',\n    },\n    selectchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"red\",\n        borderColor:\"green\",\n    },\n    restchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n    },\n});\nfunction getChipClass(classes,active) {\n    if (active) {\n\treturn classes.selectchip;\n    } else {\n\treturn classes.restchip\n    };\n};\nfunction getChipIcon(active) {\n    if (active) {\n\treturn <SelIcon/>;\n    } else  {\n\treturn null;\n    };\n}\n\nclass Archive extends Component {\n    render() {\n        const { classes, state, item, index, active } = this.props;\n\t//console.log(\"Rendering Archive...\",item,index,active);\n\tvar chip=getChipClass(classes,active);\n\tvar icon=getChipIcon(active);\n\tvar onclick=() => {\n\t    //console.log(\"Chip:\",item,index,active);\n\t    state.Database.selectIndex(state,item,index);\n\t};\n\t//console.log(\"...archive:\",JSON.stringify(item),JSON.stringify(index),active);\n\treturn (\n\t\t<div className={classes.archive}>\n\t \t<Chip\n\t    icon={icon}\n\t    label={item}\n\t    onClick={onclick}\n\t    className={chip}\n\t    variant=\"outlined\"\n\t\t/>\n\t\t</div>\n\t);\n    }\n}\n\nArchive.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Archive);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n//import ArchiveIcon from '@material-ui/icons/VpnArchive';\nimport ArchiveIcon from '@material-ui/icons/Unarchive';\nimport Archive     from './ArchiveComponent';\n\nconst styles = theme => ({\n    settings:{},\n    config: {\n        marginLeft: 'auto',\n    },\n    othchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"blue\",\n        borderColor:\"blue\",\n    },\n    trashchip: {\n        margin: theme.spacing.unit,\n\tcursor: \"pointer\",\n        color:\"gray\",\n        borderColor:\"gray\",\n  },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction renderMenuItem(classes,state,item,index) {\n    if (item[0]===\"\" || item[0] === null || item[0]===undefined) {\n\treturn null;\n    } else {\n\t//console.log(\"Archive:\",JSON.stringify(item),JSON.stringify(index));\n\treturn (<MenuItem key={item[0]}>\n\t\t<Archive state={state} item={item[0]}  index={item[1]} active={item[2]}/> \n\t\t</MenuItem>);\n    }\n}\nclass ArchiveMenu extends Component {\n    state={anchor:null};\n    render() {\n\t//console.log(\"Rendering ArchiveComponents...\");\n        const { classes, state } = this.props;\n\t//console.log(\"Archives.starting:\",JSON.stringify(state.Path.other));\n\tthis.onClick = event => {this.setState({ anchor: event.currentTarget });};\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tvar items=state.Database.files.map(\n\t    function(item,index) {\n\t\treturn [item,index,index===state.Database.index]\n\t    }\n\t).sort(state.Utils.ascendingArr);\n\tvar mapFunction= (item,index)=>renderMenuItem(classes,state,item,index);\n\t//console.log(\"Archives.rendering:\",JSON.stringify(state.Path.other));\n\t//console.log(\"Archives.rendering\",items.length,JSON.stringify(anchor),Boolean(anchor));\n\treturn (\n\t\t<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'keys-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Available database files.\"}\n\t\t    >\n\t  \t       {<ArchiveIcon state={state}/>}\n                     </Button>\n\t\t     <Menu\n                        id=\"archive-menu\"\n\t                anchorEl={this.state.anchor}\n                        open={Boolean(this.state.anchor)}\n                        onClose={this.onClose}\n\t\t     >\n\t\t        {items.map(mapFunction)}\n\t             </Menu>\n\t\t</div>\n\t);\n    }\n}\n\nArchiveMenu.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ArchiveMenu);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nimport FullscreenIcon from '@material-ui/icons/Fullscreen';\nimport NoFullscreenIcon from '@material-ui/icons/FullscreenExit';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction FullscreenIconMode (props) {\n    const {state} = props;\n    if (state.Layout.fullscreen) {\n\treturn (<NoFullscreenIcon/>);\n    } else {\n\treturn (<FullscreenIcon/>);\n    }\n};\nclass Fullscreen extends Component {\n    render() {\n\tconst {classes, state}=this.props;\n\tvar onclick = (event) => state.Layout.toggleFullScreen(state);\n\treturn (\n\t\t   <Button\n                      className={classes.button}\n                      onClick={onclick}\n\t              title={\"Toggle Full Screen\"}\n\t\t    >\n\t  \t       {<FullscreenIconMode state={state}/>}\n                    </Button>\n\t);\n    }\n}\n\nFullscreen.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Fullscreen);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeIcon from '@material-ui/icons/Home';\nimport FontIcon from '@material-ui/icons/TextFields';\n\nimport Reload       from './ReloadComponent';\nimport View         from './ViewComponent';\nimport Auto         from './AutoComponent';\nimport Tooltip      from './TooltipComponent';\nimport SelectMenu   from './SelectMenuComponent';\nimport KeyMenu      from './KeyMenuComponent';\nimport OrderMenu    from './OrderMenuComponent';\nimport PriorityMenu from './PriorityMenuComponent';\nimport FileMenu     from './FileMenuComponent';\nimport ArchiveMenu  from './ArchiveMenuComponent';\nimport FullScreen   from './FullScreenComponent';\n\nconst styles = theme => ({\n    settings: {\n        marginRight: 'auto',\n\tcolor:'red',\n    },\n    button:{color:'white'},\n});\nfunction Home(props) {\n    const {state,classes}=props;\n    var onclick=() => {state.Path.setHome(state);};\n    var title=\"Set home\";\n    return <Button className={classes.button} onClick={onclick} title={title}><HomeIcon/></Button>;\n};\nfunction Font(props) {\n    const {state,classes}=props;\n    var onclick=() => {state.Layout.changeFont(state);};\n    var title=\"Change font\";\n    return <Button className={classes.button} onClick={onclick} title={title}><FontIcon/></Button>;\n};\nclass Settings extends Component {\n    state = {anchor: null,};\n    render() {\n        const { state,classes } = this.props;\n\t//console.log(\"Rendering Settings...\");\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tthis.onClick = (event) => {this.setState({ anchor: event.currentTarget });};\n\treturn (<div>\n\t\t  <Button\n\t\t    className={classes.button}\n                    aria-owns={this.state.anchor ? 'settings-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={this.onClick}\n\t\t    title={\"Settings\"}\n\t\t   >\n\t\t   {<SettingsIcon />}\n                  </Button>\n\t          <Menu\n\t\t   settings={{float:'right'}}\n                   id=\"settings-menu\"\n\t           anchorEl={this.state.anchor}\n                   open={Boolean(this.state.anchor)}\n                   onClose={this.onClose}\n\t          >\n\t\t    <MenuItem key=\"reload\" onClose={this.onClose}>\n\t\t       <Reload state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"view\" onClose={this.onClose}>\n\t\t       <View state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"auto\" onClose={this.onClose}>\n\t\t       <Auto state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"tooltip\" onClose={this.onClose}>\n\t\t       <Tooltip state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"select\" onClose={this.onClose}>\n\t\t       <SelectMenu state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"order\" onClose={this.onClose}>\n\t\t       <OrderMenu state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"keys\" onClose={this.onClose}>\n\t\t       <KeyMenu state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"priorities\" onClose={this.onClose}>\n\t\t       <PriorityMenu state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"home\" onClose={this.onClose}>\n\t\t       <Home state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"font\" onClose={this.onClose}>\n\t\t       <Font state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"file\" onClose={this.onClose}>\n\t\t       <FileMenu state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"archive\" onClose={this.onClose}>\n\t\t       <ArchiveMenu state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t\t    <MenuItem key=\"screen\" onClose={this.onClose}>\n\t\t       <FullScreen state={state} classes={{button:classes.button}}/>\n\t\t    </MenuItem>\n\t          </Menu>\n\t\t</div>\n\t       );\n    }\n}\n\nSettings.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Settings);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport FlagIcon from '@material-ui/icons/Flag';\nimport BarIcon from '@material-ui/icons/BarChart';\nimport ListIcon from '@material-ui/icons/Details';\nimport MapIcon from '@material-ui/icons/Map';\n\nconst styles = theme => ({\n    view: {\n        marginLeft: 'auto',\n    },\n    button:{\n\tcolor:'white'\n    },\n});\nfunction getModes(state,mode) {\n    if (mode !== undefined) {\n\tvar layoutMode=0;\n\tvar cellMode=0;\n\tif (mode === \"FlagChart\") {\n\t    layoutMode=state.Layout.modes.layout.Table;\n\t    cellMode=state.Layout.modes.cell.Sum;\n\t} else if (mode === \"BarChart\") {\n\t    layoutMode=state.Layout.modes.layout.Table;\n\t    cellMode=state.Layout.modes.cell.Series;\n\t} else if (mode === \"List\") {\n\t    layoutMode=state.Layout.modes.layout.List;\n\t} else if (mode === \"MapChart\") {\n\t    layoutMode=state.Layout.modes.layout.Map;\n\t}\n\treturn {layout:layoutMode,cell:cellMode};\n    } else {\n\treturn {layout:state.Layout.state.layoutMode,cell:state.Layout.state.cellMode};\n    };\n};\nfunction ModeIcon (props) {\n    const {state,mode} = props;\n    var modes=getModes(state,mode);\n    var layoutMode=modes.layout;\n    var cellMode=modes.cell;\n    if (layoutMode === state.Layout.modes.layout.Table) {\n\tif (cellMode === state.Layout.modes.cell.Sum) {\n\t    return (<FlagIcon/>);\n\t} else {\n\t    return (<BarIcon/>);\n\t}\n    } else if (layoutMode === state.Layout.modes.layout.List) {\n\treturn (<ListIcon/>);\n    } else {\n\treturn (<MapIcon/>);\n    }\n};\nfunction renderMode (state,classes,onclose,mode,index) {\n    var modes=getModes(state,mode);\n    var layoutMode=modes.layout;\n    var cellMode=modes.cell;\n    var onclick = (event) => {state.Layout.toggleMode(state,layoutMode,cellMode);onclose();};\n    return (<MenuItem key={mode} onClose={onclose}>\n\t       <Button classes={{root:classes.button}} onClick={onclick} title={mode}>\n\t          <ModeIcon mode={mode} state={state}/>\n\t       </Button>\n\t    </MenuItem>);\n\t   };\nclass Mode extends Component {\n    state = {anchor: null,};\n    render() {\n\tconst {classes, state}=this.props;\n\tvar modes=[\"FlagChart\",\"BarChart\",\"List\",\"MapChart\"];\n\tthis.onClose = () => {this.setState({ anchor: null });};\n\tthis.onClick = (event) => {this.setState({ anchor: event.currentTarget });};\n\tvar mapFunction= (mode,index)=>renderMode(state,classes,this.onClose,mode,index);\n\treturn (<div className={classes.view}>\n\t\t   <Button\n                      className={classes.button}\n                      aria-owns={this.state.anchor ? 'mode-menu' : undefined}\n                      aria-haspopup=\"true\"\n                      onClick={this.onClick}\n\t              title={\"Select mode.\"}\n\t\t   >\n\t\t      {<ModeIcon state={state}/>}\n                   </Button>\n\t          <Menu\n                   id=\"mode-menu\"\n\t           anchorEl={this.state.anchor}\n                   open={Boolean(this.state.anchor)}\n                   onClose={this.onClose}\n\t          >\n\t\t    {modes.map(mapFunction)}\n\t          </Menu>\n\t\t</div>);\n    }\n}\n\nMode.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Mode);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n//import Grid from \"@material-ui/core/Grid/Grid\";\n\nimport Settings from './SettingsComponent';\nimport Mode         from './ModeComponent';\n\nimport UndoIcon from '@material-ui/icons/Undo';\nimport RedoIcon from '@material-ui/icons/Redo';\nimport HomeIcon from '@material-ui/icons/Home';\n\nconst styles = theme => ({\n    horisontal: {\n        marginLeft: 'auto',\n\tdisplay: 'flex',\n\tjustifyContent: 'flex-end',\n\talignItems:'right',\n    },\n    button: {\n\tcolor:'white',\n\t\"&$buttonDisabled\": {\n            color: theme.palette.primary.main,\n\t},\n    },\n    buttonDisabled: {},\n});\nfunction Undo(props) {\n    const {state,classes}=props;\n    var onclick=() => state.Navigate.undo(state);\n    var disundo=! state.Navigate.canUndo(state);\n    var title=\"Undo\";\n    return <Button classes={{root:classes.button,disabled:classes.buttonDisabled}} disabled={disundo} onClick={onclick} title={title}><UndoIcon/></Button>;\n};\nfunction Redo(props) {\n    const {state,classes}=props;\n    var onclick=() => state.Navigate.redo(state);\n    var disredo=! state.Navigate.canRedo(state);\n    var title=\"Redo\";\n    return <Button classes={{root:classes.button,disabled:classes.buttonDisabled}} disabled={disredo} onClick={onclick} title={title}><RedoIcon/></Button>;\n};\nfunction Home(props) {\n    const {state,classes}=props;\n    var onclick=() => state.Path.goHome(state);\n    var title=\"Home\";\n    return <Button className={classes.button} onClick={onclick} title={title}><HomeIcon/></Button>;\n};\nclass Config extends Component {\n    constructor(props) {\n        super(props);\n        const {state} = props;\n        state.React.Config=this;\n    };\n    show(state) {\n\t//console.log(\"Called Config.show...\");\n\tthis.forceUpdate();\n    };\n    render() {\n        const { classes, state } = this.props;\n\t//console.log(\"Rendering Config...\");\n\treturn (<div className={classes.horisontal}>\n\t\t   <Undo state={state} classes={classes}/>\n                   <Redo state={state} classes={classes}/>\n                   <Home state={state} classes={classes}/>\n\t\t   <Mode state={state} classes={{button:classes.button}}x/>\n                   <Settings state={state} classes={{button:classes.button}}/>\n\t\t</div>);\n    }\n}\n\nConfig.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Config);\n\n\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport AppBar    from '@material-ui/core/AppBar';\nimport Toolbar   from '@material-ui/core/Toolbar';\nimport logoImg   from '../images/Met_RGB_Horisontal_NO.png';\nimport { withStyles } from '@material-ui/core/styles';\nimport Location  from    \"./LocationComponent\";\nimport Config    from    \"./ConfigComponent\";\n\nconst styles = theme => ({\n    header:{},\n    logo: {\n        padding:'1%',\n        width: 150,\n        [theme.breakpoints.up('sm')]: {\n            width: 200\n        },\n    },\n});\n\n\n\nfunction Header(props) {\n    const { classes, state } = props;\n    return (\n        <div className={classes.header}>\n            <AppBar position={\"fixed\"} className={classes.header}>\n                <Toolbar>\n                    <img alt={\"homepage\"} className={classes.logo} src={logoImg}></img>\n\t            <Location state={state}/>\n\t            <Config state={state}/>\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}\n\nHeader.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Header);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport Grid from \"@material-ui/core/Grid/Grid\";\n\n\nconst styles = theme => ({\n    root: {\n        backgroundColor: theme.palette.primary.main,\n        marginTop: theme.spacing.unit * 8,\n        bottom: 0,\n        padding: `${theme.spacing.unit * 6}px 0`,\n        color: '#FFF'\n    },\n\n    text: {\n        maxWidth: theme.spacing.getMaxWidth.maxWidth,\n        margin: theme.spacing.getMaxWidth.margin,\n    },\n});\n\nfunction Adress(props) {\n    // const { classes } = props;\n    return (\n            <Grid item xs={12} sm={12}>\n             <Typography color={\"inherit\"}>\n               Meteorologisk institutt\n             </Typography>\n             <Typography color={\"inherit\"}>\n               Henrik Mohns Plass 1\n             </Typography>\n             <Typography color={\"inherit\"}>\n               0313 Oslo\n             </Typography>\n             <Typography color={\"inherit\"}>\n               Telefon 22 96 30 00\n             </Typography>\n            </Grid>\n    );\n}\n\nAdress.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Adress);\n","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from \"@material-ui/core/Typography/Typography\";\nimport { CompactPicker as Picker } from 'react-color';\n\n\n\nconst styles = theme => ({\n    root: {\n        backgroundColor: theme.palette.primary.main,\n        marginTop: theme.spacing.unit * 8,\n        bottom: 0,\n        padding: `${theme.spacing.unit * 6}px 0`,\n        color: '#FFF'\n    },\n\n    text: {\n        maxWidth: theme.spacing.getMaxWidth.maxWidth,\n        margin: theme.spacing.getMaxWidth.margin,\n    },\n    divTable :{\n\tdisplay: 'table',\n\twidth: '100%',\n//\tborder:  '1px solid red',\n    },\n    divTableBody : {\n\tdisplay: 'table-row-group',\n    },\n    divTableRow:  {\n\tborder: '0px solid #999999',\n\tdisplay: 'table-row',\n\tpadding: '0px',\n    },\n    divTableCell:{\n\tborder: '0px solid #999999',\n\tdisplay: 'table-cell',\n\tpadding: '0px',\n//\tborder:  '1px solid blue',\n    },\n});\nfunction renderItem(classes,state,bg,fg,level,el) {\n    var plans=state.Layout.makePlans();\n    //console.log(\"Showing palette:\",bg,fg,JSON.stringify(plans.hd2));\n    var onclick=() => {el.setState({ color:bg, level:level, pickerVisible: !el.state.pickerVisible })};\n    return (<div key={level} style={{color:fg,backgroundColor:bg,textAlign:'center'}} onClick={onclick} className={classes.divTableCell}>{level}</div>);\n};\nclass Disclaimer extends Component {\n    constructor(props) {\n        super(props);\n        const {state} = props;\n        state.React.Disclaimer=this;\n    };\n    state = {\n\tpickerVisible: false,\n\tcolor:\"#333\",\n\tlevel:0,\n    }\n    showDisclaimer(state) {\n\tthis.forceUpdate();\n    }\n    render() {\n\tconst { classes, state } = this.props;\n\tconst handleColorChange = ({ hex }) => {state.Colors.setLevelBgColor(this.state.level,hex);state.Show.show(state,false);}\n\tvar bgcolors=[];\n\tvar fgcolors=[];\n\tif (state.Colors.colors !== undefined) {\n\t    bgcolors=state.Colors.colors.background;\n\t    fgcolors=state.Colors.colors.foreground;\n\t} else {\n\t    console.log(\"No colors...\");\n\t}\n\tvar mapFunction= (val,index)=>renderItem(classes,state,bgcolors[index],fgcolors[index],index,this);\n\treturn (\n\t\t<div>\n\t\t<div className={classes.divTable}>\n\t\t<div className={classes.divTableBody}>\n\t\t<div className={classes.divTableRow}>\n\t    \t{bgcolors.map(mapFunction)}\n\t         </div>\n\t        </div>\n\t\t</div>\n\t\t{ this.state.pickerVisible && (\n\t\t\t<div style={{ position: 'absolute' }}>\n\t\t\t<Picker\n\t\t    color={this.state.color}\n\t\t    onChangeComplete={ handleColorChange }\n\t\t\t/>\n\t\t\t</div>\n\t\t) }\n\t\t</div>\n\t);\n    }\n};\n\n//\t\t<Typography color={\"inherit\"}>\n//\t\t***Colors do not represent official warning levels***\n//\t\t</Typography>\n\n\n    \nDisclaimer.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Disclaimer);\n","import React, { Component} from 'react';\nimport {withStyles} from '@material-ui/core/styles';\nimport PropTypes from \"prop-types\";\n\n// npm install notistack\nconst styles = theme => ({\n    content: {\n        flex: '1 0 auto',\n        paddingTop: '0rem',\n        marginLeft: 'auto',\n\talignItems:'right',\n    },\n    align:{\n\twidth: '100%',\n\ttextAlign:'center',\n    }\n});\n\n/**\n * The entire app get generated from this container.\n * We set the material UI theme by choosing a primary and secondary color from the metMuiThemes file\n * and creating a color palette with the createTheme method.\n * For information about using the different palettes see material UI documentation\n * \n * This app contains the database, path and matrix states...\n */\nclass Status extends Component {\n    constructor(props) {\n\tsuper(props);\n\tprops.state.React.Status = this;\n\tthis.state={msg:\"\"};\n    };\n    // set dataset age\n    setAge(state,age) {\n\t//console.log(\"Age...\",state.Database.mod,age);\n\tthis.setState({msg:age});\n    };\n    setFootnote(state,msg) {\n\t//console.log(\"Setlog...\",this.state.msg,\" -> \",msg);\n\tthis.setState({msg:msg});\n\t//this.forceUpdate();\n    };\n    render() {\n        const { classes } = this.props;\n        return (\n                <div className={classes.content}>\n\t\t   <div className={classes.align}>\n\t\t      <div>{this.state.msg}</div>\n\t\t   </div>\n                </div>\n        );\n    }\n}\nStatus.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Status);\n\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport {teal_palette} from '../mui/metMuiThemes';\n\nimport Grid from \"@material-ui/core/Grid/Grid\";\nimport Adress from \"./Adress\";\nimport Disclaimer from \"./Disclaimer\";\nimport Status from \"./Status\";\n\n\nconst styles = theme => ({\n    footer: {\n\tbackgroundColor:teal_palette.main,\n\tcolor:'white',\n    },\n    text: {\n        maxWidth: theme.spacing.getMaxWidth.maxWidth,\n        margin: theme.spacing.getMaxWidth.margin,\n\twidth:'90%',\n    },\n});\n\nfunction Footer(props) {\n    const { classes, state } = props;\n    return (\n\t<div className={classes.footer}>\n            <Grid container spacing={24} className={classes.text}>\n\t       <Grid item xs={3}>\n \t          <Adress />\n\t       </Grid>\n\t       <Grid item xs={6}>\n\t          <Disclaimer state={state}/>\n\t       </Grid>\n\t       <Grid item xs={5} style={{position: 'absolute', right: 0}}>\n\t          <Status state={state}/>\n\t       </Grid>\n\t    </Grid>\n        </div>\n    );\n}\n// style={{border: '1px solid red'}}\n\nFooter.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Footer);\n","//console.log(\"Loading ColorsLib.js\");\n\nfunction Colors() {\n    this.colors=undefined; // loaded from defaults file...\n    this.init=function(state){\n\tstate.Utils.init(\"Colors\",this);\n    };\n    this.setLevelBgColor=function(level,color) {\n\tthis.colors.background[level]=color;\n    };\n    this.setLevelFgColor=function(level,color) {\n\tthis.colors.foreground[level]=color;\n    };\n    this.getLevelBgColor=function(level) {\n\tif (level !== undefined && level >= 0 && this.colors !== undefined) {\n\t    return this.colors.background[level];\n\t};\n    };\n    this.getLevelFgColor=function(level) {\n\tif (level !== undefined && level >= 0 && this.colors !== undefined) {\n\t    return this.colors.foreground[level];\n\t};\n    };\n    this.setPathBorderColor=function(state,color) {\n\tvar cols = document.getElementsByClassName(\"path\");\n\tvar clen=cols.length;\n\tfor(var ii=0; ii<clen; ii++) {\n\t    cols[ii].style.border = \"1px solid \"+color;\n\t}\n    }\n}\nexport default Colors;\n","//console.log(\"Loading FileLib.js\");\n\nfunction File() {\n    this.ready=true;\n    this.next=function(state, response, callbacks ) {\n\t//console.log(\"Next:\",JSON.stringify(callbacks));\n\tif (callbacks !== undefined) {\n\t    var callback=callbacks.shift();\n\t    if (callback !== undefined) {\n\t\tsetTimeout(callback(state,response,callbacks),0.1);\n\t    }\n\t}\n    }\n    this.load=function(state, file, callbacks ) {\n\t//console.log(\"Loading:\",JSON.stringify(file),JSON.stringify(callbacks));\n\tif (state.File.ready) { // make sure we do not re-load if we are already loading\n\t    state.File.ready=false;\n\t    state.Html.setFootnote(state, \"Server-request: \"+file);\n\t    state.Html.setProgress(state, true);\n\t    var regHttp = new XMLHttpRequest();\n\t    regHttp.addEventListener(\"progress\",(e)=>state.Html.progressInfo(state,e));\n\t    //regHttp.addEventListener(\"load\",(e)=>state.Html.loadInfo(state,e));\n\t    regHttp.addEventListener(\"error\",(e)=>state.Html.errorInfo(state,e));\n\t    regHttp.addEventListener(\"abort\",(e)=>state.Html.abortInfo(state,e));\n\t    regHttp.onreadystatechange = function() {\n\t\tstate.File.ready=true;\n\t\tif (regHttp.readyState  === 4) {\n\t\t    if (regHttp.status  === 200) {\n\t\t\t//console.log(regHttp.responseText);\n\t\t\tvar response = regHttp.responseText;\n\t\t\t//console.log(\"Ready:\",file,regHttp.readyState,regHttp.status,JSON.stringify(response))\n\t\t\tstate.File.next(state,response,callbacks);\n\t\t    } else {\n\t\t\tstate.Html.setFootnote(state,\"Unable to load \"+file);\n\t\t\tstate.Html.setProgress(state, false);\n\t\t\t//state.Html.setConsole(file+\" error\");\n\t\t    }\n\t\t} else {\n\t\t    state.Html.setFootnote(state,file+\" error\");\t\t\n\t\t    state.Html.setProgress(state, false);\n\t\t};\n\t    };\n\t    regHttp.responseType=\"\";\n\t    regHttp.overrideMimeType(\"text/text\");\n\t    //console.log(\"Http file:\",JSON.stringify(file));\n\t    regHttp.open(\"GET\", file, true);\n\t    regHttp.setRequestHeader('cache-control', 'no-cache, must-revalidate, post-check=0, pre-check=0');\n\t    regHttp.setRequestHeader('cache-control', 'max-age=0');\n\t    regHttp.setRequestHeader('expires', '0');\n\t    regHttp.setRequestHeader('expires', 'Tue, 01 Jan 1980 1:00:00 GMT');\n\t    regHttp.setRequestHeader('pragma', 'no-cache');\n\t    regHttp.send(); \n\t} else {\n\t    //state.Html.setConsole(\"\");\n\t    state.Html.setFootnote(state,\"Already waiting for reply...\");\n\t    state.Html.setProgress(state, true);\n\t};\n    };\n};\n\nexport default File;\n","//console.log(\"Loading DatabaseLib.js\");\n\nconst alasql = window.alasql;\n\nfunction Database() {\n    var ret;\n    this.files=[\"1.json\"];                  // json data file\n    this.loaded=\"\";\n    this.index=0;\n    this.cnt=0;\n    this.keyCnt={};\n    this.values= {};\n    this.epoch0=0;\n    this.data=\"data/\";\n    this.regfile=\"register\";      // register file (shows current datfile)\n    this.arrayConstructor=[].constructor;\n    this.objectConstructor={}.constructor;\n    this.casc=0; // key is sorted ascending\n    this.cdes=1; // key is sorted descending\n    this.nasc=2; // key is sorted ascending\n    this.ndes=3; // key is sorted descending\n    this.delay=600000;  // server-polling period in ms\n    this.ready=true;     // can we poll server or is another poll running\n    this.log=\"\";\n    this.mod=\"\";\n    this.keytrg={Missing:-1,\n\t\t Null:0,\n\t\t Value:1,\n\t\t Min:2,\n\t\t Max:3\n\t\t};\n    this.init=function(state,response,callbacks){\n        state.Colors.init(state);\n        state.Path.init(state);\n        state.Layout.init(state);\n        state.Threshold.init(state);\n\tstate.Utils.init(\"Database\",this);\n\tstate.File.next(state,response,callbacks);\n    }.bind(this);\n    this.updateLoop=function(state) {\n\t//console.log(\"Updating database...\");\n\tthis.setTime(state);\n\tthis.load(state);\n\tsetTimeout(function() {\n\t    state.Database.updateLoop(state)\n\t},state.Database.delay); //state.Database.delay\n    }.bind(this);\n    this.load=function(state) {\n\tconsole.log(\"Database load number:\",++this.cnt);\n\tif (state.Database.index === 0) {\n\t    state.Database.loadRegister(state,\"\",\n\t\t\t\t\t[state.Database.processRegister,\n\t\t\t\t\t state.Database.loadData,\n\t\t\t\t\t state.Database.processData\n\t\t\t\t\t]);\n\t};\n    };\n    this.loadRegister=function(state, response, callbacks ) {\n\tvar path=(state.Database.data||\"data/\") + state.Database.regfile;\n\tconsole.log(\"Database loadRegister:\",path);\n\tstate.File.load(state,path,callbacks);\n    };\n\n    this.processRegister=function(state,response,callbacks) {\n\tvar files=response.split('\\n');\n\tvar file=files[Math.min(files.length-1,state.Database.index)]; // register-respo\n\tstate.Database.files=files;\n\tstate.Database.index=Math.min(files.length-1,state.Database.index)\n\tstate.File.next(state,file,callbacks);\n    };\t\n    this.loadData=function(state, file, callbacks ) {\n\t//console.log(\"Database loadData:\",JSON.stringify(file));\n\tif (file !== state.Database.loaded) { // load new data\n\t    state.Database.loaded=file;\n\t    // console.log(\"Files:\",JSON.stringify(state.Database.files));\n\t    var path=(state.Database.data||\"data/\") + file;\n\t    //console.log(\"Database loadPath:\",JSON.stringify(path));\n\t    state.File.load(state,path,callbacks);\n\t} else {\n\t    //console.log(\"Setting footer...\");\n\t    state.Html.setFootnote(state);\n\t}\n    };\n    this.processData=function(state,response,callbacks) {\n\t//console.log(\"Database processData.\");\n\tsetTimeout(function() {\n\t    try {\n\t\tstate.Database.json=JSON.parse(response);\n\t    } catch (e) {\n\t\talert(\"Data '\"+state.Database.files[state.Database.index]+\"' contains Invalid JSON:\"+e.name+\":\"+e.message);\n\t    }\n\t    if (state.Database.json !== undefined) {\n\t\tstate.Database.processJson(state,state.Database.json,callbacks);\n\t    }\n\t},0.1);\n    };\n    this.processJson=function(state,json,callbacks) {\n\tstate.Database.dbInsert(state,json);\n\tstate.Html.setFootnote(state,\"Extracting data.\");\n\tsetTimeout(function() {\n\t    state.Database.makeWhere(state); // update where-expressions...\n\t    state.Show.showAll(state);\n\t    state.Html.setFootnote(state);\n\t    state.File.next(state,\"\",callbacks);\n\t},0.1);\n    };\n    this.resetSetup=function(state) {\n\tif (state.Database.json !== undefined) {\n\t    state.Database.processJson(state,state.Database.json);\n\t}\n    };\n    this.selectIndex=function(state,item,index) {\n\tconsole.log(\"Setting file index:\",index,item);\n\tstate.Database.index=Math.max(0,Math.min(index,state.Database.files.length-1));\n\tstate.Database.loadData(state,item,[state.Database.processData]);\n    };\n    this.getTime=function(state,s) {\n\tvar nn = s.match(/\\d+/g).map(Number);\n\tvar date0 = new Date(Date.UTC(nn[0],nn[1]-1,nn[2],nn[3],nn[4],nn[5],\n\t\t\t\t      ((nn[6]||'')+'000').slice(0,3))); // modification time\n\t//console.log(\"Gettime:\",s,JSON.stringify(nn));\n\treturn date0.getTime();\n    };\n    this.setTime=function(state) {\n\tvar d = new Date();\n\tvar epoch=d.getTime();\n\t//console.log(\"Times:\",epoch,this.epoch0);\n\tif (this.epoch0 !== undefined) {\n\t    var age = epoch - this.epoch0;\n\t    this.mod=this.getTimeDiff(state,age);\n\t    if (state.React !== undefined && state.React.Status !== undefined) {\n\t\tstate.React.Status.setAge(state,this.mod);\n\t\t//console.log(\"Age:\",epoch,this.epoch0,age);\n\t    }\n\t}\n    };\n    this.getKeyValues=function(state, key) {\n\t//console.log(\"Database:\",JSON.stringify(state.Database.values));\n\tvar vals=state.Database.values[key];\n\tif (vals !== undefined) {\n\t    return vals;\n\t} else {\n\t    return [];\n\t}\n    };\n    this.getKeytrg=function(state,key,val) {\n\tif (Array.isArray(val)) {\n\t    //console.log(\">>>Is array:\",key,JSON.stringify(val));\n\t    ret=this.keytrg.Missing;\n\t    var lenv=val.length;\n            for (var ii=0;ii<lenv;ii++) {\n\t\tret=Math.max(ret,this.getKeytrg(state,key,val[ii]));\n            }\n\t    //console.log(\">>>return:\",key,ret);\n\t} else { \n\t    if (val === \"null\") {\n\t\tret=this.keytrg.Null;\n\t    } else if (val===\"MIN(\"+key+\")\") { // this is a function\n\t\tret=this.keytrg.Min;\n\t    } else if (val===\"MAX(\"+key+\")\") { // this is a function\n\t\tret=this.keytrg.Max;\n\t    } else if (val === undefined) {\n\t\tret=this.keytrg.Missing;\n\t    } else if (val === null) {\n\t\tret=this.keytrg.Null;\n\t    } else {\n\t\tret=this.keytrg.Value;\n\t    };\n\t    //console.log(\"---return:\",key,ret);\n\t};\n\treturn ret;\n    };\n    this.makeKeytrg=function(state,key,keytrg,val) {\n\tif (keytrg === this.keytrg.Missing) {\n\t    return \"missing\";\n\t} else if (keytrg === this.keytrg.Null) {\n\t    return \"null\";\n\t} else if (keytrg === this.keytrg.Min) {\n\t    return \"MIN(\"+key+\")\"\n\t} else if (keytrg === this.keytrg.Max) {\n\t    return \"MAX(\"+key+\")\"\n\t} else {\n\t    return val;\n\t};\n    };\n    this.dbInsert=function(state,json) {\n\tvar ii,key;\n\ttry {\n\t    // set home\n\t    var len=json.data.length\n\t    for (ii=0;ii<len;ii++) {\n\t\tjson.data[ii][\"cnt\"]=ii\n\t    }\n\t    // get modified date\n\t    //console.log(\"Setting time.\");\n\t    this.epoch0=this.getTime(state,json.epoch);     // data file time\n\t    this.setTime(state);     // data file time\n\t    // make database for raw data\n\t    this.makeTable(state);\n\t    // reset key counts and range\n\t    this.cnt=0;\n\t    this.keyCnt={}; // reset key-count\n\t    // put data into databse\n\t    //console.log(\"inserting\");\n\t    var data=[];\n\t    var home=state.Path.home.val;\n\t    var hkeys=state.Path.home.path;//Object.keys(home);\n\t    var homeKeys=[];\n\t    var delayKeys=[];\n\t    var lenh=hkeys.length;\n            for (ii=0;ii<lenh;ii++) {\n\t\tkey=hkeys[ii];\n\t\tvar keytrg=this.getKeytrg(state,key,home[key]);\n\t\t//console.log(\"Keytrg:\",key,keytrg,JSON.stringify(home[key]));\n\t\tif (keytrg <= this.keytrg.Value) {\n\t\t    homeKeys.push(key);\n\t\t} else {\n\t\t    delayKeys.push(key);\n\t\t}\n            }\n\t    //console.log(\"Home keys:\",JSON.stringify(homeKeys),\" delayed:\",JSON.stringify(delayKeys));\n\t    var rcnt=this.extractData(state,data,{},\"\",json.data,homeKeys,home);\n\t    console.log(\"Count:\",rcnt);\n\t    //console.log(\"Data:\",JSON.stringify(data));\n\t    this.dataToDb(state,data);\n\t    //var nrec=this.sanityCheck(state)\t    // sanity check\n\t    //console.log(\"Initially:\",data.length,\" Extracted:\",rcnt,' Database:',nrec);\n\t    this.postProcess(state); // update distinct Database.values[key]\n\t    if (delayKeys.length > 0) {// delayed home selection (MAX() and MIN())\n\t\tthis.makeWhere(state,delayKeys,home);\n\t\tvar where=this.getWhere(state,delayKeys,home);\n\t\tvar docs=this.getDocs(state,where);\n\t\tthis.dataToDb(state,docs)\n\t\tthis.postProcess(state); // update distinct Database.values[key]\n\t    };\n\t    state.Path.makePath(state); // initialise path\n\t    //console.log(\"Indexing and cleaning up.\");\n\t    this.dbindex(state,state.Path.other.table); // make indexes\n\t    this.dbindex(state,state.Path.other.rest); // make indexes\n\t    //state.Path.checkTableKeys(state);\n\t    state.Html.broadcast(state,\"Database is ready.\");\n\t    //console.log(\"Database is ready.\");\n\t} catch (e) {\n\t    alert(\"Db-insert error:\"+e);\n\t};\n    };\n    this.updateKeyCnt=function(state,key,val) {\n\tif (this.keyCnt[key] === undefined) {\n\t    this.keyCnt[key]={cnt:0,type:\"num\",order:this.nasc};\n\t}\n\tthis.keyCnt[key].cnt=(this.keyCnt[key].cnt)+1;\n\tif (this.keyCnt[key].type  === \"num\" && isNaN(val)) {\n\t    this.keyCnt[key].type=\"nan\";\n\t    this.keyCnt[key].order=this.casc;\n\t}\n    };\n    this.postProcess=function(state) { // update meta-data\n\tvar keys=Object.keys(state.Database.keyCnt);\n\tvar lenk=keys.length;\n\tfor (var ii=0;ii<lenk;ii++) {\n\t    var key=keys[ii];\n\t    // make list of values in Database for each key\n\t    state.Database.values[key]=[];\n\t    var sql=\"select DISTINCT \"+key+\" AS \"+key+\" FROM alarm\";\n\t    var dd0=this.query(sql);\n\t    var lend=dd0.length;\n\t    for (var jj=0;jj<lend;jj++) {\n\t\tvar doc=dd0[jj];\n\t\tstate.Database.values[key].push(doc[key]);\n\t    };\n\t};\n    };\n    this.extractData=function(state,data,parent,key,raw,hkeys,home) { // insert records into db (recursive)\n\tvar rcnt=0;\n\tvar kk,ii,kii,child,dkey;\n\t//console.log(\"Processing {\",state.Utils.toString(parent),\"} '\",key,\"' (\",state.Utils.toString(raw),\")\");\n\tvar wii=this.whatIsIt(raw);\n\tif (wii  === \"Object\" && key  === \"\") {\n\t    //console.log(\"Found object (\",state.Utils.toString(parent),\")\");\n\t    child=state.Utils.cp(parent);\n\t    // loop over plain values first\n\t    for (kk in raw) {\n\t\tkii=this.whatIsIt(raw[kk]);\n\t\tif (kii  === \"value\") {\n\t\t    child[kk]=raw[kk];\n\t\t}\n\t    }\n\t    // loop over sub-objects\n\t    var nn=0;\n\t    for (kk in raw) {\n\t\tkii=this.whatIsIt(raw[kk]);\n\t\tif (kii !== \"value\") {\n\t\t    nn=nn+1;\n\t\t    rcnt=rcnt+this.extractData(state,data,child,kk,raw[kk],hkeys,home);\n\t\t}\n\t    }\n\t    if (nn  === 0) { // insert \n\t\t//console.log(\"Object was empty.\");\n\t\trcnt=rcnt+this.extractData(state,data,child,null,null,hkeys,home);\n\t    }\n\t} else if (wii  === \"Object\" && key !== \"\") {\n\t    //console.log(\"Found object key '\",key,\"' (\",state.Utils.toString(parent),\")\");\n\t    child=state.Utils.cp(parent);\n\t    // loop over plain values first\n\t    for (kk in raw) {\n\t\tchild[key]=kk;\n\t\trcnt=rcnt+this.extractData(state,data,child,\"\",raw[kk],hkeys,home);\n\t    }\n\t} else if (wii  === \"Array\") {\n\t    //console.log(\"Found array key '\",key,\"' (\",state.Utils.toString(parent),\")\");\n\t    var dlen = raw.length;\n\t    for (ii = 0; ii < dlen; ii++) {\n\t\trcnt=rcnt+this.extractData(state,data,parent,key,raw[ii],hkeys,home);\n\t    }\n\t} else {\n\t    //console.log(\"Found key '\",key,\"' \",wii,\" (\",state.Utils.toString(parent),\")\");\n\t    var keep=true;\n\t    var doc=state.Utils.cp(parent);\n\t    if (raw !== null) {\n\t\tif (key  === \"\") {\n\t\t    doc.value=raw;\n\t\t} else {\n\t\t    doc[key]=raw;\n\t\t}\n\t    }\n\t    // check if home criteria is met\n\t    var lenh=hkeys.length;\n\t    for (ii=0;ii<lenh;ii++) {\n\t\tkey=hkeys[ii];\n\t\tvar vals=home[key];\n\t\tvar lenv=vals.length;\n\t\tvar found=false;\n\t\tfor (var jj=0;jj<lenv;jj++){\n\t\t    if (vals[jj]===doc[key] || (vals[jj]===\"\" && doc[key]===undefined)) {\n\t\t\tfound=true;\n\t\t    }\n\t\t}\n\t\tif (!found) {\n\t\t    keep=false;\n\t\t};\n\t    }\n\t    if (keep) {\n\t\t//console.log(\"Updating internal raw structure\",JSON.stringify(setup));\n\t\tfor (dkey in doc) {\n\t\t    var val=doc[dkey];\n\t\t    this.updateKeyCnt(state,dkey,val);\n\t\t    //// this takes too much time...\n\t\t    //if (this.values[dkey]  === undefined) {\n\t\t    //\tthis.values[dkey]=[];\n\t\t    //  };\n\t\t    ////console.log(\"Setup:\",JSON.stringify(setup));\n\t\t    ////console.log(\"Key:\",key,JSON.stringify(this.values));\n    \t\t    //if (this.values[dkey].indexOf(val)  === -1 ) { // value not in range\n\t\t    //    this.values[dkey].push(val); // add value to range\n\t\t    //};\n\t\t};\n\t\t//console.log(\">>> Inserting:\",state.Utils.toString(doc));\n\t\trcnt=rcnt+1;\n\t\tthis.cnt=this.cnt+1;\n\t\tstate.Threshold.setThresholds(doc);\n\t\tdoc._title=state.Layout.makeDocTitle(state,doc);\n\t\t//if (this.cnt < 10) { // debug purposes\n\t\t//for (key in keys) {\n\t\t//this.updateKeyCnt(state,key,doc[key]);\n\t\t//};\n\t\tdata.push(doc);\n\t    //} else {\n\t\t//console.log(\"Ignoring:\",lenh,JSON.stringify(hkeys),JSON.stringify(home),JSON.stringify(doc));\n\t    }\n\t}\n\treturn rcnt;\n    };\n    this.dbextract=function(state,showFunc) { // extract data from db and show\n\t// extract data from db and insert into data-array\n\t// var parent={};//{test:{$exists:false}};\n\tvar where = this.getWhere(state);\n\tvar cntDocs0=this.getDocsCnt(state,where);\n\tvar nrec= (cntDocs0.length===0?0:cntDocs0[0].cnt);\n\tvar m={};\n\tstate.Matrix.cnt=nrec;\n\tif (nrec > state.Matrix.popSeries) { // maintain keyCnt\n\t    var buff=[];\n\t    state.Utils.cpArray(buff,state.Path.keys.path);\n\t    state.Utils.cpArray(buff,state.Path.keys.other);\n\t    state.Utils.cpArray(buff,state.Path.trash);\n\t    state.Matrix.initKeyCnt(state);\n\t    state.Matrix.makeKeyCnt(state,where,nrec,buff);\n\t    //\n\t    state.Path.exportAllKeys(state); // can not export keys before we have a keyCnt\n\t    state.Matrix.sortMatrixValues(state);\n\t    //console.log(\"Count:\",JSON.stringify(docs));\n\t    // add \"undefined\" range of keys that are not present in every doc...\n\t    var cntDocs=state.Database.getDocsCnt(state,where,state.Path.other.table);\n\t    state.Matrix.makeMatrixCntMap(state,cntDocs,m);\n\t    state.Matrix.makeMapRange(state);\n\t} else {                              // maintain map data and keyCnt...\n\t    //console.log(\"Database where:\",where);\n\t    var docs=this.getDocs(state,where); // get all docs\n\t    //console.log(\">>>Extraction key (where='\",where,\"') Docs:\",docs.length);\n\t    state.Matrix.initKeyCnt(state);\n\t    state.Matrix.makeKeyCntMap(state,docs);\n\t    state.Matrix.makeMapRange(state);\n\t    state.Matrix.addUndefinedKeyCnt(state,docs); // add \"undefined\"\n\t    state.Matrix.addUndefinedKeyCntValues(state);\n\t    state.Matrix.addMapAreaKeys(state,docs);\n\t    //\n\t    state.Path.exportAllKeys(state); // can not export keys before we have a keyCnt\n\t    state.Matrix.sortMatrixValues(state);\n\t    state.Matrix.makeMatrix(state,docs,m);\n\t    //console.log (\"Matrix:\",JSON.stringify(m));\n\t}\n\tshowFunc(state,m);\n    };\n    this.dbindex=function(state,ks) { // make indexes on all keys\n\tvar s=\"\";\n\tvar klen = ks.length;\n\tfor (var ii = 0; ii < klen; ii++) {\n\t    //this.query(\"CREATE INDEX ? ON TABLE alarm.?\",ks[ii],ks[ii]);\n\t    s=s+\" \"+ks[ii];\n\t};\n\t//console.log(\"Indexes:\",s);\n    };\n    this.getTitleDynamic=function(state,key,val) {\n\tvar ret,parse;\n\tif (state.Database.values[key] === undefined) {\n\t    ret=val;\n\t} else {\n\t    var keytrg=this.getKeytrg(state,key,val);\n\t    if (val === \"null\") {\n\t\tret=key + \" is NULL\";\n\t    } else if (keytrg === this.keytrg.Max) { // this is a function\n\t\tparse=state.Utils.getMax(state.Database.values[key]);\n\t\tif (parse === undefined) {\n\t\t    ret=key + \" is NULL\";\n\t\t} else {\n\t\t    ret=parse;\n\t\t};\n\t    } else if (keytrg === this.keytrg.Min) { // this is a function\n\t\tparse=state.Utils.getMin(state.Database.values[key]);\n\t\tif (parse === undefined) {\n\t\t    ret=key + \" is NULL\";\n\t\t} else {\n\t\t    ret=parse;\n\t\t};\n\t    } else {\n\t\tret=val;\n\t    };\n\t};\n\treturn ret;\n    };\n    this.getWhereDynamic=function(state,key,val) {\n\tvar ret,parse;\n\tif (state.Database.values[key] === undefined) {\n\t    ret=state.Database.getWhereDetail(key,val);\n\t} else {\n\t    var keytrg=this.getKeytrg(state,key,val);\n\t    //console.log(\"parseWhere:\",key,JSON.stringify(val),keytrg);\n\t    if (keytrg === this.keytrg.Max) { // this is a function\n\t\tparse=state.Utils.getMax(state.Database.values[key]);\n\t\t//console.log(\"parseWhere:\",key,parse,JSON.stringify(state.Database.values[key]));\n\t\tif (parse === undefined) {\n\t\t    ret=key + \" is NULL\";\n\t\t} else {\n\t\t    ret=key + \"='\"+parse+\"'\";\n\t\t};\n\t    } else if (keytrg === this.keytrg.Min) { // this is a function\n\t\tparse=state.Utils.getMin(state.Database.values[key]);\n\t\tif (parse === undefined) {\n\t\t    ret=key + \" is NULL\";\n\t\t} else {\n\t\t    ret=key + \"='\"+parse+\"'\";\n\t\t};\n\t    } else{\n\t\tret=state.Database.getWhereDetail(key,val);\n\t    };\n\t};\n\t//console.log(\"GetWhere:\",key,val,ret);\n\treturn ret;\n    };\n    this.getWhereDetail=function(key,val) {\n\tif (val  === undefined ||\n\t    val  === null ||\n\t    val  === \"\") {\n\t    return key +' is NULL';\n\t} else {\n\t    return key + '=\"'+val+'\"'\n\t};\n    };\n    this.getWhere=function(state,keys,vals) {\n\tvar where=\"\";\n\t//console.log(\"Path:\",JSON.stringify(state.Path.keys));\n\tif (keys === undefined) {\n\t    keys=state.Path.keys.path;\n\t    vals=state.Path.select.val;\n\t};\n\tif (vals === undefined) {vals=[];};\n\tif (keys !== undefined) {\n\t    var plen = keys.length;\n\t    for (var ii = 0; ii < plen; ii++) {\n\t\tvar key=keys[ii];\n\t\tvar whereKey=state.Database.parseWhere(state,key,vals[key])\n\t\t//console.log(\"Wherekey:\",ii,key,JSON.stringify(vals),\n\t\t//\t    JSON.stringify(vals[key]),\"'\"+whereKey+\"'\");\n\t\tif (whereKey  === undefined ||\n\t\t    whereKey  === null ||\n\t\t    whereKey  === \"\" ) {\n\t\t    if (where !== \"\") { where = where +  ' AND ';};\n\t\t    where= where + key +' is NULL';\n\t\t} else {\n\t\t    if (where !== \"\") { where = where +  ' AND ';};\n\t\t    where=where + \"(\"+ whereKey+\")\";\n\t\t}\n\t    };\n\t    if (where !== \"\") {where=\" WHERE \"+where;}\n\t    //console.log(\"Where=|\"+where+\"|\")\n\t};\n\treturn where;\n    };\n    this.addWhere=function(iwhere,whereKey) {\n\tvar where=iwhere;\n\tif (whereKey  !== undefined &&\n\t    whereKey  !== null &&\n\t    whereKey  !== \"\" ) {\n\t    if (where !== \"\") {\n\t\twhere = where +  \" AND (\"+ whereKey+\")\";\n\t    } else {\n\t\twhere = \" WHERE (\"+ whereKey+\")\";\n\t    }\n\t}\n\treturn where;\n    };\n    this.getColWhere=function(key,values,index,step) {\n\tvar clen=values.length;\n\tvar where=\"\";\n        for (var kk=index;kk<Math.min(clen,index+step);kk++) {\n\t    if (where !== \"\") {where=where + \" or \";}\n\t    where=where + this.getWhereDetail(key,values[kk]);\n        };               \n\treturn where;\n    };\n    this.makeWhere=function(state,keys,vals) {\n\t//console.log(\"Make where:\",JSON.stringify(keys),JSON.stringify(vals));\n\tif (keys === undefined) {\n\t    state.Path.keys.path.forEach(function(item,index) {this.setWhere(state,item,state.Path.select.val[item]);}.bind(this));\n\t} else {\n\t    keys.forEach(function(item,index) {this.setWhere(state,item,vals[item]);}.bind(this));\n\t}\n    };\n    this.setWhere=function(state,key,vals) {\n\t//console.log(\"Setting where:\",key,JSON.stringify(vals));\n\tvar where=this.parseWhere(state,key,vals);\n\t//console.log(\"Setting where:\",key,JSON.stringify(vals),\"'\"+where+\"'\");\n\tstate.Path.where[key]=where;\n    };\n    this.parseWhere=function(state,key,vals) {\n\tvar where=\"\";\n\tif (vals === undefined) {vals=[];};\n\tvar lenv=vals.length\n\tfor (var ii=0;ii<lenv;ii++) {\n\t    var val=vals[ii]\n\t    if (where !== \"\") { where=where + \" OR \";};\n\t    where = where + state.Database.getWhereDynamic(state,key,val);\n\t    //console.log(\"From getWhereDynamic:\",key,\":\",val,\":\",where);\n\t};\n\treturn where;\n    };\n    this.getGroup=function(keys) {\n\tvar group=\"\";\n\tvar plen = keys.length;\n\tfor (var ii = 0; ii < plen; ii++) {\n\t    var key=keys[ii];\n\t    if (group !== \"\") { group = group +  ',';};\n\t    group= group + key;\n\t};\n\tif (group !== \"\") {group=\" GROUP BY \"+group;}\n\treturn group;\n    };\n    this.getCols=function(keys) {\n\tvar cols=\"\";\n\tvar plen = keys.length;\n\tfor (var ii = 0; ii < plen; ii++) {\n\t    var key=keys[ii];\n\t    cols= cols + key;\n\t    if (cols !== \"\") { cols = cols +  ',';};\n\t};\n\treturn cols;\n    };\n    this.getAll=function(state) {\n\tvar cols=\"\";\n\tvar plen = state.Path.keys.other.length;\n\tfor (var ii = 0; ii < plen; ii++) {\n\t    var key=state.Path.keys.other[ii];\n\t    cols= cols + key;\n\t    if (cols !== \"\") { cols = cols +  ',';};\n\t};\n\treturn cols;\n    };\n    this.getDocsRank=function(state,where,keys,maxrank) {\n\tvar dd;\n\tdd=this.query(\"select * FROM alarm\"+where);\n\treturn (dd===undefined?[]:dd);\n    };\n\n    this.getRankCnt=function(state,where,keys,maxrank) {\n\twhere=this.addWhere(where,\"rank='\" + maxrank.toString()+\"'\");\n\tvar sql,dd;\n\tvar body=\"* FROM alarm\";\n\tif (keys  === undefined) {\n\t    sql=\"select \"+body+where;\n\t    //console.log(\"SQL:\",sql,\":\",body,\":\",where);\n\t    dd=this.query(sql);\n\t    //console.log(\"initial count:\",dd[0].cnt,JSON.stringify(dd0));\n\t    //console.log(\"Cnt:\",JSON.stringify(dd));\n\t} else {\n\t    var cols = this.getCols(keys);\n\t    var group = this.getGroup(keys);\n\t    sql=\"select \"+cols+body+\n    \t\twhere+group;\n\t    //console.log(\"SQL:\",sql,\":\",body,\":\",where);\n\t    dd=this.query(sql);\n\t    //console.log(\"Cnt:\",JSON.stringify(dd),JSON.stringify(keys));\n\t}\n\treturn (dd===undefined?[]:dd);\n    };\n    this.getDocsCnt=function(state,where,keys) {\n\tvar sql,dd;\n\tvar body=\"count(*) AS cnt, max(level) AS maxlev, max(rank) AS maxrank, min(level) AS minlev, max(lat) AS maxlat, min(lat) AS minlat, max(lon) AS maxlon, min(lon) AS minlon FROM alarm\";\n\tif (keys  === undefined) {\n\t    sql=\"select \"+body+where;\n\t    //console.log(\"SQL:\",sql,\":\",body,\":\",where);\n\t    dd=this.query(sql);\n\t    //console.log(\"initial count:\",dd[0].cnt,JSON.stringify(dd0));\n\t    //console.log(\"Cnt:\",JSON.stringify(dd));\n\t} else {\n\t    var cols = this.getCols(keys);\n\t    var group = this.getGroup(keys);\n\t    sql=\"select \"+cols+body+\n    \t\twhere+group;\n\t    //console.log(\"SQL:\",sql,\":\",body,\":\",where);\n\t    dd=this.query(sql);\n\t    //console.log(\"Cnt:\",JSON.stringify(dd),JSON.stringify(keys));\n\t}\n\treturn (dd===undefined?[]:dd);\n    };\n    this.getDocs=function(state,where) {\n\tvar dd=this.query(\"select * FROM alarm\"+where);\n\treturn (dd===undefined?[]:dd);\n    };\n    this.makeTable=function(state) {\n\tthis.query('DROP TABLE IF EXISTS alarm; CREATE TABLE alarm;');\n    };\n    this.dataToDb=function(state,data) {\n\talasql.tables.alarm.data = data;\n    };\n    this.getKeyCnt=function(state,key,where){\n\tvar sql=\"select \"+key+\",count(*) AS cnt FROM alarm\"+\n\t    where+\" GROUP BY \"+key;\n\treturn this.query(sql);\n    };\n    this.whatIsIt=function(object) { // determine object type\n\tif (object  === null) {\n\t    return \"null\";\n\t} else if (object.constructor  === this.arrayConstructor) {\n\t    return \"Array\";\n\t}\n\telse if (object.constructor  === this.objectConstructor) {\n\t    return \"Object\";\n\t}\n\telse {\n\t    return \"value\";\n\t}\n    };\n    this.getTimeDiff=function(state,dt) {\n\tvar s=\"\";\n\tif (dt  === undefined || isNaN(state,dt)) {return s;};\n\tvar msec=Math.abs(state,dt);\n\tvar dd = Math.floor(state,((state,(msec / 1000) / 60) / 60) / 24);\n\tmsec -= dd * 1000 * 60 * 60 * 24;\n\tvar hh = Math.floor(state,((state,msec / 1000) / 60) / 60);\n\tmsec -= hh * 1000 * 60 * 60;\n\tvar mm = Math.floor(state,(msec / 1000) / 60);\n\tmsec -= mm * 1000 * 60;\n\tvar ss = Math.floor(state,msec / 1000);\n\tmsec -= ss * 1000;\n\tif (dt<0) {\n\t    s=\"-\";\n\t} else if (dt > 0) {\n\t    s=\"+\";\n\t} else {\n\t    s=\"0\";\n\t}\n\tif (dd !== 0) s=s+\" \"+state.Utils.numberWithCommas(dd)+\"d\";\n\tif (hh !== 0) s=s+\" \"+hh+\"h\";\n\tif (mm !== 0) s=s+\" \"+mm+\"m\";\n\t//if (ss !== 0) s=s+\" \"+ss+\"s\";\n\treturn s;\n    }\n    this.sanityCheck=function(state) {\n\tvar sql=\"select count(*) AS cnt, max(level) AS lev FROM alarm\";\n\tvar dd0=this.query(sql);\n\tvar nrec= dd0[0].cnt;\n\treturn nrec;\n    }\n    this.query=function(sql) {\n\ttry {\n\t    return alasql(sql);\n\t} catch (e) {\n\t    alert(sql + \":\" + e);\n\t};\n    }\n\n};\n\nexport default Database;\n","//console.log(\"Loading DefaultLib.js\");\nfunction Default() {\n    this.setupdir=\"def/\"; // defaults directory\n    this.setup=\"defaults.json\"; // defaults file, contains default setup...\n    this.path=\"test.json\";\n    this.current={};\n    this.start=undefined; // setup at start\n    // map: Default => setup\n    this.cpJsonToDefaultFill= [[[\"Database\",\"data\"],        [\"data\"]],\n\t\t\t       [[\"other\"],                  [\"other\"]],\n\t\t\t       [[\"trash\"],                  [\"trash\"]]\n\t\t\t      ];\n    this.cpJsonToDefaultForce=[[[\"Threshold\",\"thrs\"],       [\"thrs\"]],\n\t\t\t       [[\"Colors\",\"colors\"],        [\"colors\"]],\n\t\t\t       [[\"Path\",\"order\"],           [\"order\"]],\n\t\t\t       [[\"Path\",\"select\"],          [\"select\"]],\n\t\t\t       [[\"Path\",\"home\"],            [\"home\"]],\n\t\t\t       [[\"Path\",\"tooltip\"],         [\"tooltip\"]],\n\t\t\t       [[\"Layout\",\"priority\"],      [\"priority\"]],\n\t\t\t       [[\"Layout\",\"state\"],         [\"state\"]]\n\t\t\t      ];\n    // map: Default => state\n    this.cpStateToDefaultFill= [[[\"Database\",\"data\"],        [\"Database\",\"data\"]],\n\t\t\t\t[[\"Threshold\",\"thrs\"],       [\"Threshold\",\"thrs\"]],\n\t\t\t\t[[\"Colors\",\"colors\"],        [\"Colors\",\"colors\"]],\n\t\t\t\t[[\"Path\",\"order\"],           [\"Path\",\"order\"]],\n\t\t\t\t[[\"Path\",\"home\"],            [\"Path\",\"home\"]],\n\t\t\t\t[[\"Path\",\"tooltip\",\"keys\"],  [\"Path\",\"tooltip\",\"keys\"]],\n\t\t\t\t[[\"Path\",\"tooltip\",\"select\"],[\"Path\",\"tooltip\",\"select\"]],\n\t\t\t\t[[\"Path\",\"tooltip\",\"sort\"],  [\"Path\",\"tooltip\",\"sort\"]],\n\t\t\t\t[[\"Path\",\"tooltip\",\"click\"], [\"Path\",\"tooltip\",\"click\"]],\n\t\t\t\t[[\"Path\",\"select\"],          [\"Path\",\"select\"]],\n\t\t\t\t[[\"Path\",\"keys\",\"path\"],     [\"Path\",\"keys\",\"path\"]],\n\t\t\t\t[[\"Path\",\"keys\",\"other\"],    [\"Path\",\"keys\",\"other\"]],\n\t\t\t\t[[\"Layout\",\"priority\"],      [\"Layout\",\"priority\"]],\n\t\t\t\t[[\"Layout\",\"state\"],         [\"Layout\",\"state\"]]\n\t\t\t       ];\n    this.cpStateToDefaultForce=[[[\"Path\",\"home\"],            [\"Path\",\"home\"]],\n\t\t\t\t[[\"Colors\",\"colors\"],        [\"Colors\",\"colors\"]]];\n    this.cpDefaultToStateFill=this.cpStateToDefaultFill;\n    this.cpDefaultToDefaultFill=this.cpStateToDefaultFill;\n    this.init=function(state){\n\tstate.Utils.init(\"setup\",this);\n    };\n    this.loadDefault=function(state, response, callbacks ) {\n\tvar file=this.setup;\n\tconsole.log(\"Default setup:\",file);\n\tif (state.Threshold.thrs !== undefined) { // defaults already loaded, execute callback...\n\t    state.File.next(state,\"\",callbacks);\n\t} else {\n\t    var path=state.Default.setupdir + state.Default.setup;\n\t    state.File.load(state,path,callbacks);\n\t}\n    };\n    this.makeStart=function(state,response,callbacks) {\n\tif (state.Default.start === undefined) {\n\t    state.Default.start={};\n\t    state.Utils.copyFill(state, state, state.Default.start, state.Default.cpStateToDefaultFill);\n\t    //console.log(\"Start:\",JSON.stringify(state.Default.start.Path));\n\t    //console.log(\"State:\",JSON.stringify(state.Path.select));\n\t    //state.Default.save(state);\n\t}\n\tstate.File.next(state,\"\",callbacks);\n    };\n    this.processDefault=function(state,response,callbacks) {\n\tif (state.Threshold.thrs !== undefined) { // defaults already loaded, execute callback...\n\t    state.File.next(state,\"\",callbacks);\n\t} else {\n\t    try {\n\t\tvar json = JSON.parse(response);\n\t    } catch (e) {\n\t\talert(\"Default '\"+state.Default.setup+\"' contains Invalid JSON:\"+e.name+\":\"+e.message);\n\t    }\n\t    if (json !== undefined) {\n\t\t//console.log(\"State:\",JSON.stringify(state.Database));\n\t\t\n\t\tstate.Utils.copyFill(state, json,                   state.Default.current, state.Default.cpJsonToDefaultFill);\n\t\tstate.Utils.copyForce(state,json,                   state.Default.current, state.Default.cpJsonToDefaultForce);\n\t\tstate.Utils.copyFill(state, state.Default.current,  state,                 state.Default.cpDefaultToStateFill);\n\t\t\n\t\t//console.log(\"JSON:\",JSON.stringify(json.data));\n\t\t//console.log(\"Default:\",JSON.stringify(state.Default.current.Database));\n\t\t//console.log(\"State:\",JSON.stringify(state.Database));\n\t\t\n\t    };\n\t    // finally execute next callback\n\t    state.File.next(state,\"\",callbacks);\n\t}\n    };\n    this.resetSetup=function(state,response,callbacks) {\n\ttry {\n\t    var json = JSON.parse(response);\n\t} catch (e) {\n\t    alert(\"Default '\"+state.Default.setup+\"' contains Invalid JSON:\"+e.name+\":\"+e.message);\n\t}\n\tif (json !== undefined && state.Default.start !== undefined) {\n\t    console.log(\"Reset state:\",JSON.stringify(state.Path));\n\t    state.Default.current={};\n\t    state.Utils.copyFill( state, json,                  state.Default.current, state.Default.cpJsonToDefaultFill);\n\t    state.Utils.copyForce(state, json,                  state.Default.current, state.Default.cpJsonToDefaultForce);\n\t    state.Utils.copyFill( state, state.Default.start,   state.Default.current, state.Default.cpDefaultToDefaultFill);\n\t    state.Utils.copyForce(state, state.Default.current, state,                 state.Default.cpDefaultToStateFill);\n\t    //console.log(\"JSON:\",JSON.stringify(json.tooltip));\n\t    //console.log(\"Default:\",JSON.stringify(state.Default.Path.tooltip));\n\t    state.Database.resetSetup(state);\n\t    console.log(\"Reset State:\",JSON.stringify(state.Path));\n\t};\n    };\n    this.getSetup=function(state) {\n\t// get updated information\n\tvar json={};\n\tvar current={};\n\t//console.log(\"Current:\",JSON.stringify(state.Colors.colors));\n\tstate.Utils.copyFill(state,  state.Default.current, current, state.Default.cpDefaultToDefaultFill);\n\tstate.Utils.copyForce(state, state,                 current, state.Default.cpStateToDefaultForce);\n\tstate.Utils.copyForce(state, current,               json,    state.Utils.invert(state.Default.cpJsonToDefaultForce));\n\tstate.Utils.copyFill(state,  current,               json,    state.Utils.invert(state.Default.cpJsonToDefaultFill));\n\t//console.log(\"Current:\",JSON.stringify(state.Default.current));\n\t//console.log(\"Setup:\",JSON.stringify(current));\n\t//JSON.stringify(setup, null, \"   \");\n\treturn json;\n    };\n    this.save=function(state) {\n\tvar setup=state.Utils.prettyJson(state.Default.getSetup(state));\n\tstate.Utils.save(setup,\"setup.json\",\"json\");\n    };\n    this.hasChanged=function(state,pth) {\n\tvar src=state.Default.start;\n\tvar trg=state;\n\tvar lenp=pth.length;\n\tfor (var ii=0;ii<lenp;ii++) {\n\t    var p=pth[ii];\n\t    if (src[p] !== undefined) {\n\t\tsrc=src[p];\n\t    } else {\n\t\tconsole.log(\"Missing Defaults-key:\",\"'\"+p+\"'\",\n\t\t\t    \"(path=\",JSON.stringify(pth),\") Default root=\",\n\t\t\t    JSON.stringify(Object.keys(src)));\n\t\treturn true;\n\t    }\n\t    if (trg[p] !== undefined) {\n\t\ttrg=trg[p];\n\t    } else {\n\t\tconsole.log(\"Missing State-key:\",p,JSON.stringify(pth),JSON.stringify(Object.keys(trg)));\n\t\treturn true;\n\t    }\n\t}\n\tvar s=JSON.stringify(src);\n\tvar t=JSON.stringify(trg);\n\t//console.log(\"Checking:\",JSON.stringify(pth),\"\\n\",s,\"\\n\",t,\"->\",s!==t);\n\treturn s!==t;\n    };\n};\nexport default Default;\n","//console.log(\"Loading HtmlLib.js\");\n\nfunction Html() {\n    this.ceye=\"&#x1f441\";\n    this.setConsole=function(msg) {\n\tconsole.log(msg);\n    };\n    this.setProgress=function(state,active) {\n\tif (state.React !== undefined && state.React.Dataset !== undefined) {\n\t    state.React.Dataset.setProgress(state,active);\n\t}\n    };\n    this.setFootnote=function(state,msg) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    if (msg  === undefined) {\n\t\tmsg=state.Utils.getStatusString(state);\n\t    };\n\t    //console.log(\"setlog:\",msg,state.Matrix.cnt);\n\t    state.React.Status.setFootnote(state,msg);\n\t}\n    };\n    this.broadcast=function(state,msg,variant) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    if (msg  === undefined) {msg=state.Utils.getStatusString(state);};\n\t    //console.log(\"setlog:\",msg,state.Matrix.cnt);\n\t    state.React.App.broadcast(msg,'info');\n\t}\n    };\n    this.progressInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    if (e.loaded  === e.total) {\n\t\tstate.React.Status.setFootnote(state,\"\");\n\t    } else {\n\t\te.preventDefault();\n\t\t//console.log(\"Complete:\",e.loaded,e.total,JSON.stringify(e));\n\t\t//var percentComplete = e.loaded / e.total * 100;\n\t\t//state.React.Status.setFootnote(state,percentComplete.toFixed(2)+\"kb\");\n\t\tstate.React.Status.setFootnote(state,state.Utils.numberWithCommas(\n\t\t    Math.round(e.loaded/1000))+\" Kb\");\n\t    }\n\t}\n    };\n    this.loadInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    state.React.Status.setFootnote(state,\"Processing\");\n\t};\n    };\n    this.errorInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    state.React.Status.setFootnote(state,\"Error\");\n\t}\n    };\n    this.abortInfo=function(state,e) {\n\tif (state.React !== undefined && state.React.Status !== undefined) {\n\t    state.React.Status.setFootnote(state,\"Aborted\");\n\t}\n    };\n};\nexport default Html;\n","//console.log(\"Loading LayoutLib.js\");\n\nfunction Layout() {\n    this.rotate=undefined;  // should labels on x-axis be rotated?\n    this.priority=undefined;// which key should be on the abscissa\n    this.init=function(state){\n\tstate.Utils.init(\"Layout\",this);\n    };\n    this.fullscreen=false;\n    this.fonts=[\"12px Fixed\",\"18px Fixed\",\"24px Fixed\",\"36px Fixed\",\"48px Fixed\"\n\t       ];\n    //\n    this.state={viewMode:0,       // should we show trash contents?\n\t\tcellMode:0,       // sum, series, item\n\t\tlayoutMode:0,     // table, list, map\n\t\tcfont:0,\n\t\ttooltip:1,\n\t       };\n    this.modes={view:{nopath:0,\n\t\t      path:1,\n\t\t     },\n\t\tcell:{Sum:0,\n\t\t      Series:1,\n\t\t     },\n\t\tlayout:{Table:0,\n\t\t\tList:1,\n\t\t\tMap:2,\n\t\t       }\n\t       };\n    this.toggleTooltip=function(state) {\n\tthis.state.tooltip=(this.state.tooltip+1)%3;\n\t//console.log(\"Tooltip:\",this.state.tooltip);\n\tstate.Utils.pushUrl(state);\n\tstate.Show.show(state,true);\n    };\n    this.changeFont=function(state) {\n\tthis.state.cfont=((this.state.cfont +1) % this.fonts.length);\n\tstate.Utils.pushUrl(state);\n\tstate.Show.show(state,false);\n    };\n    this.toggleView=function(state) {\n\t//console.log(\"Show.view before:\",this.state.viewMode,JSON.stringify(this.state),JSON.stringify(this.modes));\n\tif (this.state.viewMode === this.modes.view.nopath) {\n\t    this.state.viewMode=this.modes.view.path;\n\t} else if (this.state.viewMode === this.modes.view.path) {\n\t    this.state.viewMode=this.modes.view.nopath;\n\t};\n\t//console.log(\"Show.view after:\",this.state.viewMode,JSON.stringify(this.state));\n\tstate.Show.showPath(state);\n\tstate.Show.showConfig(state);\n    };\n    this.toggleMode=function(state,layoutMode,cellMode) {\n\tconsole.log(\"Mode:\",layoutMode,cellMode);\n\t//var reload=(layoutMode !== state.Layout.state.layoutMode);\n\tvar reload=((state.Layout.state.layoutMode===state.Layout.modes.layout.Map &&\n\t\t    layoutMode!==state.Layout.modes.layout.Map) ||\n\t\t    (state.Layout.state.layoutMode!==state.Layout.modes.layout.Map &&\n\t\t    layoutMode===state.Layout.modes.layout.Map));\n\tstate.Layout.state.layoutMode=layoutMode;\n\tstate.Layout.state.cellMode=cellMode;\n\t//state.Show.showConfig(state);\n\tstate.Show.showAll(state,reload);\n    };\n    this.getDim=function(state) {\n\t//console.log(\"Dimension:\",state.Path.other.table.length,JSON.stringify(state.Path.other.table.length));\n        var colkey=state.Path.getColKey(state);\n        var rowkey=state.Path.getRowKey(state);\n\tif (colkey !== undefined && rowkey !== undefined) {\n\t    return 2;\n\t} else if (colkey !== undefined || rowkey !== undefined) {\n\t    return 1;\n\t} else {\n\t    return 0;\n\t}\n    };\n    this.setLayoutMode=function(state,mode) {\n\tvar om=this.state.layoutMode;\n\tvar o=this.getLayoutMode(state);\n\tthis.state.layoutMode=mode;\n\tvar n=this.getLayoutMode(state);\n\t//console.log(\"Setting layout mode:\",mode,\":\",o,\"->\",n);\n\tif (o !== n) {\n\t    state.Show.showAll(state);\n\t} else if (om !== mode) {\n\t    state.Show.showMode(state);\n\t}\n    };\n    this.setCellMode=function(state,mode) {\n\tvar om=this.state.cellMode;\n\tvar o=this.getCellMode(state);\n\tthis.state.cellMode=mode;\n\tvar n=this.getCellMode(state);\n\t//console.log(\"Setting cell mode:\",mode,\":\",o,\"->\",n);\n\tif (o !== n) {\n\t    state.Show.showAll(state);\n\t} else if (om !== mode) {\n\t    state.Show.showMode(state);\n\t}\n    };\n    this.getLayoutMode=function(state) {\n\t//console.log(\"Getmode init:\",this.state.layoutMode,state.Matrix.cnt);\n\tvar mode=this.state.layoutMode;\n\tif (mode  === this.modes.layout.List && state.Matrix.cnt > state.Matrix.popSeries) {\n\t    mode=this.modes.layout.Table;\n\t} else if (mode  === this.modes.layout.Map && state.Matrix.cnt > state.Matrix.popSeries) {\n\t    mode=this.modes.layout.Table;\n\t}\n\treturn mode;\n    };\n    this.getCellMode=function(state) {\n\tvar mode=this.state.cellMode;\n\tif (mode  === this.modes.cell.Single && state.Matrix.cnt > state.Matrix.popSingle) {\n\t    mode=this.modes.cell.Series;\n\t}\n\tif (mode  === this.modes.cell.Series && state.Matrix.cnt > state.Matrix.popSeries) {\n\t    mode=this.modes.cell.Sum;\n\t}\n\treturn mode;\n    };\n    this.toggleFullScreen=function(state) {\n\t//var pos=0;\n\tif (!document.fullscreenElement &&    // alternative standard method\n\t    !document.mozFullScreenElement && \n\t    !document.webkitFullscreenElement && \n\t    !document.msFullscreenElement ) {  // current working methods\n\t    if (document.documentElement.requestFullscreen) {\n\t\tdocument.documentElement.requestFullscreen();\n\t\t//pos=1;\n\t    } else if (document.documentElement.msRequestFullscreen) {\n\t\tdocument.documentElement.msRequestFullscreen();\n\t\t//pos=2;\n\t    } else if (document.documentElement.mozRequestFullScreen) {\n\t\tdocument.documentElement.mozRequestFullScreen();\n\t\t//pos=3;\n\t    } else if (document.webkitRequestFullscreen) {\n\t\tdocument.webkitRequestFullscreen();\n\t\t//pos=4;\n\t    } else {\n\t\t//pos=5;\n\t    }\n\t    this.fullscreen=true;\n\t} else {\n\t    if (document.exitFullscreen) {\n\t\tdocument.exitFullscreen();\n\t\t//pos=6;\n\t    } else if (document.msExitFullscreen) {\n\t\tdocument.msExitFullscreen();\n\t\t//pos=7;\n\t    } else if (document.mozCancelFullScreen) {\n\t\tdocument.mozCancelFullScreen();\n\t\t//pos=8;\n\t    } else if (document.webkitExitFullscreen) {\n\t\tdocument.webkitExitFullscreen();\n\t\t//pos=9;\n\t    } else {\n\t\t//pos=10;\n\t    }\n\t    this.fullscreen=false;\n\t}\n\tstate.Show.showConfig(state);\n\tconsole.log(\"Toggle fullscreen:\",this.fullscreen);\n    };\n    // adjust keys so that rows/cols have more than on entry...\n    this.getPriorityKeys=function(state){\n        if (state.Layout.priority === undefined) {\n            state.Layout.priority=state.Database.keyCnt.keys();\n        } else {\n\t    var keys = Object.keys(state.Database.keyCnt);;\n\t    var plen = keys;\n\t    for (var ii = 0; ii < plen; ii++) {\n\t\tvar key=keys[ii];\n\t\tif (state.Layout.priority.indexOf(key)===-1) {\n\t\t    state.Layout.priority.push(key);\n\t\t}\n\t    };\n\t};\n\treturn state.Layout.priority; //state.Utils.invertedArray()\n    };\n    this.increaseSelect=function(state,key){\n\tvar kid=state.Path.keys.path.indexOf(key);\n\tconsole.log(\"Bumping:\",key,kid,JSON.stringify(state.Path.keys.path));\n\tif (kid !== -1 && kid > 0) {\n\t    var src=state.Path.keys.path.splice(kid, 1); // remove from array   \n\t    state.Utils.spliceArray(state.Path.keys.path,kid-1,0,src);\n\t}\n\tstate.Show.showConfig(state);\n\tstate.Show.showPath(state);\n    };\n    this.increasePriority=function(state,key){\n\tvar kid=state.Layout.priority.indexOf(key);\n\tconsole.log(\"Bumping:\",key,kid,JSON.stringify(state.Layout.priority));\n\tif (kid !== -1 && kid > 0) {\n\t    var src=state.Layout.priority.splice(kid, 1); // remove from array   \n\t    state.Utils.spliceArray(state.Layout.priority,kid-1,0,src);\n\t}\n\tstate.Show.showConfig(state);\n    };\n    this.getPriorityIndex=function(state,arr) {\n\tvar len,ii;\n\tvar pri={};\n\tlen=arr.length;\n\tfor (ii=0;ii<len;ii++) {\n\t    pri[arr[ii]]=0;\n\t};\n\tif (this.priority !== undefined) {\n\t    len=this.priority.length\n\t    for (ii=0;ii<len;ii++) {\n\t\tvar key=this.priority[ii]\n\t\tpri[key]=len+1-ii\n\t    };\n\t};\n\treturn pri;\n    };\n    this.changePriority=function(state,key,trg) {  // key -> trg\n\tif (key  === undefined || trg  === undefined) { return;}\n\tconsole.log(\"Priority:\",key,\"->\",trg,JSON.stringify(this.priority));\n\t//if (typeof trg  === \"undefined\") {\n\tvar col=state.Path.other.table[0];\n\tvar row=state.Path.other.table[1];\n\t//var icol=0;\n\t//var irow=0;\n\tvar ikey=0;\n\tvar itrg=0;\n\tvar len=this.priority.length;\n\tfor (var ii=0;ii<len;ii++) {\n\t    if (this.priority[ii]  === col) {\n\t\t//icol=len+1-ii;\n\t    };\n\t    if  (this.priority[ii]  === row) {\n\t\t//irow=len+1-ii;\n\t    };\n\t    if  (this.priority[ii]  === key) {\n\t\tikey=len+1-ii;\n\t    }\n\t    if  (this.priority[ii]  === trg) {\n\t\titrg=len+1-ii;\n\t    }\n\t}\n\tif (itrg < ikey) {        // demote existing key\n\t    if (itrg > 0) {       // key exists on priority list\n\t\tstate.Utils.spliceArray(this.priority,len+2-itrg,0,key);  // add after\n\n\t\tconsole.log(\"Added:\",JSON.stringify(this.priority),ikey,itrg,key);\n\t\t\n\t\t//var src=\n\t\tthis.priority.splice(len+1-ikey, 1);        // remove\n\t    } else {              // key exists, target does not\n\t\t//var src=\n\t\tthis.priority.splice(len+1-ikey, 1);        // remove\n\t\tthis.priority.concat(key)\t    \n\t    }\n\t} else if (itrg > ikey) { // demote, key may not exist on priority list\n\t    if (ikey>0) {         // key exists on priority list\n\t\t//var src=\n\t\tthis.priority.splice(len+1-ikey, 1);        // remove\n\t\tstate.Utils.spliceArray(this.priority,len+1-itrg,0,key);  // add before\n\t    } else {              // key is not on priority list\n\t\tstate.Utils.spliceArray(this.priority,len+1-itrg,0,key);  // add before\n\t    }\n\t} else if (itrg === 0) { // key and target not on the priority list\n\t    this.priority.concat(key)\n\t}\n\tconsole.log(\"Changed priority:\",JSON.stringify(this.priority),ikey,itrg);\n\treturn true;\n    }\n    //this.flipTable=function(state) {\n    //    var bb=this.colrow[0];\n    //    this.colrow[0]=this.colrow[1];\n    //    this.colrow[1]=bb;\n    //    //console.log(\"Setup:\",JSON.stringify(setup));\n    //};\n    this.getPriority=function(state) {\n\treturn state.Utils.cp(this.priority);\n    };\n    this.setPriority=function(state,priority) {\n\tthis.priority=priority;\n    }\n    this.getDescription=function(state,element,skeys) {\n\tif (element.cnt  === 1) {\n\t    var s=\"\";\n\t    var docs=element.docs;\n\t    var doc=docs[0];\n\t    var klen=skeys.length;\n\t    for (var jj = 0; jj < klen; jj++) {\n\t\tvar d=skeys[jj]+\"=\"+doc[skeys[jj]];;\n\t\tif (s !== \"\") {\n\t\t    s=s+\" \"+d\n\t\t} else {\n\t\t    s=d;\n\t\t}\n\t    }\n\t    return s;\n\t} else {\n\t    return element.cnt;\n\t}\n    };\n    this.setPlan=function(plan,set) {\n\tvar keys=Object.keys(set);\n\tvar lenk=keys.length;\n\tfor (var ii=0; ii<lenk; ii++) {\n\t    var key=keys[ii];\n\t    var val=set[key];\n\t    plan[key]=val;\n\t};\n    };\n    this.getTextWidth=function(txt, fontname, fontsize){\n\tif(this.getTextWidth.c === undefined){\n            this.getTextWidth.c=document.createElement('canvas');\n            this.getTextWidth.ctx=this.getTextWidth.c.getContext('2d');\n\t}\n\tif (fontname !== undefined) {\n\t    this.getTextWidth.ctx.font = fontsize + ' ' + fontname;\n\t} else {\n\t    this.getTextWidth.ctx.font = this.fonts[this.state.cfont];\n\t}\n\treturn this.getTextWidth.ctx.measureText(txt).width;\n    };\n    this.getTextHeight=function(fontname, fontsize){\n\tif(this.getTextHeight.c === undefined){\n            this.getTextHeight.c=document.createElement('canvas');\n            this.getTextHeight.ctx=this.getTextHeight.c.getContext('2d');\n\t}\n\tif (fontname !== undefined) {\n\t    this.getTextHeight.ctx.font = fontsize + ' ' + fontname;\n\t} else {\n\t    this.getTextHeight.ctx.font = this.fonts[this.state.cfont];\n\t}\n\treturn this.getTextHeight.ctx.measureText('M').width;\n    };\n    this.getDescender=function(fontname,fontsize) {\n\treturn this.getTextHeight(fontname,fontsize)*0.3;\n    }\n    this.maxWidth=function(values,border) {\n\tvar swidth=0;\n\tvar mwidth=0;\n\tvar lenv=values.length;\n\tfor (var ii=0;ii<lenv;ii++) {\n\t    var cwidth = this.getTextWidth(values[ii])+2*border;\n\t    if (cwidth > mwidth) {\n\t\tmwidth=cwidth;\n\t    }\n\t    swidth=swidth+cwidth;\n\t}\n\treturn {max:mwidth,sum:swidth};\n    }\n    this.makeDocTitle=function(state,doc) {\n\tvar title=\"\";\n\tvar len=state.Path.tooltip.keys.length;\n\tfor (var ii=0;ii<len;ii++) {\n\t    var key=state.Path.tooltip.keys[ii];\n\t    if (doc[key] !== undefined) {\n\t\tif (title !== \"\") { title=title+\", \";};\n\t\ttitle=title+key+\"=\"+doc[key];\n\t    };\n\t}\n\treturn title;\n    };\n    this.makeCntTitle=function(state,docs) {\n\tvar title=\"\"\n\tif (this.state.title === 1) {\n\t    var dlen=docs.length;\n\t    for (var ii = 0; ii < dlen; ii++) {\n    \t\tvar doc=docs[ii];\n\t\tif (doc._title !== undefined) {\n\t\t    if (title !== \"\") { title=title+\"|\";};\n\t\t    title=title+doc._title;\n\t\t}\n\t    }\n\t}\n\treturn title;\n    };\n    this.makePlans=function(colkey,rowkey,colvalues,rowvalues,iwidth,iheight,border) {\n\tvar descender=this.getDescender();\n\tif (border===null) {border=0;}\n\tborder=border+descender+1;\n\t// text boundaries\n\tvar mheight=this.getTextHeight() + 2 * (descender+1);       //props.theme.spacing.unit;\n\tvar plans={cell:{rotate:false,step:1,border:border,width:mheight*2,height:mheight,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]}, \n\t\t   hdr:{rotate:false,step:1,border:border,width:mheight*2,height:mheight,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},\n\t\t   hd1:{rotate:false,step:1,border:border,width:mheight*2,height:mheight,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},\n\t\t   hd2:{rotate:false,step:1,border:border,width:mheight*2,height:mheight,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},\n\t\t   row:{rotate:false,step:1,border:border,width:mheight*2,height:mheight,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]},\n\t\t   col:{rotate:false,step:1,border:border,width:mheight*2,height:mheight,xoffset:0,yoffset:0,font:this.fonts[this.state.cfont]}};\n\tif (colkey!==undefined) {\n\t    if (iwidth <= 0) { return plans;};\n\t    var wh=this.maxWidth(rowvalues,border);\n\t    var ww=this.maxWidth(colvalues,border);\n\t    var zwidth1 =(colkey===\"\"?0:this.getTextWidth(colkey) + 2 * border);   //props.theme.spacing.unit;\n\t    \n\t    var zwidth2 =(rowkey===\"\"?0:this.getTextWidth(rowkey) + 2 * border);   //props.theme.spacing.unit;\n\t    // var zheight=getTextHeight() + 2 * border;  //props.theme.spacing.unit;\n\t    // table boundaries\n\t    var hwidth=Math.max(wh.max,zwidth1+zwidth2) + mheight;\n\t    var width=iwidth-hwidth;\n\t    // calculate cell width...\n\t    var mwidth=ww.max;\n\t    //var swidth=ww.sum;\n\t    var lenc=colvalues.length;\n\t    var lenr=rowvalues.length;\n\t    var hh, hw, ch, cw, hx, rot, stp;\n\t    //console.log(\"HdrW:\",mwidth,\" HdrH=\",mheight,\" cnt=\",lenc,\" totW=\",width);\n\t    if (mwidth*lenc < width) { // horisontal\n\t\trot=false;\n\t\tstp=1\n\t\tcw=width/lenc;\n\t\thh=mheight;\n\t\thx=(cw-mwidth)/2;\n\t\t//console.log(\"Plan (normal):\",JSON.stringify(plans));\n\t    } else if (mheight*lenc < width) { // rotate\n\t\trot=true;\n\t\tstp=1\n\t\tcw=width/lenc;\n\t\thh=mwidth;\n\t\thx=(cw-mheight)/2;\n\t\t//console.log(\"Plan (rot):\",JSON.stringify(plans),lenc,cw*lenc);\n\t    } else { // rotate and use steps\n\t\trot=true;\n\t\tstp=Math.ceil(lenc*mheight/width);\n\t\tcw=stp*width/lenc;\n\t\thh=mwidth;\n\t\thx=(cw-mheight)/2;\n\t\t//console.log(\"Plan (rot+step):\",JSON.stringify(plans),stp,cw,hh,hx);\n\t    }\n\t    // calculate cell height\n\t    var height=iheight-hh;\n\t    if (mheight*lenr < height) { // \n\t\tch=Math.min(mheight*10,height/lenr) - border;\n\t    } else {\n\t\tch=mheight - border;\n\t    }\n\t    hw=hwidth;\n\t    //console.log(\"Cells:\",hh,ch,height,lenr,mheight);\n\t    var dw=(hw-zwidth1-zwidth2)/2;\n\t    this.setPlan(plans.cell,{width:cw,height:ch,step:stp,font:this.fonts[this.state.cfont]});\n\t    this.setPlan(plans.hdr, {width:hw,height:hh,font:this.fonts[this.state.cfont]});\n\t    this.setPlan(plans.hd1, {width:zwidth1+dw,height:hh,align:\"right\",font:this.fonts[this.state.cfont]});\n\t    this.setPlan(plans.hd2, {width:zwidth2+dw,height:hh,font:this.fonts[this.state.cfont]});\n\t    this.setPlan(plans.col, {width:cw,height:hh,xoffset:hx,step:stp,rotate:rot,font:this.fonts[this.state.cfont]});\n\t    this.setPlan(plans.row, {width:hw,height:ch,font:this.fonts[this.state.cfont]});\n\t    //console.log(\"Plan (finally):\",JSON.stringify(plans),mheight,mwidth,height,width,lenr);\n\t}\n\treturn plans;\n    }\n};\nexport default Layout;\n","//console.log(\"Loading MatrixLib.js\");\n\nfunction Matrix() {\n    this.cnt=0;\n    this.keyCnt={};\n    this.levCnt={};\n    this.values={};\n    this.limit=100;     // displayed data\n    this.resolution=20; // map resolution\n    this.area={};\n    this.popSingle=1000;//0000;\n    this.popSeries=5000;//0000;\n    this.init=function(state){\n\tvar par=\"Matrix\";\n\tstate.Utils.init(par,this);\n    };\n    this.cntKey=function(state,key,nrec,where) {\n\tvar val;\n\tif (this.values[key]  === undefined) {\n\t    this.keyCnt[key]=0;\n\t    this.values[key]=[];\n\t}\n\tif (state.Path.ignore.indexOf(key)  === -1 && key !== \"\") {//ignore special words... \n\t    var tcnt=0;\n\t    var docs=state.Database.getKeyCnt(state,key,where)\n\t    //console.log(\"Count:\",sql,JSON.stringify(docs));\n\t    var dlen = docs.length;\n\t    for (var jj = 0; jj < dlen; jj++) {\n    \t\tvar doc=docs[jj];\n    \t\tval=doc[key];\n\t\tvar cnt=doc.cnt;\n\t\tif (val !== undefined) {\n\t\t    //console.log(\"Found key:\",key,this.getDocVal(state,doc,key));\n    \t\t    this.keyCnt[key]=this.keyCnt[key]+cnt;\n\t\t    this.values[key].push(val);\n\t\t    tcnt=tcnt+cnt;\n\t\t}\n\t    };\n\t    if (tcnt < nrec) { // insert undefined...\n\t\tval=\"\";\n\t\tthis.values[key].push(val);\n\t    };\n\t} else if (key === \"\") {\n\t    console.log(\"Key error...\",new Error().stack);\n\t}\n    };\n    this.initKeyCnt=function(state) {\n\tthis.values={};\n\tthis.keyCnt={};\n    };\n    this.makeKeyCnt=function(state,where,nrec,keys) {\n\tif (keys !== undefined) {\n\t    var plen = keys.length;\n\t    for (var ii = 0; ii < plen; ii++) {\n\t\tvar key=keys[ii];\n\t\tif (key !== \"\") {\n\t\t    this.cntKey(state,key,nrec,where);\n\t\t}\n\t    }\n\t};\n    };\n    this.updateKeyCnt=function(state,key){\n\tif (this.keyCnt[key]  === undefined) {\n    \t    this.keyCnt[key]=1;\n\t    this.values[key]=[];\n\t} else {\n    \t    this.keyCnt[key]++;\n\t}\n    };\n    this.updateValues=function(state,key,val) {\n\tif ( val !== undefined &&\n\t     this.values[key].indexOf(val)  === -1 ) { // value not in range\n\t\t//console.log(\"Checking val=\",JSON.stringify(val),\" key=\",key,\" doc=\",JSON.stringify(doc));\n\t\t//console.log(\"range=\",state.Utils.toString(state.Path.trash));\n    \t\tthis.values[key].push(val);\n\t};\n    }\n\n    // add \"undefined\" range of keys that are not present in every doc...\n    this.addUndefinedKeyCnt=function(state,docs){\n\tvar dlen = docs.length;\n\tfor (var key in this.keyCnt) {\n\t    if (this.keyCnt[key] < dlen) {\n\t\tvar val=\"\";\n\t\tthis.values[key].push(val);\n\t    }\n\t}\n    };\n    // parent path keys are always present (undefined parents can be used)...\n    this.addUndefinedKeyCntValues=function(state) {\n\tvar plen = state.Path.keys.path.length;\n\tfor (var ii = 0; ii < plen; ii++) {\n\t    var key=state.Path.keys.path[ii];\n\t    if (this.keyCnt[key]  === undefined) {\n    \t\tthis.keyCnt[key]=0;\n\t\tthis.values[key]=[];\n\t    }\n\t}\n    };\n    this.posToVal=function(state,pos,min,max) {\n\tvar dmin=0.01;\n\tvar res=this.resolution-1;\n\tif (pos !== undefined &&\n\t    min !== undefined &&\n\t    max !== undefined ) {\n\t    var ret;\n\t    var dlon=(max-min)/res;\n\t    if (Math.abs(dlon) < dmin) {\n\t\tret=(min+max)/2;\n\t    } else {\n\t\tvar dbor=dlon/2;\n\t\tvar val=( (Number(pos)+0.5) * dlon ) + min - dbor;\n\t\tret=Math.floor(val*1000+0.5)/1000;\n\t    }\n\t    return ret.toString();\n\t}\n    };\n    this.valToPos=function(state,val,min,max) {\n\tvar dmin=0.01;\n\tvar res=this.resolution-1;\n\tif (val !== undefined &&\n\t    min !== undefined &&\n\t    max !== undefined ) {\n\t    var dlon=(max-min)/res;\n\t    if (Math.abs(dlon) < dmin) {\n\t\treturn Math.floor(res/2);\n\t    } else {\n\t\tvar dbor=dlon/2;\n\t\tvar pos=(Number(val) - min + dbor)/dlon;\n\t\t//console.log(\"ValToPos:\",pos,Number(val)-min+dbor,dlon);\n\t\treturn Math.max(0,Math.min(res,Math.floor(pos)))\n\t    }\n\t}\n    };\n    this.lonToPos=function(state,val) {\n\tvar min=this.area.minlon;\n\tvar max=this.area.maxlon;\n\treturn this.valToPos(state,val,min,max)\n    };\n    this.posToLon=function(state,pos) {\n\tvar min=this.area.minlon;\n\tvar max=this.area.maxlon;\n\treturn this.posToVal(state,pos,min,max)\n    };\n    this.latToPos=function(state,val) {\n\tvar min=this.area.minlat;\n\tvar max=this.area.maxlat;\n\treturn this.valToPos(state,val,min,max)\n    };\n    this.posToLat=function(state,pos) {\n\tvar min=this.area.minlat;\n\tvar max=this.area.maxlat;\n\treturn this.posToVal(state,pos,min,max)\n    };\n    this.makeMapRange=function(state){\n\tthis.values[\"_lat\"]=[];\n\tvar ii;\n\tfor (ii=0;ii<this.resolution;ii++) {\n\t    var lat=this.posToLat(state,this.resolution-ii-1);\n\t    //console.log(\"Values _lat:\",ii,lat)\n\t    this.values[\"_lat\"].push(lat);\n\t}\n\tthis.values[\"_lon\"]=[];\n\tfor (ii=0;ii<this.resolution;ii++) {\n\t    var lon=this.posToLon(state,ii);\n\t    //console.log(\"Values _lon:\",ii,lon)\n\t    this.values[\"_lon\"].push(lon);\n\t}\n    };\n    this.getLonWhere=function(state,keylon,arr,poslon) {\n\tvar lon=arr[poslon];\n\tvar min=Number(arr[0]);\n\tvar max=Number(arr[arr.length-1]);\n\tvar pos=this.valToPos(state,lon,min,max);\n\tvar lonmin=this.posToVal(state,pos-0.5,min,max);\n\tvar lonmax=this.posToVal(state,pos+0.5,min,max);\n\tif (lonmin < lonmax) {\n\t    return ''+keylon+' >= '+lonmin+' and '+keylon+ ' < '+lonmax+'';\n\t} else {\n\t    return ''+keylon+' >= '+lonmax+' and '+keylon+ ' < '+lonmin+'';\n\t}\n    };\n    this.getLatWhere=function(state,keylat,arr,poslat) {\n\tvar lat=arr[poslat];\n\tvar min=Number(arr[0]);\n\tvar max=Number(arr[arr.length-1]);\n\tvar pos=this.valToPos(state,lat,min,max);\n\tvar latmin=this.posToVal(state,pos-0.5,min,max);\n\tvar latmax=this.posToVal(state,pos+0.5,min,max);\n\n\tvar res=this.resolution-1;\n\tvar dlon=(max-min)/res;\n\tvar dbor=dlon/2;\n\t//var val=( (Number(pos)+0.5) * dlon ) + min - dbor;\n\t//var ret=Math.floor(state,val*1000+0.5)/1000;\n\tvar xpos=(Number(lat) - min + dbor)/dlon;\n\n\tconsole.log(\"GetLatWhere:\",lat,poslat,pos,xpos,min,max,\" lat=\",lat,latmin,latmax,\" d=\",dbor,dlon);\n\n\tif (latmin < latmax) {\n\t    return ''+keylat+' >= '+latmin+' and '+keylat+ ' < '+latmax+'';\n\t} else {\n\t    return ''+keylat+' >= '+latmax+' and '+keylat+ ' < '+latmin+'';\n\t}\n    };\n    this.addMapAreaKeys=function(state,docs) {\n\t//var maxlat,minlat,maxlon,minlon;\n\tvar dlen = docs.length;\n\tfor (var ii = 0; ii < dlen; ii++) {\n    \t    var doc=docs[ii];\n    \t    //var vals=[];\n\t    //var lat=docs[\"lat\"];\n\t    var latpos=this.latToPos(state,doc.lat);\n\t    var ilat=this.posToLat(state,latpos);\n\t    //var lon=docs[\"lon\"];\n\t    var lonpos=this.lonToPos(state,doc.lon);\n\t    var ilon=this.posToLon(state,lonpos);\n\t    doc._lat=ilat\n\t    doc._lon=ilon\n\t    //console.log(\"Trash doc=\",doc.lon,lonpos,ilon,doc._lon,JSON.stringify(this.area));\n\t}\n    };\n    this.makeKeyCntMap=function(state,docs) {\n\tvar key;\n\tvar maxlat,minlat,maxlon,minlon;\n\tvar dlen = docs.length;\n\tfor (var ii = 0; ii < dlen; ii++) {\n    \t    var doc=docs[ii];\n\t    //console.log(\"Trash doc=\",ii,JSON.stringify(doc));\n    \t    //var vals=[];\n    \t    for (key in doc) { // loop over keys in each doc\n\t\tthis.updateKeyCnt(state,key);\n\t\tvar val=this.getDocVal(state,doc,key);\n\t\tthis.updateValues(state,key,val)\n\t\tif (key  === \"lat\") {\n\t\t    if (maxlat  === undefined) {\n\t\t\tmaxlat=val\n\t\t    }else {\n\t\t\tmaxlat=Math.max(val,maxlat)\n\t\t    };\n\t\t    if (minlat  === undefined) {\n\t\t\tminlat=val\n\t\t    }else {\n\t\t\tminlat=Math.min(val,minlat)\n\t\t    };\n\t\t    this.updateKeyCnt(state,\"_lat\");\n\t\t} else if (key  === \"lon\") {\n\t\t    if (maxlon  === undefined) {\n\t\t\tmaxlon=val\n\t\t    }else {\n\t\t\tmaxlon=Math.max(val,maxlon)\n\t\t    };\n\t\t    if (minlon  === undefined) {\n\t\t\tminlon=val\n\t\t    }else {\n\t\t\tminlon=Math.min(val,minlon)\n\t\t    };\n\t\t    this.updateKeyCnt(state,\"_lon\");\n\t\t}\n    \t    };\n\t}\n\tthis.area={minlat:minlat,maxlat:maxlat,minlon:minlon,maxlon:maxlon};\n\treturn;\n    };\n    this.setupMap=function(state,docs) {\n\tthis.makeMapArea(state,docs);\n\tthis.makeMapRange(state);\n\tthis.addUndefinedKeyCnt(state,docs); // add \"undefined\"\n\tthis.addPathKeyCntValues(state);\n\tthis.addMapAreaKeys(state,docs);\n    };\n    this.makeMatrixCntMap=function(state,cntDocs,matrix) {\n\t//console.log(\"MatrixCnt:\",JSON.stringify(cntDocs));\n\t//var lonmin,lonmax,latmin,latmax;\n\tvar found=false;\n\tvar colkey=state.Path.getColKey(state);\n\tvar rowkey=state.Path.getRowKey(state);\n\tthis.levCnt={};\n\t//var pos=[];\n\tvar dlen=cntDocs.length;\n\tfor (var ii = 0; ii < dlen; ii++) {\n    \t    var doc=cntDocs[ii];\n\t    var colval=this.getDocVal(state,doc,colkey);\n\t    var rowval=this.getDocVal(state,doc,rowkey);\n\t    var cnt=this.getDocVal(state,doc,\"cnt\");\n\t    var maxlev=this.getDocVal(state,doc,\"maxlev\");\n\t    var maxrank=this.getDocVal(state,doc,\"maxrank\");\n\t    var minlev=this.getDocVal(state,doc,\"minlev\");\n\t    var minlon=this.getDocVal(state,doc,\"minlon\");\n\t    var maxlon=this.getDocVal(state,doc,\"maxlon\");\n\t    var minlat=this.getDocVal(state,doc,\"minlat\");\n\t    var maxlat=this.getDocVal(state,doc,\"maxlat\");\n\t    //if (lonmin === undefined || minlon < lonmin) {\n\t//\tlonmin=minlon\n\t    //};\n\t    //if (latmin === undefined || minlat < latmin) {\n\t//\tlatmin=minlat\n\t    //};\n    \t    // find matrix array element\n    \t    //console.log (\"Processing:\",JSON.stringify(doc),maxlev,minlev,cnt);\n    \t    var arr=this.makeMatrixElement(state,colval,rowval,matrix);\n    \t    // update matrix array element\n\t    if (maxlev >= 0) { found=true;}\n\t    if (arr !== undefined) {\n\t\tarr.maxlev=maxlev;\n\t\tarr.minlev=minlev;\n\t\tarr.maxrank=maxrank;\n\t\tarr.cnt=cnt;\n\t\tarr.def=0;\n\t\t//arr.docs=[];\n    \t\t//console.log (\"Array:\",JSON.stringify(arr));\n\t    }\n\t}\n\tif (! found) {\n\t    console.log(\"this.makeMatrix No relevant thresholds found.\");\n\t    state.Html.setFootnote(state,\"No data found.\");\n\t}\n\tif (state.Layout.state.tooltip === 0) { // pre-generate all tooltips\n\t    state.Matrix.addAllTooltip(state,matrix);\n\t};\n    \t//console.log (\"Matrix:\",JSON.stringify(matrix));\n\tthis.area={minlat:minlat,maxlat:maxlat,minlon:minlon,maxlon:maxlon};\n    };\n    this.makeMatrix=function(state,docs,matrix) {\n\tvar found=false;\n\tvar colkey=state.Path.getColKey(state);\n\tvar rowkey=state.Path.getRowKey(state);\n\tthis.levCnt={};\n\t//var pos=[];\n\tvar dlen=docs.length;\n\tfor (var ii = 0; ii < dlen; ii++) {\n    \t    var doc=docs[ii];\n\t    var colval=this.getDocVal(state,doc,colkey);\n\t    var rowval=this.getDocVal(state,doc,rowkey);\n\t    //console.log(\"Found doc:\",colval,rowval,doc[\"lon\"],doc[\"lat\"])\n    \t    // find matrix array element\n    \t    var arr=this.makeMatrixElement(state,colval,rowval,matrix);\n    \t    // update matrix array element\n    \t    //console.log (\"Processing:\",JSON.stringify(pos),pos.length,JSON.stringify(doc));\n\t    var dlev=state.Threshold.getLevel(state,doc);\n\t    if (dlev === undefined) {dlev=-2;};\n\t    if (dlev >= 0) { found=true;}\n\t    this.updateLevCnt(state,colval,dlev);\n\t    this.updateLevCnt(state,rowval,dlev);\n    \t    this.updateMatrixElement(state,arr,dlev,doc);\n\t}\n\tif (! found) {\n\t    console.log(\"this.makeMatrix No relevant thresholds found.\");\n\t    state.Html.setFootnote(state,\"No data with valid threshold was found.\");\n\t}\n    };\n    this.updateLevCnt=function(state,val,lev) {\n\tif (this.levCnt[val]  === undefined) { this.levCnt[val]={};};\n\tif (this.levCnt[val][lev]  === undefined) { this.levCnt[val][lev]=0;};\n\tthis.levCnt[val][lev]=this.levCnt[val][lev]+1;\n    };\n    this.makeMatrixElement=function(state,colval,rowval,matrix) {\n\tvar first=false;\n\tif (matrix[colval] === undefined) {first=true;matrix[colval]={};};\n\tif (matrix[colval][rowval] === undefined) {first=true;matrix[colval][rowval]={};};\n\tvar m=matrix[colval][rowval];\n\tif (first) {\n\t    m.colval=colval;\n\t    m.rowval=rowval;\n\t};\n\treturn m\n    };\n    this.getMatrixElement=function(colval,rowval,matrix) {\n\t//console.log(\"getMatrixElement:\",colval,\"|\",rowval,\"|\",JSON.stringify(matrix));\n\tif (matrix[colval] !== undefined && matrix[colval][rowval] !== undefined ) {\n\t    return matrix[colval][rowval];\n\t}\n\treturn;\n    };\n    this.getMatrixElements=function(icolvalues,irowval,matrix,iindex,istep) {\n\tvar colvalues= (icolvalues === undefined ? undefined : icolvalues.slice());\n\tvar index=iindex;\n\tvar step=istep;\n\tvar elements=undefined;\n\tif (colvalues === undefined) { // all colvalues\n\t    colvalues=Object.keys(matrix);\n\t    index=0;\n\t    step=colvalues.length;\n\t};\n\tvar clen=colvalues.length;\n\tif (matrix!==undefined && matrix !== null) {\n\t    for (var kk=index;kk<Math.min(clen,index+step);kk++) {\n\t\tvar colval=colvalues[kk];\n\t\tvar rowvalues=[irowval];\n\t\tif (irowval===undefined) {\n\t\t    var mm=matrix[colval];if (mm !== undefined) {rowvalues=Object.keys(mm);}\n\t\t}\n\t\t//console.log(\"Checking:\",kk,clen,colval,JSON.stringify(rowvalues),\n\t\t//\t    JSON.stringify(icolvalues),JSON.stringify(colvalues),irowval,index,step);\n\t\tvar rlen=rowvalues.length;\n\t\tfor (var ll=0;ll<rlen;ll++) {\n\t\t    var rowval=rowvalues[ll];\n\t\t    var element=this.getMatrixElement(colvalues[kk],rowval,matrix);\n\t\t    if (element === undefined) {\n\t\t    } else {\n\t\t\t//console.log(\"getMatrixElements Found:\",kk,colval,rowval);\n\t\t\tif (elements===undefined) {elements=[];};\n\t\t\telements.push(element);\n\t\t\t//console.log(\"Added element:\",JSON.stringify(element),element.docs.length);\n\t\t    }\n\t\t}\n\t    };               \n\t} else {\n\t    //console.log(\"No matrix available.\");\n\t}\n\treturn elements;\n    };\n    this.getMatrixRowElements=function(colval,rowvalues,matrix,index,step) {\n\tvar rlen=rowvalues.length;\n\tvar elements=undefined;\n\tif (matrix!==undefined) {\n            for (var kk=index;kk<Math.min(rlen,index+step);kk++) {\n\t\tvar element=this.getMatrixElement(colval,rowvalues[kk],matrix);\n\t\tif (element === undefined) {\n\t\t} else {\n                    //console.log(\"getMatrixElements Found:\",kk,rowvalues[kk],colval);\n                    if (elements===undefined) {elements=[];};\n                    elements.push(element);\n\t\t}\n            };               \n\t} else {\n\t    console.log(\"No matrix available.\");\n\t}\n\treturn elements;\n    };\n    this.getDocVal=function(state,doc,key) {\n\tvar val = doc[key];if (val  === undefined) {val=\"\";};return val;\n    };\n    this.updateMatrixElement=function(state,arr,dlev,doc) { // called once for every hit\n\tif (arr  === undefined) {\n\t    console.log(\"Undefined matrix element.\");\n\t    return;\n\t};\n\tvar nn=arr.cnt||0;\n\tvar dd=arr.def||0;\n\tif (arr.maxlev  === undefined || arr.maxlev === -1 ||\n\t    (dlev !== -1 && arr.maxlev < dlev)) {\n\t    arr.maxlev=dlev;\n\t};\n\tif (arr.minlev === undefined || (arr.minlev > dlev)) {\n\t    arr.minlev=dlev;\n\t};\n\tif (arr.docs === undefined) {arr.docs=[];};\n\tarr.cnt=nn+1;\n\t//console.log(\"Matrix doc:\",JSON.stringify(doc),dlev);\n\tif (doc._thr !== undefined && doc._thr.val !== undefined) {\n\t    arr.def=dd+1;\n\t    if (arr.def <= this.limit) {arr.docs.push(doc);};\n\t} else if (nn === dd) { // make sure at least 1 undef is added...\n\t    arr.docs.push(doc);\n\t}\n\t//if (state.Layout.state.tooltip === 0) {\n\t    var rank=state.Threshold.getRank(state,doc);\n\t    if (arr.tooltip === undefined) {arr.tooltip={};};\n\t    var el=this.getTooltipElement(state,arr.tooltip,doc);\n\t    if ( dlev !== -1 &&\n\t\t ((el.maxrank === undefined && el.maxlev === undefined) || \n\t\t  (el.maxlev < dlev || (el.maxlev===dlev && el.maxrank < rank)))\n\t       ) {\n\t\tel.maxlev=dlev;\n\t\tel.maxrank=rank;\n\t\tel.docs=[];\n\t\tel.docs.push(doc);\n\t    } else if (el.maxlev === dlev && el.maxrank === rank) {\n\t\tif ((dlev > 0 && dlev < state.Threshold.getMaxLevel(doc) && \n\t\t     el.docs.length < 3) || el.docs.length < 1) {\n\t\t    el.docs.push(doc);\n\t\t};\n\t    };\n\t//}\n\t//console.log (\"Updating:\",JSON.stringify(arr),dlev,rank,JSON.stringify(doc));\n    };\n    this.getTooltipElement=function(state,tooltip,doc) {\n\tvar ret=tooltip;\n\tvar keys=state.Path.tooltip.select;\n\tvar lenk=keys.length;\n\t//console.log(\"Select-keys: \",lenk,JSON.stringify(keys));\n\tfor (var ii=0;ii < lenk;ii++) {\n\t    var key=keys[ii];\n\t    var val=doc[key];\n\t    if (ret[val]=== undefined) {ret[val]={};};\n\t    ret=ret[val];\n\t    //console.log(\"Selecting: \",ii,key,val,JSON.stringify(ret));\n\t};\n\treturn ret;\n    };\n    this.getRange=function(state,matrix,colvalues,rowvalues) {\n\tvar range;\n\t//console.log(\"Thresholds:\",JSON.stringify(state.Threshold.thrs));\n\t//console.log(\"getRange Cols:\"+JSON.stringify(colvalues)+\" Rows:\"+JSON.stringify(rowvalues));\n\trange=undefined;\n\tvar slenx=colvalues.length;\n\tfor(var ii=0; ii<slenx; ii++) {\n\t    var sleny=rowvalues.length;\n\t    for(var jj=0; jj<sleny; jj++) {\n\t\tvar element=this.getMatrixElement(colvalues[ii],rowvalues[jj],matrix);\n\t\tif (element !== undefined) {\n\t\t    //console.log(\"Looking for range:\",ii,\"='\",colvalues[ii],\"' \",\n\t\t    //                                jj,\"='\",rowvalues[jj],\"'\",\n\t\t    //\t    JSON.stringify(element));\n\t\t    var docs=element.docs;\n\t\t    if (docs !== undefined) {\n\t\t\tvar dlen = docs.length;\n\t\t\tfor (var dd = 0; dd < dlen; dd++) {\n    \t\t\t    var doc = docs[dd];\n\t\t\t    if  (doc._thr !== undefined && doc._thr.val !== undefined) {\n\t\t\t\tvar val = doc._thr.val;\n\t\t\t\trange=this.setRange(range,val);\n\t\t\t\tvar ts,dr;\n\t\t\t\tif (doc._thr.max !== undefined) {\n\t\t\t\t    //console.log(\"GetRange:\",JSON.stringify(doc._thr));\n\t\t\t\t    ts=doc._thr.max;\n\t\t\t\t    dr=ts[0]-ts[ts.length-1];\n\t\t\t\t    if (ts[ts.length-1]>0 && ts[ts.length-1]-dr<0) { // include zero\n\t\t\t\t\trange=this.setRange(range,0);\n\t\t\t\t    }\n\t\t\t\t    //console.log(\"Found max:\",ts[0],ts[ts.length-1],dr,JSON.stringify(range),thr,key,val);\n\t\t\t\t} else if (doc._thr.min !== undefined) {\n\t\t\t\t    ts=doc._thr.min;\n\t\t\t\t    if (ts[ts.length-1]<0 && ts[ts.length-1]+dr>0) { // include zero\n\t\t\t\t\trange=this.setRange(range,0);\n\t\t\t\t    }\n\t\t\t\t    //console.log(\"Found min:\",ts[0],ts[ts.length-1],dr,JSON.stringify(range),thr,key,val);\n\t\t\t\t}\n\t\t\t\trange=this.setRange(range,ts[0]); // include lowest level\n\t\t\t\trange=this.setRange(range,ts[ts.length-1]); // include highest level\n\t\t\t\t//console.log(\"After adjustment:\",tlev,ts.length,JSON.stringify(ts[tlev]),\"range=\",JSON.stringify(range));\n\t\t\t    };\n\t\t\t}\n\t\t    } else {\n\t\t\t//console.log(\"No matrix-element found:\",\n\t\t\t//\t    JSON.stringify(colvalues[ii]),\n\t\t\t//\t    JSON.stringify(rowvalues[jj]),\n\t\t\t//\t    matrix.length,JSON.stringify(Object.keys(matrix))\n\t\t\t//\t   );\n\t\t    }\n\t\t}\n\t    }\n\t}\n\t//console.log(\"Initial range:\",JSON.stringify(range));\n\trange=this.adjustRange(range);\n\t//console.log(\"Final range:\",JSON.stringify(range));\n\treturn range;\n    };\n    this.setRange=function(range,val) {\n\t//console.log(\"SetRange Start:\",JSON.stringify(range),val);\n\tif (range  === undefined) {\n\t    range=[val,val];\n\t} else {\n\t    range=[Math.min(val,range[0]),Math.max(val,range[1])];\n\t};\n\t//console.log(\"SetRange Final:\",JSON.stringify(range),val);\n\treturn range;\n    };\n    this.adjustRange=function(range) {\n\tif (range !== undefined) {\n\t    //console.log(\"Adjusting:\",JSON.stringify(range));\n\t    var dx=(range[1]-range[0]);\n\t    range=[range[0]-dx*0.01,range[1]+dx*0.01];\n\t    if (range[0]>0 && range[0]-dx<0) { range[0]=0;}\n\t    if (range[1]<0 && range[1]+dx>0) { range[1]=0;}\n\t    //console.log(\"Result:\",JSON.stringify(range));\n\t    return range;\n\t}\n    };\n    this.sortTooltipDocs=function(state,docs) {\n\tvar sort=state.Path.tooltip.sort||[];\n\tvar lens=sort.length;\n\tvar order=state.Path.order;\n\tvar funk=function(a,b){\n\t    for (var ss=0;ss<lens;ss++) {\n\t\tvar key=sort[ss];\n\t\tvar va=a[key];\n\t\tvar vb=b[key];\n\t\tif (order[key] !== undefined) { // we have a predefined order\n\t\t    var ia=order[key].indexOf(va);\n\t\t    var ib=order[key].indexOf(vb);\n\t\t    if (ia !==-1 && ib !== -1) {\n\t\t\treturn ia-ib\n\t\t    } else if (ia !== -1) {\n\t\t\treturn 1;\n\t\t    } else if (ia !== -1) {\n\t\t\treturn -1;\n\t\t    } else if (va !== vb) {\n\t\t\treturn (va > vb) - (va < vb);\n\t\t    }\n\t\t} else {\n\t\t    if (va !== vb) {\n\t\t\treturn (va > vb) - (va < vb);\n\t\t    }\n\t\t}\n\t    }\n\t    return 0;\n\t};\n\tvar ret=docs.sort(funk);\n\treturn ret; \n    };\n    this.sortMatrixValues=function(state) {\n\tvar tlen=state.Path.other.table.length;\n\t//console.log(\"this.sortMatrixValues row/column:\",JSON.stringify(state.Path.other.table),tlen);\n\t// sort values\n\tfor (var jj = 0; jj < tlen; jj++) {\n    \t    var key=state.Path.other.table[jj];\n\t    if (this.values[key] !== undefined) {\n\t\t//console.log(\"Key:\",key,\"Values:\",JSON.stringify(this.values[key]),jj,\n\t    \t//\t    \" sort:\",JSON.stringify(state.Database.keyCnt));\n\t\tif (state.Database.keyCnt[key].order  === state.Database.casc) {\n    \t\t    this.values[key]=this.values[key].sort(state.Utils.ascending);\n\t\t} else if (state.Database.keyCnt[key].order  === state.Database.nasc) {\n    \t\t    this.values[key]=this.values[key].sort(state.Utils.descendingN);\n\t\t} else if (state.Database.keyCnt[key].order  === state.Database.cdes) {\n    \t\t    this.values[key]=this.values[key].sort(state.Utils.descending);\n\t\t} else if (state.Database.keyCnt[key].order  === state.Database.ndes) {\n    \t\t    this.values[key]=this.values[key].sort(state.Utils.descendingN);\n\t\t};\n\t\t//console.log(\"Sorted keys:\",key,JSON.stringify(this.values[key]),state.Database.keyCnt[key].order);\n\t\t// override sort\n\t\tif (state.Path.order !== undefined &&\n\t\t    state.Path.order[key] !== undefined) { // we have a predefined order\n\t\t\tvar buff=[];\n\t\t    var olen=state.Path.order[key].length;\n\t\t    var kk,val;\n\t\t    //console.log(\"Order length:\",olen,jj);\n\t\t    // add ordered values (not in trash)\n\t\t    for (kk = 0; kk < olen; kk++) {\n\t\t\tval=state.Path.order[key][kk];\n\t\t\tif (this.values[key].indexOf(val) !== -1) {\n\t\t\t    //console.log(\"Adding:\",kk,val);\n\t\t\t    buff.push(val);\n\t\t\t}\n\t\t    }\n\t\t    // add remaining this.values values (not in trash)\n\t\t    var rlen=this.values[key].length;\n\t\t    for (kk = 0; kk < rlen; kk++) {\n\t\t\tval=this.values[key][kk];\n\t\t\tif (buff.indexOf(val)  === -1) { // not in sub\n\t\t\t    buff.push(val);\n\t\t\t    state.Path.order[key].push(val);\n\t\t\t}\n\t\t    };\n\t\t    this.values[key]=buff; // use requested order\n\t\t    //console.log(\"Using requested order:\",key);\n\t\t};\n\t    };\n    \t    //console.log(\"Found values:\",key,JSON.stringify(this.values[key]));\n\t};\n    };\n    this.sortedKeys=function(state,obj) {\n\tvar key;\n\tvar skeys = [];\n\tfor(key in obj){\n\t    if (obj.hasOwnProperty(key) && key.substring(0,1) !== \"_\") {skeys.push(key);}\n\t};\n\tskeys=skeys.sort(state.Utils.ascending);\n\tvar ks=[];\n\tvar slen=skeys.length;\n\tfor (var jj = 0; jj < slen; jj++) {\n\t    key=skeys[jj];\n\t    if (key.substr(state,0,1) !== \"_\" && ks.indexOf(key) === -1) {\n\t\tks.push(key);\n\t    }\n\t}\n\t//console.log(\"state.Utils.sortedKeys...\",JSON.stringify(skeys),JSON.stringify(ks));\n\treturn ks;\n    }\n    this.getInfo=function(state,elements) {\n\tvar tooltip={}; // list of maxrank-docs\n\tvar cnt=0;\n\tvar maxlev=-1;\n\tvar minlev=0;\n\tvar docs=[];\n\tif (elements === undefined) {\n\t    console.log(\"No elements found.\");\n\t} else {\n\t    var elen=elements.length;\n\t    for (var ee=0;ee<elen;ee++) {\n\t\tcnt=cnt+elements[ee].cnt;\n\t\tif (elements[ee].maxlev === undefined || elements[ee].minlev === undefined) {\n\t\t    minlev=Math.min(minlev,-2);\n\t\t} else {\n\t\t    maxlev=Math.max(maxlev,elements[ee].maxlev);\n\t\t    minlev=Math.min(minlev,elements[ee].minlev);\n\t\t}\n\t\t// loop over tooltips and put maxrank-docs into tooltip array\n\t\tthis.mergeTooltipElement(state,elements[ee].tooltip,tooltip,state.Path.tooltip.select.length);\n\t    }\n\t    docs=this.getTooltipDocs(state,tooltip);\n\t    //console.log(\"Tooltip docs:\",JSON.stringify(docs));\n\t}\n\treturn {cnt:cnt,\n\t\tminlev:minlev,\n\t\tmaxlev:maxlev,\n\t\ttooltip:this.sortTooltipDocs(state,docs)};\n    }\n    this.mergeTooltipElement=function(state,nel,mel,pos) {\n\tif (nel === undefined) {return;} // nothing to merge\n\tvar ipos=pos;\n\tif (ipos === undefined) {ipos=state.Path.tooltip.select.length;}\n\t//console.log(\"Merging tooltip:\",ipos,JSON.stringify(nel));\n\tif (ipos > 0) {\n\t    var vals=Object.keys(nel);\n\t    var lenv=vals.length;\n\t    for (var ii=0;ii<lenv;ii++) {\n\t\tvar val=vals[ii];\n\t\tif (mel[val]===undefined) {mel[val]={}};\n\t\tthis.mergeTooltipElement(state,nel[val],mel[val],ipos-1);\n\t    }\n\t} else {\n\t    if (mel.maxrank === undefined || mel.maxrank < nel.maxrank) {\n\t\tmel.maxrank=nel.maxrank;\n\t\tmel.docs=nel.docs;\n\t    };\n\t}\n    };\n    this.getTooltipDocs=function(state,el,pos) {\n\tvar docs=[];\n\tvar ipos=pos;\n\tif (ipos === undefined) {ipos=state.Path.tooltip.select.length;}\n\tif (el !== undefined) {\n\t    if (ipos > 0) {\n\t\tvar vals=Object.keys(el);\n\t\tvar lenv=vals.length;\n\t\tfor (var ii=0;ii<lenv;ii++) {\n\t\t    var val=vals[ii];\n\t\t    var ndocs=this.getTooltipDocs(state,el[val],ipos-1);\n\t\t    state.Utils.cpArray(docs,ndocs);\n\t\t}\n\t    } else if (el.docs !== undefined) {\n\t\tstate.Utils.cpArray(docs,el.docs);\n\t    };\n\t};\n\treturn docs;\n    };\n    this.checkTooltip=function(state,data) {\n\tvar rowval=data.rowval;\n\tvar colvalues=data.colvalues;\n\tvar step=data.step;\n\tvar index=data.index;\n\t// get elements\n\tvar elements=this.getMatrixElements(colvalues,rowval,state.React.matrix,index,step)||[];\n\t// loop over elements\t\n\tvar lene=elements.length;\n\tvar ttset=true;\n\tfor (var ee=0; ee<lene; ee++) {\n\t    // check if elements have tooltip set\n\t    if (elements[ee].tooltip===undefined) {\n\t\tttset=false;\n\t    }\n\t    //console.log(\"Element:\",ee,JSON.stringify(elements[ee]));\n\n\t};\n\treturn ttset;\n    };\n    this.addTooltip=function(state,data) {\n\tconsole.log(\"Updated Matrix with tooltip.\",data.rowkey,data.colkey);\n\tvar rowval=data.rowval;\n\tvar colvalues=data.colvalues;\n\tvar step=data.step;\n\tvar index=data.index;\n\t// get elements\n\tvar elements=this.getMatrixElements(colvalues,rowval,state.React.matrix,index,step)||[];\n\tvar lene=elements.length;\n\tfor (var ee=0; ee<lene; ee++) {\n\t    // check if elements have tooltip set\n\t    if (elements[ee].tooltip===undefined) {\n\t\tthis.addElementTooltip(state,elements[ee]);\n\t    }\n\t};\n    };\n    this.makeCntTooltip=function(state,docs) {\n\t// called when matrix is made if tooltip mode is toggled\n\tvar tooltip={};\n\tvar dlen=docs.length;\n\tfor (var ii = 0; ii < dlen; ii++) {\n    \t    var doc=docs[ii];\n\t    var rank=doc._rank\n\t    var el=this.getTooltipElement(state,tooltip,doc);\n\t    if (el.maxrank === undefined || el.maxrank < rank) {\n\t\tel.maxrank=rank;\n\t\tel.docs=[];\n\t\tel.docs.push(doc);\n\t    } else if (el.maxrank === rank) {\n\t\tif (rank!==0 || el.docs.length < 3) {\n\t\t    el.docs.push(doc);\n\t\t}\n\t    }\n\t    //console.log(\"Rank:\",rank,el.maxrank,JSON.stringify(tooltip));\n\t}\n\treturn tooltip;\n    };\n    this.getElementWhere=function(state,el) {\n\tvar where = state.Database.getWhere(state);\n\tvar colkey= state.Path.getColKey(state);\n\tvar rowkey= state.Path.getRowKey(state);\n\tif (rowkey !== undefined && rowkey !== \"\") {\n\t    var rowval=el.rowval;\n\t    where=state.Database.addWhere(where,rowkey+\"='\" + rowval+\"'\");\n\t};\n\tif (colkey !== undefined && colkey !== \"\") {\n\t    var colval=el.colval;\n\t    where=state.Database.addWhere(where,colkey+\"='\" + colval+\"'\");\n\t};\n\treturn where;\n    };\n    this.addAllTooltip=function(state,matrix) {\n\t// loop over all elements and add tooltips\n\tvar colvalues=Object.keys(matrix);\n\tvar lenc=colvalues.length;\n\tfor (var cc=0;cc<lenc;cc++) {\n\t    var col=colvalues[cc];\n\t    var column=matrix[col];\n\t    var rowvalues=Object.keys(column);\n\t    var lenr=rowvalues.length;\n\t    for (var rr=0;rr<lenr;rr++) {\n\t\tvar row=rowvalues[rr];\n\t\tvar el=column[row];\n\t\tthis.addElementTooltip(state,el);\n\t    }\n\t}\n    };\n    this.addElementTooltip=function(state,el) {\n\t// called when info-button is pressed - to add tooltip to element...\n\tvar where = this.getElementWhere(state,el);\n\tvar docs=[];\n\tif (el.cnt>0) {docs=state.Database.getDocs(state,where);};\n\tel.tooltip=this.makeCntTooltip(state,docs);\n\t//console.log(\"Added tooltip for element:\",docs.length,where); // JSON.stringify(el);\n    };\n    this.getTooltip=function(state,data) {\n\tvar rowval=data.rowval;\n\tvar colvalues=data.colvalues;\n\tvar step=data.step;\n\tvar index=data.index;\n\t// // get elements\n\tvar elements=this.getMatrixElements(colvalues,rowval,state.React.matrix,index,step);\n\n\t//console.log(\"Elements:\",JSON.stringify(elements));\n\n\tvar info=this.getInfo(state,elements);\n\treturn info.tooltip;\n    };\n};\nexport default Matrix;\n","//console.log(\"Loading NavigateLib.js\");\n\nfunction Navigate() {\n    this.history={pos:0, // position of next snapshot\n\t\t  track:[]\n\t\t };\n    this.home=undefined;\n    this.rank={};          // key rank\n    this.trash={};          // key trash\n    this.maxStore=1000;       // max number of states stored\n    this.reset=function(state) { // store state\n\tstate.Navigate.history={pos:0,track:[]};\n\tthis.store(state);\n    };\n    this.store=function(state) { // store state\n\tvar snapshot=state.Path.getSnapshot(state)\n\t// remove old data...\n\tif (state.Navigate.history.track.length>state.Navigate.history.pos+1) {\n\t    state.Navigate.history.track.length=state.Navigate.history.pos+1;\n\t} else if (state.Navigate.history.track.length > this.maxStore) {\n\t    var keep=this.maxStore;\n\t    state.Navigate.history.track=state.Navigate.history.track.splice(-keep,keep);\n\t};\n\tif (state.Navigate.history.track.length>0) {\n\t    var old=state.Navigate.history.track[state.Navigate.history.track.length-1];\n\t    if (JSON.stringify(snapshot)===JSON.stringify(old)) {\n\t\t//console.log(\"History:\",JSON.stringify(snapshot),JSON.stringify(state.Navigate.history.track));\n\t\tconsole.log(\"Ignoring old image.\");\n\t\treturn false;\n\t    }\n\t}\n\tstate.Navigate.history.track.push(snapshot);\n\tstate.Navigate.history.pos=state.Navigate.history.track.length-1;\n\t//console.log(\">>>>>> Stored state...\",JSON.stringify(state.Navigate.history),\n\t//\t    this.canUndo(state),this.canRedo(state),\n\t//\t    state.Navigate.history.pos,state.Navigate.history.track.length);\n\t//console.log(\">>>>> stored state.\",this.snapshotToString(state,snapshot));\n\t//this.printSnapshot(state);\n\tthis.refreshHistory(state);\n    };\n    this.refreshHistory=function(state) {\n\tif (state.React.Config !== undefined) {\n\t    state.React.Config.show();\n\t};\n    };\n    this.canUndo=function(state) {\n\treturn (state.Navigate.history.pos > 0);\n    };\n    this.canRedo=function(state) {\n\treturn (state.Navigate.history.pos < state.Navigate.history.track.length-1);\n    };\n    this.undo=function(state) {\n\t//console.log(\">>>>>> Undo:\",this.canUndo(state));\n\tif (this.canUndo(state)) {\n\t    state.Navigate.history.pos=state.Navigate.history.pos-1;\n\t    var snapshot=state.Navigate.history.track[state.Navigate.history.pos]\n\t    //console.log(\"Setting snapshot:\",this.snapshotToString(state,snapshot));\n\t    state.Path.setSnapshot(state,snapshot);\n\t    this.refreshHistory(state);\n\t    state.Show.show(state);\n\t};\n    };\n    this.redo=function(state) {\n\t//console.log(\">>>>>> Redo:\",this.canRedo(state),state.Navigate.history.pos,JSON.stringify(state.Navigate.history.track));\n\tif (this.canRedo(state)) {\n\t    state.Navigate.history.pos=state.Navigate.history.pos+1;\t\n\t    var snapshot=state.Navigate.history.track[state.Navigate.history.pos]\n\t    //console.log(\"Setting snapshot:\",this.snapshotToString(state,snapshot));\n\t    state.Path.setSnapshot(state,snapshot);\n\t    this.refreshHistory(state);\n\t    state.Show.show(state);\n\t}\n    };\n    this.onClickTablePath=function(state,skey,tkey) {\n\tvar reload=false;\n\tvar sid=state.Path.keys.other.indexOf(skey);\n\tvar tid=state.Path.keys.other.indexOf(tkey);\n\t//console.log(\"Table path: Sid:\",sid,\" tid:\",tid,skey,tkey);\n\tif (sid !== -1 && tid !== -1) {\n\t    if (sid > tid) {\n\t\tvar src=state.Path.keys.other.splice(sid, 1);                 // remove from path\n\t\tvar trg=state.Path.keys.other.splice(tid, 1);                 // remove from path\n\t\tstate.Utils.pushKey(state.Path.keys.other,src,tid);\n\t\tstate.Utils.pushKey(state.Path.keys.other,trg,sid);\n\t\t//state.Utils.spliceArray(state.Path.keys.other,tid,0,src); // first position (table)\n\t\t//state.Utils.spliceArray(state.Path.keys.other,sid,0,trg); // first position (table)\n\t\tstate.Path.exportAllKeys(state);\n\t\treload=true;\n\t    }\n\t}\n\tstate.Html.setFootnote(state,\"Extracting data.\");\n\tstate.Html.setProgress(state, true);\n\tstate.Navigate.store(state);\n\tstate.Show.show(state,reload);\n    };\n    this.onClickRestValue=function(state,val,key,where) {\n\t//console.log(\"onClickRestValue:\",val,key,JSON.stringify(state.Path.keys));\n\tif (state.Auto.selectTableKey(state,key,val,where,1)) {\n\t    state.Html.setFootnote(state,\"Extracting data.\");\n\t    state.Html.setProgress(state, true);\n\t    state.Navigate.store(state);\n\t    state.Show.show(state);\n\t};\n\tconsole.log(\"onClickRestValue done:\",val,key,JSON.stringify(state.Path.keys));\n    };\n    this.onClickPath=function(state,ttyp,tkey) {\n\tvar reload=false; // matrix changed?\n\tvar tid,tin,sin,src,tib;\n\t//console.log(\"Clicked:\",ttyp,tkey,JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other));\n\tif (ttyp  === \"path\") { // path -> table\n\t    tid=state.Path.keys.path.indexOf(tkey);\n\t    if (tid !== -1) {\n\t\tsrc=state.Path.keys.path.splice(tid, 1);                 // remove from path\n\t\tstate.Utils.pushKey(state.Path.keys.other,src,2);\n\t\t//state.Utils.spliceArray(state.Path.keys.other,0,0,src); // first position (table)\n\t\tstate.Path.cleanSelect(state);\n\t\tstate.Navigate.store(state);\n\t\treload=true;\n\t    }\n\t} else if (ttyp  === \"table\") { // other -> table\n\t    tid=state.Path.keys.other.indexOf(tkey);\n\t    //console.log(\"Tin:\",tin,\" tid:\",tid);\n\t    if (tid !== -1) {\n\t\tsrc=state.Path.keys.other.splice(tid, 1);                 // remove from path\n\t\tstate.Utils.pushKey(state.Path.keys.other,src,0);\n\t\t//state.Utils.spliceArray(state.Path.keys.other,0,0,src); // first position (table)\n\t\tstate.Path.exportAllKeys(state);\n\t\tstate.Navigate.store(state);\n\t\treload=true;\n\t    }\n\t} else if (ttyp === \"rest\") { // rest -> table\n\t    tid=state.Path.keys.other.indexOf(tkey);\n\t    if (tid !== -1) {\n\t\tsrc=state.Path.keys.other.splice(tid, 1);                 // remove from path\n\t\tstate.Utils.pushKey(state.Path.trash,src);\n\t\t//state.Utils.spliceArray(state.Path.keys.other,0,0,src); // first position (table)\n\t\tstate.Navigate.store(state);\n\t\treload=true;\n\t    };\n\t} else if (ttyp === \"trash\") {\n\t    tid=state.Path.trash.indexOf(tkey);\n\t    tin=state.Path.keys.other.indexOf(tkey);\n\t    sin=state.Path.keys.path.indexOf(tkey);\n\t    tib=state.Path.other.table.indexOf(tkey);\n\t    console.log(\"Trashing start:\",JSON.stringify(state.Path.trash),tkey,tid,tin,sin,tib);\n\t    if (tid !== -1) {                                             // trash => other\n\t\tsrc=state.Path.trash.splice(tid, 1);\n\t\tstate.Utils.pushKey(state.Path.keys.other,src);\n\t\t//if ( tin === -1 ) {\n\t\t//    state.Path.keys.other=state.Path.keys.other.concat(src);  // last position\n\t\t//};\n\t    } else if (tin !== -1 && tib !== -1) {                        // table => trash\n\t\tsrc=state.Path.keys.other.splice(tin, 1);\n\t\tstate.Utils.pushKey(state.Path.trash,src);\n\t\treload=true;\n\t\t//state.Path.trash=state.Path.trash.concat(src);            // last position\n\t    } else if (sin !== -1 && tin === -1) {                         // select => other\n\t\tstate.Utils.pushKey(state.Path.keys.other,tkey);\n\t\t//state.Path.keys.other=state.Path.keys.other.concat(tkey); // last position\n\t    } else if (sin !== -1 && tin !== -1) {                        // other => select\n\t\tsrc=state.Path.keys.other.splice(tin, 1);\n\t    } else if (sin === -1 && tin !== -1) {                        // other => trash\n\t\tsrc=state.Path.keys.other.splice(tin, 1);\n\t\tstate.Utils.pushKey(state.Path.trash,src);\n\t\t//state.Path.trash=state.Path.trash.concat(src);            // last position\n\t    };\n\t    state.Path.exportAllKeys(state);\n\t    state.Navigate.store(state);\n\t    //console.log(\"Trashed:\",JSON.stringify(state.Path.trash),JSON.stringify(state.Path.keys));\n\t}\n\tstate.Html.setFootnote(state,\"Extracting data.\");\n\tstate.Html.setProgress(state, true);\n\t//console.log(\"Showing:\",JSON.stringify(state.Path.other));\n\tstate.Show.show(state,reload);\n    };\n    this.onClickAddOther=function(state,ttyp,tkey,active) { // add key to other\n\tvar ntab=state.Path.other.table.length;\n\tvar reload=(ntab!==2); // matrix changed?\n\tvar tid,tin,sin,src;\n\t//console.log(\"Clicked:\",ttyp,tkey,JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other));\n\t//ttyp \"select\", \"rest\", \"trash\"\n\t//console.log(\"Adding start:\",tkey,JSON.stringify(state.Path.trash),JSON.stringify(state.Path.keys));\n\ttid=state.Path.trash.indexOf(tkey);\n\ttin=state.Path.keys.other.indexOf(tkey);\n\tsin=state.Path.keys.path.indexOf(tkey);\n\tif (tin === -1) { // add if not already in state.Path.keys.other\n\t    if (tid !== -1) {                                // trash => other\n\t\tsrc=state.Path.trash.splice(tid, 1);\n\t\tstate.Utils.pushKey(state.Path.keys.other,src);\n\t\t//if ( tin === -1 ) {\n\t\t//    state.Path.keys.other=state.Path.keys.other.concat(src);  // last position\n\t\t//};\n\t    } else if (sin !== -1) {                         // select => other\n\t\tstate.Utils.pushKey(state.Path.keys.other,tkey);\n\t\t//state.Path.keys.other=state.Path.keys.other.concat(tkey); // last position\n\t    } else { // not in trash,select or other, how strange\n\t\tconsole.log(\"Strange key:\",tkey,\n\t\t\t    JSON.stringify(state.Path.trash),\n\t\t\t    JSON.stringify(state.Path.keys));\n\t    };\n\t} else { // remove if in state.Path.keys.other\n\t    if (sin !== -1) { // is already in selected list\n\t\tsrc=state.Path.keys.other.splice(tin, 1);\n\t    } else if ( tid === -1) { // move to trash if its not already there\n\t\tsrc=state.Path.keys.other.splice(tin, 1);\n\t\tstate.Utils.pushKey(state.Path.trash,src);\n\t    } else { // its already in trash, just delete it\n\t\tsrc=state.Path.keys.other.splice(tin, 1);\n\t    }\n\t};\n\tstate.Path.exportAllKeys(state);\n\tstate.Navigate.store(state);\n\t//console.log(\"Keys:\",reload,JSON.stringify(state.Path.keys));\n\t//console.log(\"Trash:\",reload,JSON.stringify(state.Path.trash));\n\t//console.log(\"Other:\",JSON.stringify(state.Path.other));\n\tstate.Show.show(state,reload);\n    };\n    this.switchTableKey=function(state,key) {\n\tvar tid=state.Path.keys.other.indexOf(key);\n\tif (tid !== -1) {\n\t    var src=state.Path.keys.other.splice(tid, 1);                 // remove from path\n\t    state.Path.keys.other=state.Path.keys.other.concat(src);  // last position\n\t    //state.Utils.pushKey(state.Path.keys.other,src,0);       // first position\n\t    //state.Utils.spliceArray(state.Path.keys.other,0,0,src); // first position (table)\n\t    state.Path.exportAllKeys(state);\n\t    var colkey=state.Path.getColKey(state);\n\t    var rowkey=state.Path.getRowKey(state);\n\t    state.Navigate.store(state);\n\t    var reload=(src[0]!==colkey && src[0]!==rowkey);\n\t    //console.log(\"Switched:\",JSON.stringify(src[0]),colkey,rowkey,reload);\n\t    state.Show.show(state,reload);\n\t}\t\n    };\n    this.selectItem=function(state,colkey,rowkey,colval,rowval,colwhere,rowwhere,colcnt,rowcnt) {\n\t//console.log(\"Selectitem:\",colkey,rowkey,colval,rowval,colwhere,rowwhere,colcnt,rowcnt);\n\t//var colkey=state.Path.getColKey(state);\n\t//var rowkey=state.Path.getRowKey(state);\n\tvar rank=state.Utils.cp(state.Path.keys.other);\n\t//console.log(\"SelectItem:\",colkey,\"=\",colval,\"  \",rowkey,\"=\",rowval);\n\tif (state.Layout.getLayoutMode(state)  === state.Layout.modes.layout.Map) {\n\t    if (this.selectMapKey(state,colkey,colval,colwhere,colcnt)) {\n\t\tthis.rank[colkey]=state.Utils.cp(rank);\n\t\t//this.flip[colkey]=this.getFlip(state);\n\t\tif (this.selectMapKey(state,rowkey,rowval,rowwhere,rowcnt)) {\n\t\t    this.rank[rowkey]=state.Utils.cp(rank);\n\t\t    //this.last.flip[rowkey]=this.getFlip(state);\n\t\t}\n\t\t//this.trash[colkey]=state.Path.checkTableKeys(state);\n\t\t//console.log(\"state.Path.checkTableKeys Done.\",colkey,JSON.stringify(this.trash[colkey]));\n\t    };\n\t    //console.log(\"Path:\",JSON.stringify(state.Path))\n\t    state.Html.setFootnote(state,\"Extracting data.\");\n\t    state.Html.setProgress(state, true);\n\t    state.Navigate.store(state);\n\t    state.Show.show(state);\t\n\t} else {\n\t    var changed=false;\n\t    if (state.Auto.selectTableKey(state,colkey,colval,colwhere,colcnt)) {\n\t\t//console.log(\"Selected:\",colkey,colval,JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other));\n\t\tthis.rank[colkey]=state.Utils.cp(rank);\n\t\tchanged=true;\n\t    } else {\n\t\tconsole.log(\"Unable to select:\",colkey);\n\t    };\n\t    if (state.Auto.selectTableKey(state,rowkey,rowval,rowwhere,rowcnt)) {\n\t\t//console.log(\"Selected:\",rowkey,rowval,JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other));\n\t\tthis.rank[rowkey]=state.Utils.cp(rank);\n\t\tchanged=true;\n\t    } else {\n\t\tconsole.log(\"Unable to select:\",rowkey);\n\t    }\n\t    if (changed) {\n\t\t//this.trash[colkey]=state.Path.checkTableKeys(state);\n\t\t//console.log(\"state.Path.checkTableKeys Done.\",colkey,JSON.stringify(this.trash[colkey]));\n\t\tstate.Html.setFootnote(state,\"Extracting data.\");\n\t\tstate.Html.setProgress(state, true);\n\t\tstate.Navigate.store(state);\n\t\tstate.Show.show(state);\n\t    }\n\t    //console.log(\"Selectitem Done:\",rowwhere,colwhere);\n\t};\n    };\n    this.selectMapKey=function(state,key,val,where,cnt) { // keep abscissa\n\t//console.log(\"Table.Selecting:\",key,\"=\",val,\", where=\",where);\n\tstate.Path.select.val[key]=[val];\n\tstate.Path.where[key]=where;\n\tif (state.Utils.missing(state.Path.keys.path,key)) {\n\t    //console.log(\"Adding to path:\",key);\n\t    state.Utils.pushKey(state.Path.keys.path,key);\n\t    //state.Path.keys.path=state.Path.keys.path.concat(key); // last path position\n\t};\n\treturn true;\n    };\n    this.selectKey=function(state,key,val,where,cnt) {\n\tvar rank=state.Utils.cp(state.Path.keys.other);\n\t//console.log(\"SelecRow: rowkey=\",key,\" val=\",val);\n\t//console.log(\"SelectKey:\",key,val,where,cnt);\n\tif (state.Layout.getLayoutMode(state)  === state.Layout.modes.layout.Map) {\n\t    if (this.selectMapKey(state,key,val,where,cnt)) {\n\t\tthis.rank[key]=state.Utils.cp(rank);\n\t    }\n\t    state.Html.setFootnote(state,\"Extracting data.\");\n\t    state.Html.setProgress(state, true);\n\t    state.Navigate.store(state);\n\t    state.Show.show(state);\n\t} else if (state.Auto.selectTableKey(state,key,val,where,cnt)) {\n\t    this.rank[key]=rank;\n\t    //this.trash[key]=state.Path.checkTableKeys(state);\n\t    //console.log(\"state.Path.checkTableKeys Done.\",rowkey,JSON.stringify(this.trash[key]));\n\t    state.Html.setFootnote(state,\"Extracting data.\");\n\t    state.Html.setProgress(state, true);\n\t    state.Navigate.store(state);\n\t    state.Show.show(state);\n\t} else {\n\t    console.log(\"Unable to select:\",key);\n\t}\n\t//console.log(\"Finally:\",JSON.stringify(state.Path.keys.other));\n    };\n    this.snapshotToString=function(state,snapshot) {\n\treturn (\"Snapshot: \" + JSON.stringify(snapshot.keys.path));\n    };\n    this.printSnapshot=function(state) {\n\tvar lenv=state.Navigate.history.track.length;\n\tfor (var ii=0;ii<lenv;ii++) {\n\t    var snapshot=state.Navigate.history.track[ii];\n\t    if (ii===state.Navigate.history.pos) {\n\t\tconsole.log(\"@@@@\",ii,\" => \",this.snapshotToString(state,snapshot));\n\t    } else {\n\t\tconsole.log(\"    \",ii,\" => \",this.snapshotToString(state,snapshot));\n\t    }\n\t};\n    };\n};\nexport default Navigate;\n","//console.log(\"Loading PathLib.js\");\n\nfunction Path() {\n    this.keys={path:[], // selected keys\n\t       other:[] // keys available for selection\n\t      };\n    this.other={table:[], // table keys\n\t\trest:[]   // keys available for table\n\t       };\n    this.trash=[];         // remaining valid keys\n    this.valid=[];         // list of valid keys\n    this.ignore=[\"max\",\"min\",\"minlat\",\"minlon\",\"maxlat\",\"maxlon\",\"cnt\",\"level\"]; // only visible in 1D and 0D tables\n    this.select={val:{}};  // current selection criteria\n    this.where={};         // current cache for where expressions\n    this.home={path:[],val:{}};  // initial home for data...\n    this.tooltip={keys:[],   // keys that will be displayed (in addition to row/col-keys)\n\t\t  select:[], // extra level of keys to distinguish reports\n\t\t  sort:[],   // which keys should be sorted?\n\t\t  click:[]}; // which keys should be clickable...\n    this.type = {\n\tpath :      {ityp:-1,ptyp:\"path\"},\n\teye :       {ityp:0, ptyp:\"eye\"},\n\ttable :     {ityp:1, ptyp:\"table\"},\n\trest :      {ityp:2, ptyp:\"rest\"},\n\ttrash :     {ityp:3, ptyp:\"trash\"},\n\ttrashRest : {ityp:4, ptyp:\"trashRest\"},\n\trow :       {ityp:5, ptyp:\"row\"},\n\tcol :       {ityp:6, ptyp:\"col\"},\n\titem :      {ityp:7, ptyp:\"item\"}\n    };\n    this.order={}; // how to order data\t    \n    this.init=function(state){\n\tstate.Utils.init(\"Path\",this);\n    };\n    this.cleanSelect=function(state) {\n\tvar pkeys=state.Path.keys.path;\n\tvar keys=Object.keys(state.Path.select.val);\n\tvar lenk=keys.length;\n\tfor (var ii=0;ii<lenk;ii++) {\n\t    var key=keys[ii];\n\t    if (pkeys.indexOf(key) === -1) {\n\t\tstate.Path.select.val[key]=undefined;\n\t    }\n\t}\n    };\n    this.goHome=function(state) {\n\tvar buff=state.Utils.cp(state.Path.keys.path);\n\tstate.Utils.remArray(buff,state.Path.home.path);\n\tstate.Utils.remArray(state.Path.keys.other,buff);\n\tstate.Utils.remArray(state.Path.keys.other,state.Path.home.path);\n\tstate.Utils.prepArray(state.Path.keys.other,buff);\n\tstate.Path.select.val=state.Utils.cp(state.Path.home.val);\n\tstate.Path.keys.path=state.Utils.cp(state.Path.home.path);\n\t//console.log(\">>>>>> Path.goHome: \",JSON.stringify(state.Path.home),JSON.stringify(state.Path.keys.path));\n\tstate.Utils.pushUrl(state);\n\tstate.Navigate.store(state);\n\tstate.Navigate.refreshHistory(state);\n\tstate.Show.show(state);\n    };\n    this.setHome=function(state) {\n\tstate.Path.cleanSelect(state);\n\tthis.home.path=state.Utils.cp(state.Path.keys.path);\n\tthis.home.val=state.Utils.cp(state.Path.select.val);\n\tstate.Utils.pushUrl(state);\n\tconsole.log(\"Setting home.\");\n    };\n    this.getSnapshot=function(state) { // store state\n\treturn {keys:state.Utils.cp(state.Path.keys),\n\t\tother:state.Utils.cp(state.Path.other),\n\t\tselect:state.Utils.cp(state.Path.select),\n\t\torder:state.Utils.cp(state.Path.order)};\n    };\n    this.setSnapshot=function(state,snapshot) { // store state\n\tstate.Utils.restore(state.Path,snapshot);\n    };\n    this.toggleSelect=function(state,key,val) {\n\tvar vals=state.Path.select.val[key];\n\t//console.log(\"toggleSelect:\",key,JSON.stringify(vals),\"'\"+val+\"'\");\n\tif (vals !== undefined) {\n\t    var vid=vals.indexOf(val)\n\t    if (vid !== -1) {  // remove item\n\t\tvals.splice(vid,1);\n\t\tif (vals.length===0) { // can never be totally empty...\n\t\t    vals.push(state.Database.makeKeytrg(state,key,state.Database.keytrg.Max));\n\t\t}\n\t\tstate.Path.select.val[key]=vals;\n\t    } else {\n\t\tstate.Path.select.val[key].push(val); // add item\n\t    }\n\t    state.Database.setWhere(state,key,state.Path.select.val[key]);\n\t    state.Show.showPath(state);\n\t    //console.log(\"Finally Vals:\",key,JSON.stringify(state.Path.select.val[key]));\n\t}\n    };\n    this.getTitle=function(state) {\n\tvar title=\"\";\n\tvar keys=state.Path.keys.path;\n\tkeys.forEach(\n\t    function(key,index) {\n\t\tvar vals=state.Path.select.val[key];\n\t\t//console.log(\"   select:\",key,JSON.stringify(vals));\n\t\tif (vals === undefined) {vals=[];};\n\t\tvar lenv=vals.length\n\t\tfor (var ii=0;ii<lenv;ii++) {\n\t\t    var val=vals[ii]\n\t\t    if (title !== \"\") { title=title + \" | \";};\n\t\t    title=title+state.Database.getTitleDynamic(state,key,val);\n\t\t}\n\t    }\n\t);\n\t//console.log(\"Pathlib getTitle keys:\",JSON.stringify(keys),title);\n\treturn title;\n    };\n    this.makeCnt=function(state,key) {\n\treturn state.Path.select.val[key].length;\n    };\n    this.getOrderValues=function(state,skey){\n        if (state.Path.order[skey] === undefined) {\n            //console.log(\"Copying:\",JSON.stringify(Matrix.values[skey]));\n            return state.Matrix.values[skey];\n        } else {\n\t    var vals = state.Matrix.values[skey];\n\t    var plen = vals;\n\t    for (var ii = 0; ii < plen; ii++) {\n\t\tvar val=vals[ii];\n\t\tif (state.Path.order[skey].indexOf(val)===-1) {\n\t\t    state.Path.order[skey].push(val);\n\t\t}\n\t    };\n\t    return state.Path.order[skey];\n\t};\n    };\n    this.makeOrderValues=function(state,skey){\n        if (state.Path.order === undefined) {state.Path.order={};};\n        if (state.Path.order[skey] === undefined) {\n            //console.log(\"Copying:\",JSON.stringify(Matrix.values[skey]));\n            state.Path.order[skey]=state.Utils.cp(state.Matrix.values[skey]);\n        } else {\n\t    var vals = state.Matrix.values[skey];\n\t    var plen = vals;\n\t    for (var ii = 0; ii < plen; ii++) {\n\t\tvar val=vals[ii];\n\t\tif (state.Path.order[skey].indexOf(val)===-1) {\n\t\t    state.Path.order[skey].push(val);\n\t\t}\n\t    };\n\t};\n\treturn state.Path.order[skey];\n    };\n    this.bumpOrder=function(state,skey,value) {\n\t//console.log(\"Bump order:\",skey,value,JSON.stringify(state.Path.order));\n\tif (value===\"\") {\n\t    state.Path.order[skey]=undefined;\n\t} else {\n\t    this.makeOrderValues(state,skey);\n\t    var vid=state.Path.order[skey].indexOf(value);\n\t    if (vid !== -1 && vid > 0) {\n\t\tvar src=state.Path.order[skey].splice(vid, 1); // remove from array   \n\t\tstate.Utils.spliceArray(state.Path.order[skey],vid-1,0,src);\n\t    };\n\t}\n\tstate.Show.showConfig(state);\n    };\n    this.setWhere=function(state) {\n\tstate.Path.keys.path.forEach(\n\t    function(item,index) {\n\t\tstate.Database.setWhere(state,item,state.Path.select.val[item]);\n\t    });\n    };\n    this.makePath=function(state) { // note that not all keys are present in the data!\n\t//console.log(\"Entering makepath.\",JSON.stringify(this.keys));\n\tvar ii,key;\n\tvar pathSet=[];\n\tif (this.keys.path === undefined) {this.keys.path=[];};\n\tif (this.keys.other === undefined) {this.keys.other=[];};\n\tif (this.trash === undefined) {this.trash=[];};\n\tif (this.keys.path.length > 0 ||\n\t    this.keys.other.length > 0 ||\n\t    this.trash.length > 0) {\n\t    // remove duplicates\n\t    //console.log(\"Filtering.\");\n\t    var olen;\n\t    this.keys.path=this.keys.path.filter(this.Unique);\n\t    this.keys.other=this.keys.other.filter(this.Unique);\n\t    this.trash=this.trash.filter(this.Unique);\n\t    //console.log(\"setup:\",JSON.stringify(setup));\n\t    //console.log(\"Remove invalid keys from path.\");\n\t    // remove invalid keys from path\n\t    var plen = this.keys.path.length;\n\t    for (ii = 0; ii < plen; ii++) {\n\t\tkey=this.keys.path[ii];\n\t\tif (state.Database.keyCnt[key]  === undefined) {\n\t\t    this.keys.path.splice(ii, 1);\n\t\t    ii=ii-1;\n\t\t    plen=plen-1;\n\t\t}\n\t    }\n\t    //console.log(\"Remove invalid keys from other.\");\n\t    // remove invalid keys from other\n\t    olen = this.keys.other.length;\n\t    for (ii = 0; ii < olen; ii++) {\n\t\tkey=this.keys.other[ii];\n\t\tif (state.Database.keyCnt[key]  === undefined) {\n\t\t    this.other.rest.splice(ii, 1);\n\t\t    ii=ii-1;\n\t\t    olen=olen-1;\n\t\t}\n\t    }\n\t    //console.log(\"Remove invalid keys from trash.\");\n\t    // remove invalid keys from trash\n\t    olen = this.trash.length;\n\t    for (ii = 0; ii < olen; ii++) {\n\t\tkey=this.trash[ii];\n\t\tif (state.Database.keyCnt[key]  === undefined) {\n\t\t    this.trash.splice(ii, 1);\n\t\t    ii=ii-1;\n\t\t    olen=olen-1;\n\t\t}\n\t    }\n\t    //console.log(\"Update trash with keys.\");\n\t    // we already have a path, update trash with new keys\n\t    for (key in state.Database.keyCnt) {\n\t\tif (this.keys.path.indexOf(key)  === -1 && \n\t\t    this.keys.other.indexOf(key)  === -1 && \n\t\t    this.trash.indexOf(key)  === -1 &&\n\t\t    state.Utils.missing(this.ignore,key)) {\n\t\t    pathSet[key]=\"trash\";\n\t\t    this.select.val[key]=undefined;\n\t\t    this.where[key]=\"\";\n\t\t    this.trash.push(key);\n\t\t}\n\t    }\n\t} else {\n\t    // new path...\n\t    //console.log(\"New path\");\n\t    // ...define this.select.val for all keys in input data\n\t    for (key in state.Database.keyCnt) {\n\t\tpathSet[key]=\"data\";\n\t    };\n\t    this.keys.path=[];\n\t    this.other.table=[]\n\t    this.other.rest=[]\n\t    this.select.val={}; // no values are set so far\n\t    this.where={}\n\t    //console.log(\"Copy default trash keys.\",JSON.stringify(state.Default.current.trash));\n\t    // copy default trash keys (that are used) to trash...\n\t    if (state.Default.current.trash !== undefined) {\n\t\tvar tlen = state.Default.current.trash.length;\n\t\tfor (ii = 0; ii < tlen; ii++) {\n\t\t    key=state.Default.current.trash[ii];\n\t\t    if (pathSet[key] !== undefined) {\n//\t\t\tif (state.Utils.missing(this.trash,key)) { \n//\t\t\t    this.trash.push(key);\n//\t\t\t};\n\t\t\tpathSet[key]=undefined; // ignore key from now on...\n\t\t    }\n\t\t}\n\t\t//console.log(\"Pathset:\",JSON.stringify(pathSet),JSON.stringify(state.Default.current.trash));\n\t    };\n\t    //console.log(\"Copy default other keys.\");\n\t    //console.log(\"makePath A:\",JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other),JSON.stringify(state.Path.trash));\n\t    // console.log(\"Added trash:\",JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other),JSON.stringify(state.Path.trash));\n\t    // copy default other keys (that are used) to other...\n\t    if (state.Default.current.other !== undefined) {\n\t\tvar klen = state.Default.current.other.length;\n\t\tfor (ii = 0; ii < klen; ii++) {\n\t\t    key=state.Default.current.other[ii];\n\t\t    if (pathSet[key] !== undefined) { // key not present in input data\n\t\t\tif (state.Utils.missing(this.keys.other,key)) {\n\t\t\t    this.keys.other.push(key);\n\t\t\t};\n\t\t\tpathSet[key]=\"found\";\n\t\t    }\n\t\t}\n\t    }\n\t    //console.log(\"makePath B:\",JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other),JSON.stringify(state.Path.trash));\n\t    //console.log(\"Add missing keys.\");\n\t    // add missing keys to path\n\t    for (key in state.Database.keyCnt) {\n\t\tif (state.Utils.missing(this.ignore,key)) {\n\t\t    if (pathSet[key] === \"data\") {\n\t\t\tif (state.Utils.missing(this.keys.other,key)) {\n\t\t\t    this.keys.other.push(key);\n\t\t\t};\n\t\t\t//console.log(\"Added key:\",key);\n\t\t\tpathSet[key] = \"added\";\n\t\t    }\n\t\t};\n\t    };\n\t    // add undefined values in values\n\t    // for (key in state.Database.keyCnt) {\n\t    //     if (state.Database.keyCnt[key].cnt<state.Database.cnt) {\n\t    // \tstate.Database.values[key].push(undefined);\n\t    //     }\n\t    // }\n\t    // // sort sub-path according to count...\n\t    // this.keys.other=this.keys.other.sort(function(state,a, b) {\n\t    //     if (state.Database.values[a]  === undefined) {\n\t    // \treturn -1;\n\t    //     } else if (state.Database.values[b]  === undefined) {\n\t    // \treturn 1;\n\t    //     } else {\n\t    // \treturn state.Database.values[a].length - state.Database.values[b].length\n\t    //     }\n\t    // });\n\t    //console.log(\"makePath C:\",JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other),JSON.stringify(state.Path.trash));\n\t    //console.log(\"Push other keys to table and rest.\");\n\t    var glen = this.keys.other.length;\n\t    for (ii = 0; ii < glen; ii++) {\n\t\tkey=this.keys.other[ii];\n\t\tif (ii<2) {\n\t\t    this.other.table.push(key);\n\t\t} else {\n\t\t    this.other.rest.push(key);\n\t\t}\n\t    }\n\t}\n\t//state.Path.setWhere(state);\n\t//console.log(\"makePath D:\",JSON.stringify(state.Path.keys),JSON.stringify(state.Path.other),JSON.stringify(state.Path.trash));\n\t//console.log(\"makePath Where:\",JSON.stringify(state.Path.where));\n\t//console.log(\"makePath Select:\",JSON.stringify(state.Path.keys.path),JSON.stringify(state.Path.select.val));\n\tstate.Navigate.reset(state);\n\t//console.log(\"keys:\",JSON.stringify(state.Database.values));\n\t//console.log(\"Before Valid:\",JSON.stringify(state.Path.valid),JSON.stringify(state.Path.keys));\n\tstate.Utils.cpArray(state.Path.valid,state.Path.keys.path);\n\tstate.Utils.cpArray(state.Path.valid,state.Path.keys.other);\n\tstate.Utils.cpArray(state.Path.valid,state.Path.trash);\n\t//console.log(\"After Valid:\",JSON.stringify(state.Path.valid),JSON.stringify(state.Path.keys));\n\t//console.log(\"Completed makepath.\");\n    };\n    this.getIndex=function(state,trg) {\n\treturn this.keys.path.indexOf(trg);\n    };\n    this.exportAllKeys=function(state) { // export keys from \"all\" to \"rest\"\n\tthis.other.table=[];\n\tthis.other.rest=[];\n\tvar jj=0;\n\tvar key,ii;\n\tvar delay=false;\n\tif (this.keys.other !== undefined) {\n\t    var olen=this.keys.other.length;\n\t    for (ii=0;ii<olen;ii++) {\n\t\tkey=this.keys.other[ii];\n\t\tif (key === \"\") {\n\t\t    if (jj === 0) {\n\t\t\tdelay=true;\n\t\t    } else if (jj < 2) {\n\t\t\tjj=jj+1\n\t\t    }\n\t\t} else if (state.Matrix.keyCnt[key] === undefined || state.Matrix.keyCnt[key] === 0) { // do nothing\n\t\t    //console.log(\"Ignoring key:\",key,JSON.stringify(state.Matrix.keyCnt[key]));\n\t\t} else {\n\t\t    //console.log(\"Adding key:\",key,JSON.stringify(state.Matrix.keyCnt[key]));\n\t\t    if (jj < 2) {\n\t\t\tthis.other.table.push(key);\n\t\t\tjj=jj+1;\n\t\t\tif (delay && jj<2) {jj=jj+1;};\n\t\t    } else if (key !== \"\") {\n\t\t\tthis.other.rest.push(key);\n\t\t    }\n\t\t}\n\t    };\n\t}\n\t// sanity check...\n\tvar vlen=this.valid.length;\n\tfor (ii=0;ii<vlen;ii++) {\n\t    key=this.valid[ii];\n\t    if (this.keys.path.indexOf(key)===-1 &&\n\t\tthis.keys.other.indexOf(key)===-1 &&\n\t\tthis.trash.indexOf(key)===-1) {\n\t\t//console.log(\"**** Path failed sanity check:\",\n\t\t//JSON.stringify(this.keys),JSON.stringify(this.trash),key);\n\t\tthis.trash.push(key);\n\t    }\n\t}\n\t//this.sortTableKeys(state);\n\t//console.log(\"Exported:\",JSON.stringify(this.keys),JSON.stringify(this.other),JSON.stringify(this.trash));\n    };\n    // move key from table to path\n    this.tableKeyToPath=function(state,key,val,where,cnt) { // keep abscissa\n\t//console.log(\"this.Selecting:\",key,\"=\",val,\", where=\",where);\n\tvar sid = state.Path.keys.other.indexOf(key);\n\tif (sid !== -1) { // key is a table-key...\n\t    state.Path.select.val[key]=[val];\n\t    state.Path.where[key]=where;\n\t    var src=state.Path.keys.other.splice(sid, 1); // remove from path\n\t    if ( state.Utils.missing(state.Path.keys.path,src)) {\n\t\t//console.log(\"Adding to path:\",JSON.stringify(src));\n\t\tstate.Utils.pushKey(state.Path.keys.path,src);\n\t\t//state.Path.keys.path=state.Path.keys.path.concat(src); // last path position\n\t    };\n\t    if (cnt>1 && state.Utils.missing(state.Path.trash,src)) {\n\t\t//console.log(\"Adding \",JSON.stringify(src),\" to trash.\");\n\t\tstate.Utils.pushKey(state.Path.trash,src);\n\t\t//state.Path.trash=state.Path.trash.concat(src)\n\t    };\n\t    //console.log(\"Selectkey:\",JSON.stringify(setup),JSON.stringify(src));\n\t    return true;\n\t} else {\n\t    console.log(\"Missing '\",key,\"' in path:\",JSON.stringify(state.Path.keys));\n\t    return false;\n\t}\n    };\n    // get X-priority, {colx,coly1,coly2...)\n    this.sortTableKeys=function(state){\n\t// make priority index\n\tvar arr=state.Utils.cp(this.other.table);\n\tvar pri=state.Layout.getPriorityIndex(state,arr);\n\t// sort the array according to priority\n\tthis.other.table=arr.sort(function(a,b){\n\t    if (a  === \"\") { \n\t\treturn 1;\n\t    } else if (b  === \"\") {\n\t\treturn -1;\n\t    } else if (pri[a]<pri[b]) { \n\t\treturn 1;\n\t    } else if (pri[a]>pri[b]) {\n\t\treturn -1;\n\t    } else {\n\t\treturn 0;\n\t    }\n\t});\n\t//console.log(\"TableKeys:\",JSON.stringify(this.other.table),\n\t//\t\" Pri:\",JSON.stringify(state.Layout.priority),\n\t//\t\" P:\",JSON.stringify(pri));\n\treturn\n    };\n    this.keyVal=function(state,key) {\n\tif (this.select.val[key] !== undefined &&\n\t    this.select.val[key] !== null &&\n\t    this.select.val[key] !== \"\") {\n\t    return this.select.val[key];\n\t} else {\n\t    return;\n\t}\n    };\n    this.keyValOk=function(state,val) {\n\tvar ok=true;\n\treturn ok;\n    };\n    this.moveKey=function(state,styp,skey,ttyp,tid) {\n\tvar sid=this.keys[styp].indexOf(skey);\n\tif (sid !== -1) {\n\t    var src=this.keys[styp].splice(sid, 1);    // remove from path\n\t    if (tid  === undefined || tid  === -1) {\n\t\tthis.keys[ttyp]=this.keys[ttyp].concat(src);         // last position\n\t    } else {\n\t\tstate.Utils.spliceArray(this.keys[ttyp],tid, 0, src);\n\t    }\n\t    return true;\n\t}else {\n\t    return false;\n\t}\n    };\n    this.moveKeys=function(state,styp,skeys,ttyp,tid) {\n\tvar len=skeys.length\n\tfor (var ss=0;ss<len;ss++) {\n\t    var skey=skeys[ss];\n\t    var sid=this.keys[styp].indexOf(skey);\n\t    if (sid !== -1) {\n\t\tvar src=this.keys[styp].splice(sid, 1);    // remove from path\n\t\tif (tid  === undefined || tid  === -1) {\n\t\t    this.keys[ttyp]=this.keys[ttyp].concat(src);         // last position\n\t\t} else {\n\t\t    state.Utils.spliceArray(this.keys[ttyp],tid, 0, src);\n\t\t}\n\t    }\n\t}\n    };\n    this.swapTableKey=function(state,skey,tkey) {\n\tvar sid=this.other.table.indexOf(skey);\n\tvar tid=this.other.table.indexOf(tkey);\n\tif (tid !== sid && this.other.table.length > 1) {\n\t    var tin2=this.keys.other.indexOf(this.other.table[1]);\n\t    var tkey2=this.keys.other.splice(tin2, 1);    // remove from array\n\t    state.Utils.spliceArray(this.keys.other,0, 0, tkey2);\n\t    //console.log(\"Swapped:\",tkey2,tkey,JSON.stringify(this.keys.other));\n\t    return true;\n\t} else {\n\t    return false;\n\t}\n    };\n    this.delTableKey=function(state,key) {\n\tvar secondkey;\n\tvar secondind;\n\tvar sid=this.keys.other.indexOf(key);\n\tif (sid !== -1) {\n\t    var sin=this.other.table.indexOf(key);\n\t    var save=(sin  === 0);\n\t    if (save) {\n\t\tsecondkey=this.other.table[1];\n\t\tsecondind=this.pullKey(state,\"other\",secondkey);\n\t    }\n\t    this.pullKey(state,\"other\",key);\n\t    if (save && secondind !== undefined && secondind !== -1) {\n\t\tthis.pushKey(state,\"other\",secondkey,secondind);\n\t    }\n\t    return sin;\n\t}\n    };\n    this.duplicateTableKey=function(state,key) {\n\t//console.log(\"MoveKey2Table:\",JSON.stringify(this.keys));\n\tvar sid=this.keys.other.indexOf(key)\n\tif (sid !== -1) { // exists\n\t    state.Utils.spliceArray(this.keys.other,sid, 0, key);\n\t    //console.log(\"Duplicated key:\",key,JSON.stringify(this.keys.other));\n\t    return true;\n\t} else {\n\t    return false;\n\t}\n    };\n    this.moveTableKey=function(state,skey,ttyp,tid) {\n\tvar sid=this.keys.other.indexOf(skey);\n\tif (sid !== -1) {\n\t    //var sin=\n\t    this.delTableKey(state,skey);\n\t    if (tid  === undefined || tid  === -1) {\n\t\tthis.keys[ttyp]=this.keys[ttyp].concat(skey);         // last position\n\t    } else {\n\t\tstate.Utils.spliceArray(this.keys[ttyp],tid, 0, skey);\n\t    }\n\t    return true;\n\t}else {\n\t    return false;\n\t}\n    };\n    this.moveKey2Table=function(state,styp,skey,tkey) {\n\t//console.log(\"MoveKey2Table:\",JSON.stringify(this.keys));\n\tvar tid=this.keys.other.indexOf(tkey);\n\tvar sid=this.keys[styp].indexOf(skey)\n\tif (tid !== -1 && sid !== -1 && skey !== tkey) { // exists and is not the same\n\t    this.keys[styp][sid]=tkey\n\t    this.keys.other[tid]=skey\n\t    return true;\n\t} else {\n\t    return false;\n\t}\n    };\n    this.moveOther2Table=function(state,key) {\n\t//console.log(\"MoveKey2Table:\",JSON.stringify(this.keys));\n\tvar sid=this.keys.other.indexOf(key)\n\tif (sid !== -1) { // exists\n\t    var src=this.keys.other.splice(sid, 1);    // remove from array\n\t    state.Utils.spliceArray(this.keys.other,0, 0, src);\n\t    //console.log(\"Moved key:\",key,JSON.stringify(this.keys.other));\n\t    return true;\n\t} else {\n\t    return false;\n\t}\n    };\n    this.moveTrash2Table=function(state,tkey) {\n\tvar secondkey;\n\tvar secondind;\n\tvar tid=this.other.table.indexOf(tkey);\n\tif (tid !== -1) {\n\t    var save=(tid  === 0);\n\t    if (save) {\n\t\tsecondkey=this.other.table[1];\n\t\tsecondind=this.pullKey(state,\"other\",secondkey);\n\t    };\n\t    var tin=this.keys.other.indexOf(tkey);\n\t    this.moveTrash(state,\"other\",tin+1);\n\t    if (save && secondind !== undefined && secondind !== -1) {\n\t\tthis.pushKey(state,\"other\",secondkey,secondind);\n\t    }\n\t    return true;\n\t} else {\n\t    return false;\n\t}\n    };\n    this.moveTrash=function(state,ttyp,tin) {\n\tstate.Utils.spliceArray(this.keys[ttyp],tin, 0, this.trash);\n\tthis.trash=[];\n    };\n    this.moveAllKey=function(state,styp,skey,ttyp,tid) {\n\tvar lenp=this.keys[styp].length;\n\tvar sid=this.keys[styp].indexOf(skey);\n\tif (sid !== -1) {\n\t    var src=this.keys[styp].splice(sid,lenp-sid);\n\t    state.Utils.spliceArray(this.keys[ttyp],tid,0,src);\n\t    return true;\n\t} else {\n\t    return false;\n\t}\n    };\n    this.moveAllFirst=function(state,ttyp,tin) {\n\tvar tlen=this.keys[ttyp].length;\n\tvar src=this.keys[ttyp].splice(tin,tlen-tin);\n\tstate.Utils.spliceArray(this.keys[ttyp],0, 0,src);\n    };\n    this.filterKeys=function(state,arr) {\n\tvar out=[];\n\tvar alen=arr.length;\n\tfor(var ii=0; ii<alen; ii++) {\n\t    var val=arr[ii];\n\t    if (this.keyValOk(state,val)) {\n\t\tout.push(val);\n\t    }\n\t}\n\t//console.log(\"CheckOk \",JSON.stringify(arr),\"->\",JSON.stringify(out));\n\treturn out;\n    };\n    this.pullArrayKey=function(state,array,key) {\n\tvar sin=array.indexOf(key);\n\tif (sin !== -1) {\n\t    //var src=\n\t    array.splice(sin, 1);    // remove from path\n\t};\n\treturn sin;\n    };\n    //////////////////////////////// COL/ROW FUNCTIONS ///////////////////////\n    this.getColKey=function(state) {\n\tvar arr=state.Utils.cp(this.other.table);\n\tvar pri=state.Layout.getPriorityIndex(state,arr);\n\tif (state.Layout.getLayoutMode(state) === state.Layout.modes.layout.Map) {\n\t    return \"_lon\";\n\t} else if (pri[this.other.table[0]] < pri[this.other.table[1]]) {\n\t    return this.other.table[1];\n\t} else {\n\t    return this.other.table[0];\n\t}\n    };\n    this.getRowKey=function(state) {\n\tvar arr=state.Utils.cp(this.other.table);\n\tvar pri=state.Layout.getPriorityIndex(state,arr);\n\tif (state.Layout.getLayoutMode(state) === state.Layout.modes.layout.Map) {\n\t    return \"_lat\";\n\t} else if (pri[this.other.table[0]] < pri[this.other.table[1]]) {\n\t    return this.other.table[0];\n\t} else {\n\t    return this.other.table[1];\n\t}\n    };\n    this.pushKey=function(state,typ,key,ind) {\n\tif (key !== undefined && key !== \"\") {\n\t    state.Utils.spliceArray(this.keys[typ], ind, 0, key);\n\t}\n\tstate.Utils.clean(this.keys[typ]);\n    };\n    this.pullKey=function(state,typ,key) {\n\tvar sin=this.keys[typ].indexOf(key);\n\tif (sin !== -1) {\n\t    var src=this.keys[typ].splice(sin, 1);    // remove from path\n\t    if (src !== key) {console.log(\"System error:\",src,key);}\n\t    return sin;\n\t};\n    };\n    this.pushColKey=function(state,key) {\n\tif (key !== undefined && key !== \"\") {\n\t    state.Utils.spliceArray(this.keys.other,0, 0, key);\n\t}\n    };\n    this.pushRowKey=function(state,key) {\n\tif (key !== undefined && key !== \"\") {\n\t    state.Utils.spliceArray(this.keys.other,1, 0, key);\n\t}\n    };\n    this.checkNewPath=function(state,styp,skey) { // check if values are defined for path\n\tvar ok,ii;\n\tvar sid=this.keys.path.indexOf(skey);\n\tif (styp  === this.type.table.ptyp) {\n\t    ok=true;\n\t    var lent=this.other.table.length-1;\n\t    if (sid !== undefined) {lent=sid+1;};\n\t    for (ii = 0; ii <= lent; ii++) {\n\t\tvar key=this.other.table[ii];\n\t\tif (this.keyVal(state,key)  === undefined) {\n\t\t    ok=false;\n\t\t}\n\t    }\n\t} else if (styp  === this.type.rest.ptyp) {\n\t    ok=this.checkNewPath(state,this.type.table.ptyp);\n\t    if (ok) {\n\t\tvar lenr=this.other.rest.length-1;\n\t\tif (sid !== undefined) {lenr=sid+1;};\n\t\tfor (ii = 0; ii <= lenr; ii++) {\n\t\t    key=this.other.rest[ii];\n\t\t    if (this.keyVal(state,key)  === undefined) {\n\t\t\tok=false;\n\t\t    }\n\t\t}\n\t    }\n\t}\n\treturn ok;\n    };\n    //values[key]=values[key].filter(this.Unique);\n    this.Unique=function(value, index, self) { \n\treturn self.indexOf(value)  === index;\n    }\n};\nexport default Path;\n","//console.log(\"Loading AutoLib.js\");\n\nfunction Auto() {\n    this.debug=false;\n    this.complete=true;\n    this.toggle=function(state) {\n\tconsole.log(\"Pressed toggle\");\n\tstate.Auto.complete=!state.Auto.complete;\n\tstate.Show.showConfig(state);\n    };\n    // select given table key...\n    this.selectTableKey=function(state,key,keyval,keywhere,keycnt) { // keep abscissa\n\tif(this.debug){console.log(\"selectTableKey Entering:\",key,keyval,keywhere,keycnt,JSON.stringify(state.Path.keys));};\n\tvar ret=false;\n\tvar sid = state.Path.keys.other.indexOf(key);\n\t//console.log(\"SelectTableKey:\",key,sid,JSON.stringify(state.Path.keys.other));\n\tif (sid !== -1 && key !== \"\") { // key is selectable, but maybe not in table...\n\t    // why do you need duplicates of the target key (that will be removed)? \n\t    // - to check if the new selection makes your table keys redundant...\n\t    // You need to check the table keys again. \n\t    // We duplicate the target key into the table array and then remove both copies. \n\t    // This brings the old table keys back again, making them subject to a redundancy check.\n\t    var keys=state.Path.other.rest;\n\t    var lenk=keys.length;\n\t    var colkey=state.Path.getColKey(state);\n\t    var rowkey=state.Path.getRowKey(state);\n\t    if(this.debug){console.log(\"Autopath or not?:\",lenk,colkey,rowkey,sid,state.Auto.complete);};\n\t    if (lenk===0 || colkey===undefined || rowkey===undefined || ! state.Auto.complete ) { // nothing to consider\n\t\tret = state.Path.tableKeyToPath(state,key,keyval,keywhere,keycnt);\n\t    } else {\n\t\tstate.Path.moveOther2Table(state,key);   // move target key to front of array\n\t\tstate.Path.duplicateTableKey(state,key); // make duplicate\n\t\tstate.Path.exportAllKeys(state);\n\t\t//if(this.debug){console.log(\"Before:\",JSON.stringify(state.Path.keys));};\n\t\tret = state.Auto.tableKeyToPath(state,key,keyval,keywhere,keycnt);\n\t\tstate.Path.exportAllKeys(state);\n\t\tret = state.Auto.tableKeyToPath(state,key,keyval,keywhere,keycnt); // remove duplicate\n\t    }\n\t};\n\tif (ret) {state.Path.exportAllKeys(state);};\n\tif(this.debug){console.log(\"selectTableKey Done:\",JSON.stringify(state.Path.keys),JSON.stringify(ret));};\n\treturn ret;\n    };\n    this.tableKeyToPath=function (state,key,keyval,keywhere,keycnt) {\n\t//if(this.debug){console.log(\"tableKeyToPath Entering:\",key,keyval,keywhere,keycnt);};\n\t// look for table-key candidates in the rest-stack\n\tvar ret, lens, jj, jkey, jkeyval, jkeywhere;\n\tvar analysis=this.analyse(state,key,keywhere);\n\t// move the key\n\tret=state.Path.tableKeyToPath(state,key,keyval,keywhere,keycnt);\n\tif(this.debug){console.log(\"Analysis:\",JSON.stringify(analysis));};\n\tif (analysis.tblkey !== \"\" || (analysis.sel.length > 0 || analysis.rest.length > 0)) {\n\t    lens=analysis.sel.length;\n\t    for (jj=0;jj<lens;jj++) {\n\t\tjkey=analysis.sel[jj];\n\t\tjkeyval=analysis.val[jj];\n\t\tjkeywhere=jkey + \"='\" + jkeyval+\"'\";\n\t\tstate.Path.tableKeyToPath(state,jkey,jkeyval,jkeywhere,1);\n\t    }\n\t    state.Path.keys.other=[analysis.othkey,analysis.tblkey].concat(state.Utils.clean(analysis.rest));\n\t} else {\n\t    state.Path.keys.other=[analysis.othkey];\n\t}\n\tif(this.debug){console.log(\"tableKeyToPath Path:\",JSON.stringify(state.Path.keys));};\n\tif(this.debug){console.log(\"tableKeyToPath Done:\",JSON.stringify(ret));};\n\treturn ret;\n    };\n    this.analyse=function(state,trgkey,trgwhere) {\n\t//if(this.debug){console.log(\"analyseOther Entering:\",JSON.stringify(trgkey),trgwhere);};\n\t//other key\n\tvar keys=state.Path.other.rest;\n\tvar where=state.Database.getWhere(state);\n\tvar colkey=state.Path.getColKey(state);\n\tvar rowkey=state.Path.getRowKey(state);\n\tvar othkey=(trgkey===colkey?rowkey:colkey); // the other key\n\tvar sel=[]; // selected\n\tvar val=[]; // values\n\tvar rest=[]; //rest\n\tvar tblkey=\"\"; // target key\n\tvar lenk=keys.length;\n\tvar keywhere=state.Database.addWhere(where,trgwhere);\n\t// redundant keys => selected\n\t// insignificant keys => pushed back\n\t// control keys => used in table\n\tfor (var ii = 0; ii< lenk; ii++) {\n\t    // first key dependencies\n\t    var testkey=keys[ii];\n\t    if(this.debug){console.log(\">>>Checking:\",testkey, \" vs Table:(\",trgkey,\",\",othkey,\") where=\",where,trgwhere);};\n\t    var othtable=[othkey,testkey];\n\t    var othdep=this.getDependancy(state,keywhere,othtable);\n\t    if(this.debug){console.log(\"        Other:   \",othkey,testkey,JSON.stringify(othdep));};\n\t    // in case there are no targets\n\t    if (othdep.intprt[othkey]===\"insignificant\" || othdep.intprt[testkey]===\"insignificant\" || tblkey !== \"\") {    // ignore insignificant testkey\n\t\trest.push(testkey);\n\t\tif(this.debug){console.log(\"****  Postpone:\",testkey,JSON.stringify(sel),JSON.stringify(rest),tblkey);};\n\t    } else if (othdep.intprt[testkey]===\"redundant\") { // select redundant testkey\n\t\tvar testval=othdep.val[testkey];\n\t\tsel.push(testkey);\n\t\tval.push(testval);\n\t\tif(this.debug){console.log(\"****  Select:\",testkey,JSON.stringify(sel),JSON.stringify(rest),tblkey,JSON.stringify(othdep),where);};\n\t    } else { // control key\n\t\ttblkey=testkey;                    // we have found a good candidate\n\t\tif(this.debug){console.log(\"****  Target:\",testkey,JSON.stringify(sel),JSON.stringify(rest),tblkey);};\n\t    }\n\t}\n\t//if(this.debug){console.log(\"Sel/Val:\",JSON.stringify(sel),JSON.stringify(val));};\n\tvar ret={sel:sel,val:val,rest:rest,tblkey:tblkey,othkey:othkey};\n\tif(this.debug){console.log(\"analyse Done:\",JSON.stringify(ret));};\n\treturn ret;\n    };\n    // check if keys are inter-dependent, (\"common\", \"unique\", \"dependent\", \"unknown\") \n    this.getDependancy=function(state,where,keys) {\n\t//if(this.debug){console.log(\"getDependancy Entering:\",where,JSON.stringify(keys));};\n\tvar key;\n\t//var where = state.Database.getWhere(state);\n\tvar ret={dep:{},val:{}};\n\tvar hits={};\n\tvar maxhits={};\n\tvar docs=state.Database.getDocsCnt(state,where,keys); // current table keys\n\t//if(this.debug){console.log(\"getDependancy:\",JSON.strings(docs));};\n\tvar slen=keys.length;\n\tvar dlen = docs.length;\n\tfor (var ii = 0; ii < dlen; ii++) {\n    \t    var doc=docs[ii];\n\t    for (var jj=0;jj<slen;jj++) {\n\t\tkey=keys[jj];\n\t\tif (doc[key] !== undefined) {\n\t\t    var val=doc[key];\n\t\t    ret.val[key]=val;\n\t\t    if (hits[key]  === undefined) {hits[key]={};}\n\t\t    hits[key][val] = 1+ (hits[key][val]||0);\n\t\t    if (hits[key][val] > (maxhits[key]||0)) {\n\t\t\tmaxhits[key]=hits[key][val];\n\t\t    }\n\t\t};\n\t    }\n\t};\n\t//if(this.debug){console.log(\"Hits:\",dlen,JSON.stringify(hits),where);};\n\tfor (var kk=0;kk<slen;kk++) {\n\t    key=keys[kk];\n\t    if (maxhits[key] !== undefined) {\n\t\tif (maxhits[key]  === 1) {          // every entry has unique value\n\t\t    ret.dep[key]=\"unique\";\n\t\t} else if (maxhits[key]  === dlen) {\n\t\t    ret.dep[key]=\"common\";    // all entries have same value\n\t\t} else {\n\t\t    ret.dep[key]=\"dependent\";    // entries depend on values\n\t\t}\n\t    } else {\n\t\tret.dep[key]=\"unknown\"; // not found in database\n\t    }\n\t};\n\tret.intprt=this.getInterpretation(state,keys,ret.dep);\n\t//if(this.debug){console.log(\"getDependancy Done:\",JSON.stringify(ret));};\n\treturn ret;\n    };\n    this.getInterpretation=function(state,keys,dep){\n\tvar key;\n\tvar interpretation={};\n\tvar slen=keys.length;\n\tfor (var kk=0;kk<slen;kk++) {\n\t    var kkey=keys[kk];\n\t    interpretation[kkey]=\"control\";\n\t};\n\tfor (var jj=0;jj<slen;jj++) {\n\t    key=keys[jj];\n\t    if (dep[key]  === \"unique\") {// \"unique\" keys depend on the other keys...\n\t\tfor (var rr=0;rr<slen;rr++) {\n\t\t    var rkey=keys[rr];\n\t\t    if (dep[rkey] === \"unique\") { // do not remove every \"unique\" key\n\t\t\tif (rr > jj) {\n\t\t\t    interpretation[rkey]=\"redundant\"; // later control variables are redundant\n\t\t\t};\n\t\t    } else { // remove all other variables\n\t\t\tif (rr !== jj) {\n\t\t\t    if (dep[rkey] === \"common\") {\n\t\t\t\tinterpretation[rkey]=\"redundant\"; // \n\t\t\t    } else {\n\t\t\t\tinterpretation[rkey]=\"insignificant\"; //\n\t\t\t    };\n\t\t\t};\n\t\t    }\n\t\t}\n\t    }\n\t}\n\tvar cnt=0;\n\tfor (var ll=slen-1;ll>=0;ll--) {\n\t    key=keys[ll];\n\t    if (dep[key]  === \"common\") { // common keys have only one value\n\t\tcnt=cnt+1;\n\t\tif (cnt < slen) { // leave at least one redundant variable\n\t\t    interpretation[key]=\"redundant\";\n\t\t}\n\t    }\n\t};\n\treturn interpretation;\n    };\n};\nexport default Auto;\n","//console.log(\"Loading ShowLib.js\");\n\nfunction Show() {\n    this.init=function(state){\n\tvar par=\"Show\";\n\tstate.Utils.init(par,this);\n    };\n    this.showMode=function(state) { // show data on screen\n\tif (state.React.Mode !== undefined) {\n\t    state.React.Mode.show(state);\n\t}\n    };\n    this.show=function(state,reload,callbacks) {\n        setTimeout(function() {\n\t    this.showAll(state,reload);\n\t    if (callbacks !== undefined) {\n\t\tvar callback=callbacks.shift();\n\t\tif (callback !== undefined) {\n\t\t    callback(state,callbacks)\n\t\t}\n\t    };\n\t}.bind(this),0.1);\n    };\n    this.showAll=function(state,reload) { // show data on screen\n\t//var documentLog = document.getElementById(\"log\");\n\t//console.log(\"Showing data.\");\n\tif (reload  === undefined || reload) {\n\t    this.showPath(state);\n\t    state.Html.setFootnote(state,\"Extracting data.\");\n\t    state.Html.setProgress(state, true);\n\t    setTimeout(function() {\n\t\tstate.Database.dbextract(state,function (state,matrix){\n\t\t    state.Html.setFootnote(state,\"Displaying data.\");\n\t\t    setTimeout(function (){  // callback\n\t\t\t//console.log(\"Updating matrix.\");\n\t\t\tstate.Path.exportAllKeys(state);\n\t\t\t//console.log(\"Showing path\");\n\t\t\tthis.showPath(state);\n\t\t\t//console.log(\"Showing Config\");\n\t\t\tthis.showConfig(state);\n\t\t\t//console.log(\"Showing matrix\");\n\t\t\tthis.showMatrix(state,matrix);\n\t\t\t//console.log(\"Pushing URL\");\n\t\t\tstate.Utils.pushUrl(state);\n\t\t\tstate.Html.setFootnote(state);\n\t\t\tstate.Html.setProgress(state, false);\n\t\t    }.bind(this),0.1);\n\t\t}.bind(this));\n\t    }.bind(this),0.1);\n\t} else {\n\t    console.log(\"Not updating matrix.\");\n\t    state.Path.exportAllKeys(state);\n\t    this.showPath(state);\n\t    this.showConfig(state);\n\t    this.showTable(state);\n\t    this.showTooltip(state);\n\t    state.Html.setFootnote(state);\n\t    state.Html.setProgress(state, false);\n\t}\n\tthis.showMode(state);\n    };\n    this.showPath=function(state) {\n\tif (state.React.Path !== undefined) {\n\t    state.React.Path.showPath(state); // forceUpdate()\n\t} else {\n\t    console.log(\"No react-path available.\");\n\t}\n\tif (state.React.Location !== undefined) {\n\t    state.React.Location.showLocation(state); // forceUpdate()\n\t} else {\n\t    console.log(\"No react-location available.\");\n\t}\n\tif (state.React.Disclaimer !== undefined) {\n\t    state.React.Disclaimer.showDisclaimer(state); // forceUpdate()\n\t} else {\n\t    console.log(\"No react-disclaimer available.\");\n\t}\n    };\n    this.showConfig=function(state) {\n\tif (state.React.Config !== undefined) {\n\t    state.React.Config.show(state); // forceUpdate()\n\t} else {\n\t    console.log(\"No react-config available.\");\n\t}\n    };\n    this.showMatrix=function(state,matrix) {\n\tif (state.React.Dataset !== undefined) {\n\t    state.React.Dataset.showMatrix(state,matrix);\n\t}\n    };\n    this.showTable=function(state,matrix) {\n\t//console.log(\"ShowTable:\",state.Layout.state.layoutMode,state.Layout.modes.layout.Map);\n\tif (state.Layout.state.layoutMode === state.Layout.modes.layout.Map) {\n\t    if (state.React.Map !== undefined) {\n\t\tstate.React.Map.showMap(state);\n\t    }\n\t} else {\n\t    if (state.React.Table !== undefined) {\n\t\tstate.React.Table.showTable(state);\n\t    }\n\t}\n    };\n    this.showTooltip=function(state) {\n\tif (state.React.Tooltip !== undefined) {\n\t    state.React.Tooltip.rebuild();\n\t}\n    };\n    this.useCanvas=function(state,matrix) {    // check if matrix elements have max 1 data\n\t// loop over matrix\n\tfor (var ii in matrix) {\n\t    for (var jj in matrix[ii]) {\n\t\tif (matrix[ii][jj].cnt > 1) {\n\t\t    return false;\n\t\t}\n\t    }\n\t}\n\treturn true;\n    };\n    this.scale=function(xval,xmin,xmax,ymin,ymax) {\n\tif (ymin>ymax) {\n\t    return ymin + (xval-xmin)*(ymax-ymin)/(xmax-xmin);\n\t} else {\n\t    return (xval-xmin)*(ymax-ymin)/(xmax-xmin);\n\t}\n    }\n};\nexport default Show;\n","//console.log(\"Loading ThresholdLib.js\");\n\nfunction Threshold() {\n    this.thrs=undefined; // threshold parameter levels, set by Default\n    //this.imax=0;        // threshold item types\n    //this.ithr=1;\n    //this.ikey=2;\n    //this.ilev=3;\n    //this.ival=4;\n    this.init=function(state){\n\tstate.Utils.init(\"Threshold\",this);\n    };\n    this.getMaxLevel=function(doc) {\n\tif (doc._thr !== undefined) {\n\t    if (doc._thr.max !== undefined) {\n\t\treturn doc._thr.max.length;\n\t    } else if (doc._thr.min !== undefined) {\n\t\treturn doc._thr.min.length;\n\t    }\n\t} else {\n\t    return -1;\n\t}\n    };\n    this.setThresholds=function(doc,ithrs) {\n\t//var debug = (doc.Phenomenon===\"Regn\" && doc.Duration===\"12t\" && doc.Region===\"Innlandet\" && doc.dtg===\"2019-06-26_11\");\n\tif (doc._thr !== undefined) {\n\t    return [];\n\t} else {\n\t    var thrs;\n\t    if (ithrs === undefined) {\n\t\tthrs=this.thrs;\n\t    } else {\n\t\tthrs=ithrs;\n\t    };\n\t    //if (debug) {console.log(\"Entering with:\",JSON.stringify(doc));};\n\t    //if (debug) {console.log(\"     --> with:\",JSON.stringify(ithrs));};\n\t    //if (debug) {console.log(\"      -> with:\",JSON.stringify(thrs));};\n\t    for (var trgkey in thrs) { // loop over thresholds\n\t\tif (doc[trgkey] !== undefined) {\n\t\t    var trgval=doc[trgkey]; // trgval-value\n\t\t    if (thrs[trgkey][trgval] !== undefined) {\n\t\t\t//if (debug) {console.log(\"Found:\",trgkey,trgval,JSON.stringify(thrs[trgkey][trgval]));};\n\t\t\tvar mlen,jj;\n\t\t\tif (thrs[trgkey][trgval].par === undefined) { // there is another level\n\t\t\t    //if (debug) {console.log(\"   Iterating with:\",JSON.stringify(thrs[trgkey][trgval]));};\n\t\t\t    return this.setThresholds(doc,thrs[trgkey][trgval]);\n\t\t\t} else if (doc[thrs[trgkey][trgval].par] !== undefined) {\n\t\t\t    var thr = thrs[trgkey][trgval]\n\t\t\t    //doc.threshold=thr;\n\t\t\t    var rank;\n\t\t\t    var val = doc[thr[\"par\"]];\n\t\t\t    var maxs = thr[\">\"];\n\t\t\t    var mins = thr[\"<\"];\n\t\t\t    var doclev=-1; // found thresholds, but will we find a valid level?\n\t\t\t    if (maxs !== undefined) { // above thresholds\n\t\t\t\t//if (debug) {console.log(\"Thresholds:\",JSON.stringify(maxs),val);};\n\t\t\t\tvar docmax=Number(val);\n\t\t\t\tmlen=maxs.length;\n\t\t\t\t// get new level\n\t\t\t\tfor (jj = 0; jj < mlen; jj++) {\n\t\t\t\t    if (docmax >= Number(maxs[jj])) {\n\t\t\t\t\t//if (debug) {console.log(\"Hit:\",docmax,jj,maxs[jj],docmax>=maxs[jj],doclev);}\n\t\t\t\t\tdoclev=jj;\n\t\t\t\t    }\n\t\t\t\t};\n\t\t\t\trank=0; // universal rank\n\t\t\t\tif (doclev > -1) {rank= (docmax-Number(maxs[0]))/(Number(maxs[mlen-1])-Number(maxs[0]));};\n\t\t\t\t//if (debug) {console.log(\"Level:\",docmax,doclev,JSON.stringify(maxs));}\n\t\t\t\tdoc.level=doclev;\n\t\t\t\tdoc._rank=rank;\n\t\t\t\tdoc.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr={};\n\t\t\t\tdoc._thr.level=doclev;\n\t\t\t\tdoc._thr.val=docmax\n\t\t\t\tdoc._thr.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc._thr.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr.max=maxs;\n\t\t\t\treturn [\"level\",\"val\",\"lat\",\"lon\",\"max\"];\n\t\t\t    } else if (mins !== undefined) { // below thresholds\n\t\t\t\t//if (debug) {console.log(\"Thresholds:\",JSON.stringify(mins),val);};\n\t\t\t\tvar docmin=Number(val);\n\t\t\t\t// get new level\n\t\t\t\tmlen=mins.length;\n\t\t\t\tfor (jj = 0; jj < mlen; jj++) {\n\t\t\t\t    if (docmin <= Number(mins[jj])) {\n\t\t\t\t\tdoclev=jj;\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t\trank=0; // universal rank\n\t\t\t\tif (doclev > 0) {rank=(Number(mins[0])-docmin)/(Number(mins[0])-Number(mins[mlen-1]));};\n\t\t\t\tdoc.level=doclev;\n\t\t\t\tdoc._rank=rank;\n\t\t\t\tdoc.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr={};\n\t\t\t\tdoc._thr.level=doclev;\n\t\t\t\tdoc._thr.val=docmin\n\t\t\t\tdoc._thr.lat=doc[thr[\"lat\"]];\n\t\t\t\tdoc._thr.lon=doc[thr[\"lon\"]];\n\t\t\t\tdoc._thr.min=mins;\n\t\t\t\treturn [\"level\",\"val\",\"lat\",\"lon\",\"min\"];\n\t\t\t    } else {\n\t\t\t\t//if (debug) {console.log(\"No Thresholds:\",JSON.stringify(thrs),val);};\n\t\t\t    }\n\t\t\t}\n\t\t    }\n\t\t}\n\t    }\n\t    doc._thr={};\n\t    doc.level=-2;  // no thresholds found...\n\t}\n\treturn [];\n    };\n    // call after this.setThresholds\n    this.getLevel=function(state,doc) {\n\t//console.log(\"GetLevel:\",JSON.stringify(doc));\n\tif (doc._thr !== undefined) {\n\t    return doc._thr.level;\n\t} else {\n\t    return -1;\n\t}\n    }\n    this.getRank=function(state,doc) {\n\treturn doc._rank;\n    }\n    this.getLat=function(state,doc) {\n\treturn doc._thr.lat;\n    }\n    this.getLon=function(state,doc) {\n\treturn doc._thr.lon;\n    };\n};\nexport default Threshold;\n","//console.log(\"Loading UtilsLib.js\");\n\t\t    \nfunction Utils() {\n    this.version=\"1\";\n    this.invertArray=function(arr) {\n\tvar alen=arr.length;\n\tvar xlen=Math.floor(alen/2);\n\tfor (var ii=0; ii<xlen;ii++) {\n\t    var jj=alen-ii-1\n\t    var buff=arr[ii];\n\t    arr[ii]=arr[jj];\n\t    arr[jj]=buff;\n\t}\n    };\n    this.invertedArray=function(arr) {\n\tvar ret=[];\n\tvar alen=arr.length;\n\tfor (var ii=alen-1; ii>=0;ii--) {\n\t    ret.push(arr[ii]);\n\t}\n\treturn ret;\n    };\n    this.getMin=function(arr) {\n\tvar len = arr.length, min = undefined;\n\twhile (len--) {\n\t    if (min === undefined || arr[len] < min) {\n\t\tmin = arr[len];\n\t    }\n\t}\n\treturn min;\n    };\n    this.getMax=function(arr) {\n\tvar len = arr.length, max = undefined;\n\twhile (len--) {\n\t    if (max === undefined || arr[len] > max) {\n\t\tmax = arr[len];\n\t    }\n\t}\n\treturn max;\n    };\n    this.init=function(par,setup){\n\tvar url=this.getUrlVars();\n\tif (par in url) {\n\t    //console.log(par,url);\n\t    var code=decodeURIComponent(url[par]);\n\t    //console.log(\"Processing url:\",code);\n\t    try {\n\t\tvar newsetup=JSON.parse(code);\n\t\tfor (var ss in newsetup) {\n\t\t    if (newsetup[ss] !== undefined) {\n\t\t\tsetup[ss]=newsetup[ss];\n\t\t    }\n\t\t}\n\t    } catch (e) {\n\t\tsetup[par]=url[par];\n\t    }\n\t    //console.log(\"new setup:\",JSON.stringify(setup));\n\t} else {\n\t    //console.log(\"No '\"+par+\"' in URL.\");\n\t}\n\n    };\n    this.clean=function(arr) {\n\tfor (var ii=0;ii<arr.length;ii++) {\n\t    if (arr[ii]===null || arr[ii]===\"\") {\n\t\tarr.splice(ii, 1);\n\t    }\n\t}\n\treturn arr;\n    }\n    this.moveTo=function(arr,src,trg) {\n\tvar isrc=arr.indexOf(src);\n\tvar itrg=arr.indexOf(trg);\n\tif (isrc !== -1 && itrg !== -1) {\n\t    var csrc=arr.splice(isrc, 1);\n\t    this.spliceArray(arr,itrg,0,csrc);\n\t}\n    };\n    this.cpArray=function(sarr,tarr) {\n\tif (tarr !== undefined) {\n\t    var lent=tarr.length;\n\t    for (var ii=0;ii<lent;ii++) {\n\t\tvar ind=sarr.indexOf(tarr[ii]);\n\t\tif (ind===-1) {\n\t\t    sarr.push(tarr[ii]);\n\t\t}\n\t    }\n\t};\n    };\n    this.ppArray=function(sarr,tarr) {\n\tvar lent=tarr.length;\n\tfor (var ii=lent-1;ii>=0;ii--) {\n\t    var ind=sarr.indexOf(tarr[ii]);\n\t    if (ind===-1) {\n\t\tthis.spliceArray(sarr,0,0,tarr[ii]); // first position (table)\n\t    }\n\t}\n    };\n    this.addArray=function(sarr,tarr) {\n\tthis.cpArray(sarr,tarr);\n\ttarr=[];\n    };\n    this.prepArray=function(sarr,tarr) {\n\tthis.ppArray(sarr,tarr);\n\ttarr=[];\n    };\n    this.remArray=function(sarr,tarr) {\n\tvar lent=tarr.length;\n\tfor (var ii=0;ii<lent;ii++) {\n\t    var ind=sarr.indexOf(tarr[ii]);\n\t    if (ind!==-1) {\n\t\tsarr.splice(ind,1);\n\t    }\n\t}\n    };\n    this.moveToArray=function(sarr,tarr,key,tpos) {\n\tvar sid=sarr.indexOf(key);\n\tif (sid !== -1) {\n\t    var src=sarr.splice(sid, 1);    // remove from path\n\t    if (tpos  === undefined || tpos  < 0) {\n\t\tthis.spliceArray(tarr,tarr.length, 0, src);\n\t    } else {\n\t\tthis.spliceArray(tarr,tpos, 0, src);\n\t    }\n\t    return true;\n\t}else {\n\t    return false;\n\t}\n    };\n    this.keepHash=function(sarr,tarr) {\n\tvar ret=[];\n\tvar lent=tarr.length;\n\tvar keep={};\n\tfor (var ii=0;ii<lent;ii++) {\n\t    var hsh=tarr[ii];\n\t    var keys=Object.keys(hsh);\n\t    var lenk=keys.length;\n\t    for (var jj=0;jj<lenk;jj++) {\n\t\tvar key=keys[jj];\n\t\tkeep[key]=true;\n\t    }\n\t}\n\tvar lens=sarr.length;\n\tfor (var kk=0;kk<lens;kk++) {\n\t    var arr=sarr[kk];\n\t    if (keep[arr] !== undefined && keep[arr]) {\n\t\tret.push(arr);\n\t    };\n\t}\n\treturn ret;\n    }\n    this.missing=function(arr,src){\n\t//console.log(\"Missing:\",src,JSON.stringify(arr));\n\tif (arr === undefined) {\n\t    console.log(\"Invalid array specified in this.missing:\",JSON.stringify(src));\n\t    return false;\n\t} else {\n\t    if (Array.isArray(src)) {\n\t\treturn (arr.indexOf(src[0])  === -1);\n\t    } else {\n\t\treturn (arr.indexOf(src)  === -1);\n\t    }\n\t}\n    };\n    this.restore=function(arr,obj) {\n\tfor (var key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\tarr[key]=this.cp(obj[key]);\n\t    }\n\t};\n    };\n    this.cp=function(obj) {\n\tif (obj === null || typeof (obj) !== 'object' || 'isActiveClone' in obj)\n            return obj;\n\tvar temp;\n\tif (obj instanceof Date) {\n\t    temp = new obj.constructor(); //or new Date(obj);\n\t} else {\n\t    temp = obj.constructor();\n\t};\n\tfor (var key in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\tobj['isActiveClone'] = null;\n\t\ttemp[key] = this.cp(obj[key]);\n\t\tdelete obj['isActiveClone'];\n            }\n\t}\n\treturn temp;\n    }.bind(this);\n    this.getStatusString=function(state) {\n\treturn this.numberWithCommas(state.Database.cnt)+ \" in database, \"+\n\t    this.numberWithCommas(state.Matrix.cnt)+\" in table.\";\n    };\n    this.toString=function(setup) {\n\tvar s=\"->\";\n\tfor (var kk in setup) {\n\t    s = s + \"|\"+ kk + \":\" + setup[kk];\n\t};\n\treturn s;\n    };\n    this.numberWithCommas=function(x) {\n\treturn x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    };\n    this.cntDocs=function(elements,key,val) {\n\tvar cnt=0;\n\tvar elen=elements.length;\n\tfor (var ee=0;ee<elen;ee++) {   // loop over elements\n\t    var el=elements[ee];\n\t    var docs=el.docs;\n\t    var dlen=docs.length;\n\t    if (val===\"\") {\n\t\tcnt=cnt+dlen;\n\t    } else {\n\t\tfor (var jj=0;jj<dlen;jj++) {   // loop over segments in each element\n\t\t    var d=docs[jj];\n\t\t    var thr=d._thr;\n\t\t    //console.log(\"cntDocs:\",key,d[key],val,dlen);\n\t\t    if (d[key]===val) {\n\t\t\tif (thr.val !== undefined) {\n\t\t\t    cnt=cnt+1;\n\t\t\t};\n\t\t    }\n\t\t}\n\t    }\n\t}\n\t//console.log(\"cntDocs:\",JSON.stringify(elements),key,cnt,elen);\n\treturn cnt;\n    };\n    this.pushUrl=function(state) {\n\tvar path = window.location.pathname;\n\t//console.log(\"Path:\",path);\n\tvar page = path.split(\"/\").pop();\n\tpage.split('#').shift();\n\t//console.log( page );\n\tvar url=page+\"?setup=\"+state.Default.setup+\"&\";\n\t//console.log(\"Actual Keys:\",JSON.stringify(state.Path.keys));\n\tvar urlDatabase=undefined;\n\tif (state.Default.hasChanged(state,[\"Database\",\"data\"]) && state.Database.data!==undefined) {\n\t    if (urlDatabase ===undefined) {urlDatabase={};}\n\t    urlDatabase.data=this.cp(state.Database.data);\n\t};\n\tvar urlColors=undefined;\n\tif (state.Default.hasChanged(state,[\"Colors\",\"colors\"])) {\n\t    if (urlColors ===undefined) {urlColors={};}\n\t    urlColors.colors=this.cp(state.Colors.colors);\n\t};\n\tvar urlPath=undefined;\n\tif (state.Default.hasChanged(state,[\"Path\",\"keys\"])) {\n\t    if (urlPath ===undefined) {urlPath={};}\n\t    urlPath.keys=this.cp(state.Path.keys);\n\t};\n\tif (state.Default.hasChanged(state,[\"Path\",\"select\"])) {\n\t    if (urlPath ===undefined) {urlPath={};}\n\t    urlPath.select=this.cp(state.Path.select);\n\t};\n\tif (state.Default.hasChanged(state,[\"Path\",\"home\"])) {\n\t    if (urlPath ===undefined) {urlPath={};}\n\t    urlPath.home=this.cp(state.Path.home);\n\t};\n\tif (state.Default.hasChanged(state,[\"Path\",\"tooltip\"])) {\n\t    if (urlPath ===undefined) {urlPath={};}\n\t    urlPath.tooltip=this.cp(state.Path.tooltip);\n\t};\n\tif (state.Default.hasChanged(state,[\"Path\",\"order\"])) {\n\t    if (urlPath ===undefined) {urlPath={};}\n\t    urlPath.order=this.cp(state.Path.order);\n\t};\n\t//console.log(\"URL Keys:\",JSON.stringify(urlPath.keys));\n\tvar urlLayout=undefined;\n\tif (state.Default.hasChanged(state,[\"Layout\",\"priority\"])) {\n\t    if (urlLayout ===undefined) {urlLayout={};}\n\t    urlLayout.priority=state.Layout.getPriority(state);\n\t};\n\tif (state.Default.hasChanged(state,[\"Layout\",\"state\"])) {\n\t    if (urlLayout ===undefined) {urlLayout={};}\n\t    urlLayout.state=this.cp(state.Layout.state);\n\t};\n\tif (urlDatabase !== undefined) {\n\t    url=url + \"Database=\" + encodeURI(JSON.stringify(urlDatabase)+\"&\");\n\t};\n\tif (urlPath !== undefined) {\n\t    url=url + \"Path=\" + encodeURI(JSON.stringify(urlPath)+\"&\");\n\t};\n\tif (urlColors !== undefined) {\n\t    url=url + \"Colors=\" + encodeURI(JSON.stringify(urlColors)+\"&\");\n\t};\n\tif (urlLayout !== undefined) {\n\t    url=url + \"Layout=\" + encodeURI(JSON.stringify(urlLayout)+\"&\");\n\t};\n\t//console.log(\"Setting URL to (\",url.length,\"):\",url);\n\twindow.history.replaceState(\"\", \"js\", url);\n    }.bind(this);\n    this.getUrlVars=function(state) {\n\tvar vars = {};\n\twindow.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,    \n\t\t\t\t     function(m,key,value) {\n\t\t\t\t\t //console.log(\"URL item:\",key,\" \",value)\n\t\t\t\t\t vars[key] = value;\n\t\t\t\t     });\n\treturn vars;\n    };\n    this.uniq=function(state,a) {\n\tvar seen = {};\n\treturn a.filter(function(item) {\n\t    return seen.hasOwnProperty(item) ? false : (seen[item] = true);\n\t});\n    };\n    this.pushKey=function(arr,key,pos) {\n\tif (Array.isArray(key)) {\n\t    var len=key.length;\n\t    for (var ii=0; ii<len; ii++) {\n\t\tif (arr.indexOf(key[ii])===-1) {\n\t\t    if (pos === undefined) {\n\t\t\tarr.push(key[ii]);\n\t\t    } else {\n\t\t\tarr.splice(pos,0,key[ii])\n\t\t    };\n\t\t    \n\t\t}\n\t    }\n\t} else {\n\t    if (arr.indexOf(key)===-1) {\n\t\tif (pos === undefined) {\n\t\t    arr.push(key);\n\t\t} else {\n\t\t    arr.splice(pos,0,key)\n\t\t};\n\t    }\n\t}\n\tthis.clean(arr);\n    };\n    this.spliceArray=function(arr,index,n,child){\n\tif (Array.isArray(child)) {\n\t    var len=child.length;\n\t    for (var ii=0; ii<len; ii++) {\n\t\tarr.splice(index,n,child[ii])\n\t\tn=0\n\t\tindex=index+1\n\t    }\n\t} else {\n\t    arr.splice(index,n,child)\n\t}\n    }\n    this.ascendingArr=function(a,b) {\n\tif (a[0]  === \"\") { \n\t    return 1;\n\t} else if (b[0]  === \"\") {\n\t    return -1;\n\t} else if (a[0]<b[0]) { \n\t    return -1;\n\t} else if (a[0]>b[0]) {\n\t    return 1;\n\t} else {\n\t    return 0;\n\t}\n    };\n    this.descendingArr=function(a,b) {\n\tif (a[0]  === \"\") { \n\t    return -1;\n\t} else if (b[0]  === \"\") {\n\t    return 1;\n\t} else if (a[0]<b[0]) { \n\t    return 1;\n\t} else if (a[0]>b[0]) {\n\t    return -1;\n\t} else {\n\t    return 0;\n\t}\n    };\n    this.ascending=function(a,b) {\n\tif (a  === \"\") { \n\t    return 1;\n\t} else if (b  === \"\") {\n\t    return -1;\n\t} else if (a<b) { \n\t    return -1;\n\t} else if (a>b) {\n\t    return 1;\n\t} else {\n\t    return 0;\n\t}\n    };\n    this.descending=function(a,b) {\n\tif (a  === \"\") { \n\t    return -1;\n\t} else if (b  === \"\") {\n\t    return 1;\n\t} else if (a<b) { \n\t    return 1;\n\t} else if (a>b) {\n\t    return -1;\n\t} else {\n\t    return 0;\n\t}\n    };\n    this.ascendingN=function(a,b) {\n\tif (a  === null) { \n\t    return 1;\n\t} else if (b  === null) {\n\t    return -1;\n\t} else if (Number(a)<Number(b)) { \n\t    return -1;\n\t} else if (Number(a)>Number(b)) {\n\t    return 1;\n\t} else {\n\t    return 0;\n\t}\n    };\n    this.descendingN=function(a,b) {\n\tif (a  === null) { \n\t    return -1;\n\t} else if (b  === null) {\n\t    return 1;\n\t} else if (Number(a)<Number(b)) { \n\t    return 1;\n\t} else if (Number(a)>Number(b)) {\n\t    return -1;\n\t} else {\n\t    return 0;\n\t}\n    }\n    this.getItem=function(state,s,src) {\n\tvar ss=src;\n\tvar ll=s.length;\n\tfor (var ii=0;ii<ll;ii++) {\n\t    if (ss===undefined) { return ss};\n\t    ss=ss[s[ii]];\n\t}\n\treturn ss;\n    }\n    this.setForce=function(state,t,trg,ss) {\n\tvar ll=t.length;\n\tif (trg===undefined) { \n\t    return;\n\t} else if (ll===0) {\n\t    trg=ss;\n\t    return trg;\n\t} else {\n\t    var tt=trg;\n\t    for (var ii=0;ii<ll-1;ii++) {\n\t\tif (tt[t[ii]]===undefined) { tt[t[ii]]={} };\n\t\ttt=tt[t[ii]];\n\t    }\n\t    tt[t[ll-1]]=state.Utils.cp(ss)\n\t    //console.log(\"Force copied:\",JSON.stringify(t),JSON.stringify(tt[t[ll-1]]));\n\t    return tt[t[ll-1]];\n\t}\n    }\n    this.setFill=function(state,t,trg,ss) {\n\tvar ll=t.length;\n\tif (trg===undefined) { \n\t    return;\n\t} else if (ll===0) {\n\t    trg=ss;\n\t    return trg;\n\t} else {\n\t    //console.log(\"Trg:\",JSON.stringify(t),\":\",JSON.stringify(trg),\":\",JSON.stringify(ss));\n\t    var tt=trg;\n\t    for (var ii=0;ii<ll-1;ii++) {\n\t\tif (tt[t[ii]]===undefined) { tt[t[ii]]={} };\n\t\ttt=tt[t[ii]];\n\t    }\n\t    if (this.isEmpty(state,tt[t[ll-1]])) {\n\t\ttt[t[ll-1]]=state.Utils.cp(ss);\n\t    }\n\t    return tt[t[ll-1]];\n\t}\n    }\n    this.cpForce=function(state,t,s,trg,src) {\n\tvar ss=this.getItem(state,s,src);\n\tthis.setForce(state,t,trg,ss);\n    }\n    this.cpFill=function(state,t,s,trg,src) {\n\tvar ss=this.getItem(state,s,src);\n\t//console.log(\"Filling:\",s,'->',t,! this.isEmpty(state,ss),JSON.stringify());\n\t//if (! this.isEmpty(state,ss) ) {\n        if (ss !== undefined) {\n\t    this.setFill(state,t,trg,ss);\n\t}\n    };\n    // map src onto target always\n    this.copyForce=function(state,src,trg,map) {\n\tif (src===undefined) {\n\t    console.log(\"ERROR: MapForce with no src.\");\n\t} else if (trg===undefined) {\n\t    console.log(\"ERROR: MapForce with no trg.\");\n\t} else if (map===undefined) {\n\t    console.log(\"ERROR: MapForce with no map.\");\n\t} else {\n\t    var len=map.length\n\t    for (var ii=0;ii<len;ii++){\n\t\tvar t=map[ii][0];\n\t\tvar s=map[ii][1];\n\t\tthis.cpForce(state,t,s,trg,src)\n\t    }\n\t}\n    };\n    // map src onto target if target is empty and src is not\n    this.copyFill=function(state,src,trg,map) {\n\tif (src===undefined) {\n\t    console.log(\"ERROR: MapFill with no src.\");\n\t} else if (trg===undefined) {\n\t    console.log(\"ERROR: MapFill with no trg.\");\n\t} else if (map===undefined) {\n\t    console.log(\"ERROR: MapFill with no map.\");\n\t} else {\n\t    var len=map.length\n\t    for (var ii=0;ii<len;ii++){\n\t\tvar t=map[ii][0];\n\t\tvar s=map[ii][1];\n\t\tthis.cpFill(state,t,s,trg,src)\n\t    }\n\t}\n    };\n    this.invert=function(map) {\n\tvar ret=[];\n\tvar len=map.length;\n\tfor (var ii=0;ii<len;ii++){\n\t    var t=map[ii][0];\n\t    var s=map[ii][1];\n\t    ret.push([s,t]);\n\t}\n\treturn ret;\n    }\n    this.isEmpty=function(state,obj) { // check if obj has any string/number children\n\tvar ret=true;\n\tvar k;\n\tif (obj===undefined) {\n\t    ret=true;\n\t} else {\n\t    var typ=typeof obj;\n\t    if (typ === \"Array\") { // check array children\n\t\tfor (k in obj) {\n\t\t    if (! state.Utils.isEmpty(state,obj[k])) {\n\t\t\tret=false;\n\t\t\t//console.log(\"    =\",typ,ret,k,JSON.stringify(obj[k]));\n\t\t\tbreak;\n\t\t    }\n\t\t}\n\t    } else if (typ === \"object\") { // check hash children\n\t\tfor (k in obj) {\n\t\t    if (obj.hasOwnProperty(k)) {\n\t\t\tif (! state.Utils.isEmpty(state,obj[k])) { \n\t\t\t    ret=false;\n\t\t\t    //console.log(\"    =\",typ,ret,k,JSON.stringify(obj[k]));\n\t\t\t    break;\n\t\t\t}\n\t\t    }\n\t\t}\n\t    } else {\n\t\tret=false;\n\t    }\n\t}\n\t//console.log(\"Type:\",ret,JSON.stringify(obj));\n\treturn ret;\n    };\n    this.prettyJson=function(obj) {\n\tvar f=function(k,v){\n\t    if (Array.isArray(v)) {\n\t\treturn JSON.stringify(v);\n\t    };\n\t    return v;\n\t};\n\tvar json=JSON.stringify(obj,f,\"  \");\n\tjson=json.replace(/\"\\[/g,'[');\n\tjson=json.replace(/\\]\"/g,']');\n\tjson=json.replace(/\\\\\"/g,'\"');\n\t//console.log(\"Replaced:\",json);\n\treturn json;\n    };\n    this.save=function(data, filename, type) {\n\tconsole.log(\"Saving file:\",filename);\n\tvar file = new Blob([data], {type: type});\n\tif (window.navigator.msSaveOrOpenBlob) // IE10+\n            window.navigator.msSaveOrOpenBlob(file, filename);\n\telse { // Others\n            var a = document.createElement(\"a\"),\n                url = URL.createObjectURL(file);\n            a.href = url;\n            a.download = filename;\n            document.body.appendChild(a);\n            a.click();\n            setTimeout(function() {\n\t\tdocument.body.removeChild(a);\n\t\twindow.URL.revokeObjectURL(url);  \n            }, 0);\n\t};\n    };\n};\nexport default Utils;\n    \n","import React, { Component} from 'react';\nimport Dataset  from   './DatasetComponent';\nimport {MuiThemeProvider, withStyles} from '@material-ui/core/styles';\nimport createTheme from '../mui/createTheme'\nimport PropTypes from \"prop-types\";\nimport Header   from    \"./Header\";\nimport Footer   from    \"./Footer\";\nimport BackGroundImage from \"../images/waves.png\";\nimport {black_palette, teal_palette} from '../mui/metMuiThemes'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\n\nimport Colors from '../lib/ColorsLib';\nimport File from '../lib/FileLib';\nimport Database from '../lib/DatabaseLib';\nimport Default from '../lib/DefaultLib';\nimport Html from '../lib/HtmlLib';\nimport Layout from '../lib/LayoutLib';\nimport Matrix from '../lib/MatrixLib';\nimport Navigate from '../lib/NavigateLib';\nimport Path from '../lib/PathLib';\nimport Auto from '../lib/AutoLib';\nimport Show from '../lib/ShowLib';\nimport Threshold from '../lib/ThresholdLib';\nimport Utils from '../lib/UtilsLib';\nimport { SnackbarProvider, withSnackbar } from 'notistack';\n\n\n//top: 'calc(200px + 1em)',\n//        flex: '1 0 auto',\n//\n\nconst styles = theme => ({\n    root: {\n\twidth: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        backgroundImage: `url(${BackGroundImage})`\n    },\n    header: {\n\tposition:'fixed',\n\theight: 'calc(70px + 2%)',\n\tmaxHeight: '70px',\n\twidth: '100%',\n//\tborder:  '1px solid green',\n    },\n    dataset: {\n\tposition:'fixed',\n\tmarginLeft:'5%',\n\ttop: '75px',\n\theight: 'calc(95% - 160px)',\n//\tpadding: '10px',\n\twidth: '90%',\n//\tborder:  '1px solid green',\n        overflowY: 'auto',\n\tmaxHeight: '100%',\n\tmaxWidth: '100%',\n    },\n    content: {\n//\tborder:  '1px solid red',\n///\theight: '100%',\n\twidth: 'calc(98% - 5px)',\n    },\n    footer: {\n\tposition:'fixed',\n\theight: 'calc(90px + 3%)',\n\twidth: '100%',\n\tbottom:0,\n    },\n});\n\n//        backgroundColor: theme.palette.primary.main,\n//        color: '#FFF',\n\n/**\n * The entire app get generated from this container.\n * We set the material UI theme by choosing a primary and secondary color from the metMuiThemes file\n * and creating a color palette with the createTheme method.\n * For information about using the different palettes see material UI documentation\n * \n * This app contains the database, path and matrix states...\n */\nclass App extends Component {\n    constructor(props) {\n\tsuper(props);\n\tthis.state={\n\t    Default:   new Default()   ,\n\t    Colors:    new Colors()    ,\n\t    Layout:    new Layout()    ,\n\t    Path:      new Path()      ,\n\t    Auto:      new Auto()      ,\n\t    Navigate:  new Navigate()  ,\n\t    Show:      new Show()      ,\n\t    File:      new File()  ,\n\t    Database:  new Database()  ,\n\t    Threshold: new Threshold() ,\n\t    Matrix:    new Matrix()    ,\n\t    Html:      new Html()      ,\n\t    Utils:     new Utils()     ,\n\t    React: { App : this },\n\t    cnt:0\n\t};\n\n\tthis.path=this.getpath();\n    };\n    getpath() {\n\tvar path=\"/\";\n\tif (process.env.NODE_ENV !== 'development') {\n            var raw=process.env.PUBLIC_URL;\n            path=raw+path;\n            var pos=raw.indexOf(\"//\");\n            if (pos>0) {\n\t\tpos=pos+3;\n\t\tpos=raw.indexOf(\"/\",pos);\n\t\tpath=path.substring(pos);\n            };\n\t};\n\tconsole.log(\"Using path:\"+path+\":\"+process.env.NODE_ENV+\":\"+process.env.PUBLIC_URL+\":\");\n\treturn [path,(\"alarm/\"+path)];\n    };\n    componentDidMount() {\n\tvar state=this.state;\n\tstate.Default.init(state);\n\tstate.Default.loadDefault(state,\"\",\n\t\t\t\t  [state.Default.processDefault,\n\t\t\t\t   state.Default.makeStart,\n\t\t\t\t   state.Database.init,\n\t\t\t\t   state.Database.updateLoop]\n\t\t\t\t );\n    };\n    componentWillUnmount() {\n    };\n//    tick() {\n//\t// check if database has changed, reload if necessary...\n//\tif (this.state.React.Status !== undefined) {\n//\t    this.state.cnt=this.state.cnt+1;\n//\t    this.state.React.Status.forceUpdate();\n//\t}\n//    };\n    broadcast(msg,variant) {\n        if (variant === undefined) {variant='info';};\n        this.props.enqueueSnackbar(msg, { variant });\n    };\n    render() {\n        const { classes } = this.props;\n\tconst state       = this.state;\n        return (\n             <BrowserRouter>\n                <div className={classes.root}>\n\t\t<Switch>\n                   <Route exact={true} path={this.path[1]} render={() => (\n                        <MuiThemeProvider theme={createTheme(teal_palette, black_palette)}>\n                            <Header  state={state} classes={{header:classes.header}}/>\n                            <Dataset state={state} classes={{dataset:classes.dataset,content:classes.content}}/>\n                            <Footer  state={state} classes={{footer:classes.footer}}/>\n                        </MuiThemeProvider>\n                    )}/>\n                   <Route exact={true} path={this.path[2]} render={() => (\n                        <MuiThemeProvider theme={createTheme(teal_palette, black_palette)}>\n                            <Header  state={state} classes={{header:classes.header}}/>\n                            <Dataset state={state} classes={{dataset:classes.dataset,content:classes.content}}/>\n                            <Footer  state={state} classes={{footer:classes.footer}}/>\n                        </MuiThemeProvider>\n                    )}/>\n\t\t</Switch>\n                </div>\n            </BrowserRouter>\n        );\n    }\n}\n\n//                            <div className={classes.content}>\n//                            </div>\n\n\n//           <SnackbarProvider maxSnack={3}>\n//          </SnackbarProvider>\n\nApp.propTypes = {\n//    classes: PropTypes.object.isRequired,\n    enqueueSnackbar: PropTypes.func.isRequired,\n};\n\n//export default withStyles(styles)(App);\n\nconst MyApp = withStyles(styles)(withSnackbar( App));\n\nfunction IntegrationNotistack() {\n  return (\n    <SnackbarProvider maxSnack={3}>\n      <MyApp />\n    </SnackbarProvider>\n  );\n}\n\nexport default IntegrationNotistack;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport AppComponent from './react/AppComponent';\n\nReactDOM.render(<AppComponent />, document.getElementById('root'));\n\n"],"sourceRoot":""}